/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.22 Copyright (c) 2010-2015, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/*! jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */

/* JSONPath 0.8.0 - XPath for JSON
 *
 * Copyright (c) 2007 Stefan Goessner (goessner.net)
 * Licensed under the MIT (MIT-LICENSE.txt) licence.
 */

/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */

/**
 * @license
 * lodash 3.10.1 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 * Build: `lodash modern -o ./lodash.js`
 */

/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.3.0
 * @date    2015-06-16
 *
 * @license
 * Copyright (C) 2011-2014 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */

/* ***** BEGIN LICENSE BLOCK *****
 * Distributed under the BSD license:
 *
 * Copyright (c) 2010, Ajax.org B.V.
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of Ajax.org B.V. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ***** END LICENSE BLOCK ***** */

/*!
 * jsoneditor.js
 *
 * @brief
 * JSONEditor is a web-based tool to view, edit, and format JSON.
 * It shows data a clear, editable treeview.
 *
 * Supported browsers: Chrome, Firefox, Safari, Opera, Internet Explorer 8+
 *
 * @license
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 *
 * Copyright (c) 2011-2014 Jos de Jong, http://jsoneditoronline.org
 *
 * @author  Jos de Jong, <wjosdejong@gmail.com>
 * @version 3.1.2
 * @date    2014-09-03
 */

/**
 * jQuery contextMenu v2.5.0 - Plugin for simple contextMenu handling
 *
 * Version: v2.5.0
 *
 * Authors: Björn Brala (SWIS.nl), Rodney Rehm, Addy Osmani (patches for FF)
 * Web: http://swisnl.github.io/jQuery-contextMenu/
 *
 * Copyright (c) 2011-2017 SWIS BV and contributors
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 * Date: 2017-08-30T12:41:32.950Z
 */

/*!
 * Bootstrap v3.2.0 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

/*! jQuery UI - v1.11.4 - 2015-03-11
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

/* jQuery Plugin jsPanel version 2.5.5 - Copyright (c) 2014-15 Stefan Str��er, <http://jspanel.de/> <http://opensource.org/licenses/MIT> */

var requirejs,require,define;(function(global){function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){if(n||!hasProp(e,i))r&&typeof t=="object"&&t&&!isArray(t)&&!isFunction(t)&&!(t instanceof RegExp)?(e[i]||(e[i]={}),mixin(e[i],t,n,r)):e[i]=t}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function m(e){var t,n;for(t=0;t<e.length;t++){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===0||t===1&&e[2]===".."||e[t-1]==="..")continue;t>0&&(e.splice(t-1,2),t-=2)}}}function g(e,t,n){var r,i,s,u,a,f,l,c,h,p,d,v,g=t&&t.split("/"),y=o.map,b=y&&y["*"];e&&(e=e.split("/"),l=e.length-1,o.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),e[0].charAt(0)==="."&&g&&(v=g.slice(0,g.length-1),e=v.concat(e)),m(e),e=e.join("/"));if(n&&y&&(g||b)){s=e.split("/");e:for(u=s.length;u>0;u-=1){f=s.slice(0,u).join("/");if(g)for(a=g.length;a>0;a-=1){i=getOwn(y,g.slice(0,a).join("/"));if(i){i=getOwn(i,f);if(i){c=i,h=u;break e}}}!p&&b&&getOwn(b,f)&&(p=getOwn(b,f),d=u)}!c&&p&&(c=p,h=d),c&&(s.splice(0,h,c),e=s.join("/"))}return r=getOwn(o.pkgs,e),r?r:e}function y(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName)return t.parentNode.removeChild(t),!0})}function b(e){var t=getOwn(o.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),r.require.undef(e),r.makeRequire(null,{skipMap:!0})([e]),!0}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e,t,n,i){var s,o,u,a,f=null,l=t?t.name:null,h=e,p=!0,m="";return e||(p=!1,e="_@r"+(d+=1)),a=w(e),f=a[0],e=a[1],f&&(f=g(f,l,i),o=getOwn(c,f)),e&&(f?o&&o.normalize?m=o.normalize(e,function(e){return g(e,l,i)}):m=e.indexOf("!")===-1?g(e,l,i):e:(m=g(e,l,i),a=w(m),f=a[0],m=a[1],n=!0,s=r.nameToUrl(m))),u=f&&!o&&!n?"_unnormalized"+(v+=1):"",{prefix:f,name:m,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:p,id:(f?f+"!"+m:m)+u}}function S(e){var t=e.id,n=getOwn(u,t);return n||(n=u[t]=new r.Module(e)),n}function x(e,t,n){var r=e.id,i=getOwn(u,r);hasProp(c,r)&&(!i||i.defineEmitComplete)?t==="defined"&&n(c[r]):(i=S(e),i.error&&t==="error"?n(i.error):i.on(t,n))}function T(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(u,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function N(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];typeof t=="string"&&(r.defQueueMap[t]=!0),l.push(e)}),globalDefQueue=[])}function C(e){delete u[e],delete a[e]}function k(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var s=r.id,o=getOwn(u,s);o&&!e.depMatched[i]&&!n[s]&&(getOwn(t,s)?(e.defineDep(i,c[s]),e.check()):k(o,t,n))}),n[r]=!0)}function L(){var e,n,i=o.waitSeconds*1e3,u=i&&r.startTime+i<(new Date).getTime(),f=[],l=[],c=!1,h=!0;if(t)return;t=!0,eachProp(a,function(e){var t=e.map,r=t.id;if(!e.enabled)return;t.isDefine||l.push(e);if(!e.error)if(!e.inited&&u)b(r)?(n=!0,c=!0):(f.push(r),y(r));else if(!e.inited&&e.fetched&&t.isDefine){c=!0;if(!t.prefix)return h=!1}});if(u&&f.length)return e=makeError("timeout","Load timeout for modules: "+f,null,f),e.contextName=r.contextName,T(e);h&&each(l,function(e){k(e,{},{})}),(!u||n)&&c&&(isBrowser||isWebWorker)&&!s&&(s=setTimeout(function(){s=0,L()},50)),t=!1}function A(e){hasProp(c,e[0])||S(E(e[0],null,!0)).init(e[1],e[2])}function O(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function M(e){var t=e.currentTarget||e.srcElement;return O(t,r.onScriptLoad,"load","onreadystatechange"),O(t,r.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function _(){var e;N();while(l.length){e=l.shift();if(e[0]===null)return T(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));A(e)}r.defQueueMap={}}var t,n,r,i,s,o={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},u={},a={},f={},l=[],c={},h={},p={},d=1,v=1;return i={require:function(e){return e.require?e.require:e.require=r.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?c[e.map.id]=e.exports:e.exports=c[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(o.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},n=function(e){this.events=getOwn(f,e.id)||{},this.map=e,this.shim=getOwn(o.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},n.prototype={init:function(e,t,n,r){r=r||{};if(this.inited)return;this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check()},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(this.fetched)return;this.fetched=!0,r.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))},load:function(){var e=this.map.url;h[e]||(h[e]=!0,r.load(this.map.id,e))},check:function(){if(!this.enabled||this.enabling)return;var e,t,n=this.map.id,i=this.depExports,s=this.exports,o=this.factory;if(!this.inited)hasProp(r.defQueueMap,n)||this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(o)){try{s=r.execCb(n,o,i,s)}catch(u){e=u}this.map.isDefine&&s===undefined&&(t=this.module,t?s=t.exports:this.usingExports&&(s=this.exports));if(e){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",T(this.error=e);typeof console!="undefined"&&console.error?console.error(e):req.onError(e)}}else s=o;this.exports=s;if(this.map.isDefine&&!this.ignore){c[n]=s;if(req.onResourceLoad){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(r,this.map,a)}}C(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){var e=this.map,t=e.id,n=E(e.prefix);this.depMaps.push(n),x(n,"defined",bind(this,function(n){var i,s,a,f=getOwn(p,this.map.id),l=this.map.name,c=this.map.parentMap?this.map.parentMap.name:null,h=r.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){n.normalize&&(l=n.normalize(l,function(e){return g(e,c,!0)})||""),s=E(e.prefix+"!"+l,this.map.parentMap),x(s,"defined",bind(this,function(e){this.map.normalizedMap=s,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),a=getOwn(u,s.id),a&&(this.depMaps.push(s),this.events.error&&a.on("error",bind(this,function(e){this.emit("error",e)})),a.enable());return}if(f){this.map.url=r.nameToUrl(f),this.load();return}i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(u,function(e){e.map.id.indexOf(t+"_unnormalized")===0&&C(e.map.id)}),T(e)}),i.fromText=bind(this,function(n,s){var u=e.name,a=E(u),f=useInteractive;s&&(n=s),f&&(useInteractive=!1),S(a),hasProp(o.config,t)&&(o.config[u]=o.config[t]);try{req.exec(n)}catch(l){return T(makeError("fromtexteval","fromText eval for "+t+" failed: "+l,l,[t]))}f&&(useInteractive=!0),this.depMaps.push(a),r.completeLoad(u),h([u],i)}),n.load(e.name,h,i,o)})),r.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){a[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,s,o;if(typeof e=="string"){e=E(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(i,e.id);if(o){this.depExports[t]=o(this);return}this.depCount+=1,x(e,"defined",bind(this,function(e){if(this.undefed)return;this.defineDep(t,e),this.check()})),this.errback?x(e,"error",bind(this,this.errback)):this.events.error&&x(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,s=u[n],!hasProp(i,n)&&s&&!s.enabled&&r.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(u,e.id);t&&!t.enabled&&r.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},r={config:o,contextName:e,registry:u,defined:c,urlFetched:h,defQueue:l,defQueueMap:{},Module:n,makeModuleMap:E,nextTick:req.nextTick,onError:T,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var t=o.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(o[t]||(o[t]={}),mixin(o[t],e,!0,!0)):o[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(p[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=r.makeShimExports(e)),t[n]=e}),o.shim=t),e.packages&&each(e.packages,function(e){var t,n;e=typeof e=="string"?{name:e}:e,n=e.name,t=e.location,t&&(o.paths[n]=e.location),o.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(u,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=E(t,null,!0))}),(e.deps||e.callback)&&r.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function s(o,a,f){var l,h,p;return n.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),typeof o=="string"?isFunction(a)?T(makeError("requireargs","Invalid require call"),f):t&&hasProp(i,o)?i[o](u[t.id]):req.get?req.get(r,o,t,s):(h=E(o,t,!1,!0),l=h.id,hasProp(c,l)?c[l]:T(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(_(),r.nextTick(function(){_(),p=S(E(null,t)),p.skipMap=n.skipMap,p.init(o,a,f,{enabled:!0}),L()}),s)}return n=n||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),s=e.split("/")[0],o=s==="."||s==="..";return i!==-1&&(!o||i>1)&&(n=e.substring(i,e.length),e=e.substring(0,i)),r.nameToUrl(g(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(c,E(e,t,!1,!0).id)},specified:function(e){return e=E(e,t,!1,!0).id,hasProp(c,e)||hasProp(u,e)}}),t||(s.undef=function(e){N();var n=E(e,t,!0),i=getOwn(u,e);i.undefed=!0,y(e),delete c[e],delete h[n.url],delete f[e],eachReverse(l,function(t,n){t[0]===e&&l.splice(n,1)}),delete r.defQueueMap[e],i&&(i.events.defined&&(f[e]=i.events),C(e))}),s},enable:function(e){var t=getOwn(u,e.id);t&&S(e).enable()},completeLoad:function(e){var t,n,i,s=getOwn(o.shim,e)||{},a=s.exports;N();while(l.length){n=l.shift();if(n[0]===null){n[0]=e;if(t)break;t=!0}else n[0]===e&&(t=!0);A(n)}r.defQueueMap={},i=getOwn(u,e);if(!t&&!hasProp(c,e)&&i&&!i.inited){if(o.enforceDefine&&(!a||!getGlobal(a))){if(b(e))return;return T(makeError("nodefine","No define call for "+e,null,[e]))}A([e,s.deps||[],s.exportsFn])}L()},nameToUrl:function(e,t,n){var i,s,u,a,f,l,c,h=getOwn(o.pkgs,e);h&&(e=h),c=getOwn(p,e);if(c)return r.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))f=e+(t||"");else{i=o.paths,s=e.split("/");for(u=s.length;u>0;u-=1){a=s.slice(0,u).join("/"),l=getOwn(i,a);if(l){isArray(l)&&(l=l[0]),s.splice(0,u,l);break}}f=s.join("/"),f+=t||(/^data\:|\?/.test(f)||n?"":".js"),f=(f.charAt(0)==="/"||f.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+f}return o.urlArgs?f+((f.indexOf("?")===-1?"?":"&")+o.urlArgs):f},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=M(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=M(e);if(!b(t.id)){var n=[];return eachProp(u,function(e,r){r.indexOf("_@r")!==0&&each(e.depMaps,function(e){return e.id===t.id&&n.push(r),!0})}),T(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},r.require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(e){if(e.readyState==="interactive")return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.22",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,isBrowser=typeof window!="undefined"&&typeof navigator!="undefined"&&!!window.document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(e,t,n,r){var i,s,o=defContextName;return!isArray(e)&&typeof e!="string"&&(s=e,isArray(t)?(e=t,t=n,n=r):e=[]),s&&s.context&&(o=s.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),s&&i.configure(s),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=typeof setTimeout!="undefined"?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r=e&&e.config||{},i;if(isBrowser)return i=req.createNode(r,t,n),r.onNodeCreated&&r.onNodeCreated(i,r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)):(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(s){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,s,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){head||(head=e.parentNode),dataMain=e.getAttribute("data-main");if(dataMain)return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),i?(i.defQueue.push([e,t,n]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)})(this),define("requireLib",function(){}),define("../components/require-css/normalize",[],function(){function s(e,i,s){if(e.match(r)||e.match(n))return e;e=t(e);var a=s.match(n),f=i.match(n);return f&&(!a||a[1]!=f[1]||a[2]!=f[2])?o(e,i):u(o(e,i),s)}function o(e,t){e.substr(0,2)=="./"&&(e=e.substr(2));if(e.match(r)||e.match(n))return e;var i=t.split("/"),s=e.split("/");i.pop();while(curPart=s.shift())curPart==".."?i.pop():i.push(curPart);return i.join("/")}function u(e,t){var n=t.split("/");n.pop(),t=n.join("/")+"/",i=0;while(t.substr(i,1)==e.substr(i,1))i++;while(t.substr(i,1)!="/")i--;t=t.substr(i+1),e=e.substr(i+1),n=t.split("/");var r=e.split("/");out="";while(n.shift())out+="../";while(curPart=r.shift())out+=curPart+"/";return out.substr(0,out.length-1)}var e=/([^:])\/+/g,t=function(t){return t.replace(e,"$1/")},n=/[^\:\/]*:\/\/([^\/])*/,r=/^(\/|data:)/,a=function(e,n,r){n=t(n),r=t(r);var i=/@import\s*("([^"]*)"|'([^']*)')|url\s*\((?!#)\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/ig,o,u,e;while(o=i.exec(e)){u=o[3]||o[2]||o[5]||o[6]||o[4];var a;a=s(u,n,r);var f=o[5]||o[6]?1:0;e=e.substr(0,i.lastIndex-u.length-f-1)+a+e.substr(i.lastIndex-f-1),i.lastIndex=i.lastIndex+(a.length-u.length)}return e};return a.convertURIBase=s,a.absoluteURI=o,a.relativeURI=u,a}),define("../components/require-css/css.min",[],function(){if("undefined"==typeof window)return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,n=!1,r=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]?r=!1:t[4]&&(n=parseInt(t[4])<18);var i={};i.pluginBuilder="./css-builder";var s,o,u,a=function(){s=document.createElement("style"),e.appendChild(s),o=s.styleSheet||s.sheet},f=0,l=[],c=function(e){o.addImport(e),s.onload=function(){h()},f++,31==f&&(a(),f=0)},h=function(){u();var e=l.shift();return e?(u=e[1],void c(e[0])):void (u=null)},p=function(e,t){if(o&&o.addImport||a(),o&&o.addImport)u?l.push([e,t]):(c(e),u=t);else{s.textContent='@import "'+e+'";';var n=setInterval(function(){try{s.sheet.cssRules,clearInterval(n),t()}catch(e){}},10)}},d=function(t,n){var i=document.createElement("link");if(i.type="text/css",i.rel="stylesheet",r)i.onload=function(){i.onload=function(){},setTimeout(n,7)};else var s=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==i.href)return clearInterval(s),n()}},10);i.href=t,e.appendChild(i)};return i.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},i.load=function(e,t,r,i){(n?p:d)(t.toUrl(e+".css"),r)},i}),define("../components/require-css/css.min!../style",[],function(){}),!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function v(e,t){t=t||r;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function S(e){var t=!!e&&"length"in e&&e.length,n=g.type(e);return"function"!==n&&!g.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function O(e,t,n){return g.isFunction(t)?g.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?g.grep(e,function(e){return e===t!==n}):"string"!=typeof t?g.grep(e,function(e){return a.call(t,e)>-1!==n}):A.test(t)?g.filter(t,e,n):(t=g.filter(t,e),g.grep(e,function(e){return a.call(t,e)>-1!==n&&1===e.nodeType}))}function B(e,t){while((e=e[t])&&1!==e.nodeType);return e}function F(e){var t={};return g.each(e.match(j)||[],function(e,n){t[n]=!0}),t}function I(e){return e}function q(e){throw e}function R(e,t,n,r){var i;try{e&&g.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&g.isFunction(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function W(){r.removeEventListener("DOMContentLoaded",W),e.removeEventListener("load",W),g.ready()}function $(){this.expando=g.expando+$.uid++}function Y(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Q.test(e)?JSON.parse(e):e)}function Z(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(G,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=Y(n)}catch(i){}K.set(e,t,n)}else n=void 0;return n}function st(e,t,n,r){var i,s=1,o=20,u=r?function(){return r.cur()}:function(){return g.css(e,t,"")},a=u(),f=n&&n[3]||(g.cssNumber[t]?"":"px"),l=(g.cssNumber[t]||"px"!==f&&+a)&&tt.exec(g.css(e,t));if(l&&l[3]!==f){f=f||l[3],n=n||[],l=+a||1;do s=s||".5",l/=s,g.style(e,t,l+f);while(s!==(s=u()/a)&&1!==s&&--o)}return n&&(l=+l||+a||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=f,r.start=l,r.end=i)),i}function ut(e){var t,n=e.ownerDocument,r=e.nodeName,i=ot[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=g.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ot[r]=i,i)}function at(e,t){for(var n,r,i=[],s=0,o=e.length;s<o;s++)r=e[s],r.style&&(n=r.style.display,t?("none"===n&&(i[s]=J.get(r,"display")||null,i[s]||(r.style.display="")),""===r.style.display&&rt(r)&&(i[s]=ut(r))):"none"!==n&&(i[s]="none",J.set(r,"display",n)));for(s=0;s<o;s++)null!=i[s]&&(e[s].style.display=i[s]);return e}function pt(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&k(e,t)?g.merge([e],n):n}function dt(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}function mt(e,t,n,r,i){for(var s,o,u,a,f,l,c=t.createDocumentFragment(),h=[],p=0,d=e.length;p<d;p++)if(s=e[p],s||0===s)if("object"===g.type(s))g.merge(h,s.nodeType?[s]:s);else if(vt.test(s)){o=o||c.appendChild(t.createElement("div")),u=(lt.exec(s)||["",""])[1].toLowerCase(),a=ht[u]||ht._default,o.innerHTML=a[1]+g.htmlPrefilter(s)+a[2],l=a[0];while(l--)o=o.lastChild;g.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(t.createTextNode(s));c.textContent="",p=0;while(s=h[p++])if(r&&g.inArray(s,r)>-1)i&&i.push(s);else if(f=g.contains(s.ownerDocument,s),o=pt(c.appendChild(s),"script"),f&&dt(o),n){l=0;while(s=o[l++])ct.test(s.type||"")&&n.push(s)}return c}function Et(){return!0}function St(){return!1}function xt(){try{return r.activeElement}catch(e){}}function Tt(e,t,n,r,i,s){var o,u;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(u in t)Tt(e,u,n,r,t[u],s);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=St;else if(!i)return e;return 1===s&&(o=i,i=function(e){return g().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=g.guid++)),e.each(function(){g.event.add(this,t,i,r,n)})}function Ot(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")?g(">tbody",e)[0]||e:e}function Mt(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _t(e){var t=Lt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Dt(e,t){var n,r,i,s,o,u,a,f;if(1===t.nodeType){if(J.hasData(e)&&(s=J.access(e),o=J.set(t,s),f=s.events)){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;n<r;n++)g.event.add(t,i,f[i][n])}K.hasData(e)&&(u=K.access(e),a=g.extend({},u),K.set(t,a))}}function Pt(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ft.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ht(e,t,n,r){t=o.apply([],t);var i,s,u,a,f,l,c=0,h=e.length,p=h-1,m=t[0],y=g.isFunction(m);if(y||h>1&&"string"==typeof m&&!d.checkClone&&kt.test(m))return e.each(function(i){var s=e.eq(i);y&&(t[0]=m.call(this,i,s.html())),Ht(s,t,n,r)});if(h&&(i=mt(t,e[0].ownerDocument,!1,e,r),s=i.firstChild,1===i.childNodes.length&&(i=s),s||r)){for(u=g.map(pt(i,"script"),Mt),a=u.length;c<h;c++)f=i,c!==p&&(f=g.clone(f,!0,!0),a&&g.merge(u,pt(f,"script"))),n.call(e[c],f,c);if(a)for(l=u[u.length-1].ownerDocument,g.map(u,_t),c=0;c<a;c++)f=u[c],ct.test(f.type||"")&&!J.access(f,"globalEval")&&g.contains(l,f)&&(f.src?g._evalUrl&&g._evalUrl(f.src):v(f.textContent.replace(At,""),l))}return e}function Bt(e,t,n){for(var r,i=t?g.filter(t,e):e,s=0;null!=(r=i[s]);s++)n||1!==r.nodeType||g.cleanData(pt(r)),r.parentNode&&(n&&g.contains(r.ownerDocument,r)&&dt(pt(r,"script")),r.parentNode.removeChild(r));return e}function qt(e,t,n){var r,i,s,o,u=e.style;return n=n||It(e),n&&(o=n.getPropertyValue(t)||n[t],""!==o||g.contains(e.ownerDocument,e)||(o=g.style(e,t)),!d.pixelMarginRight()&&Ft.test(o)&&jt.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),void 0!==o?o+"":o}function Rt(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function Jt(e){if(e in $t)return e;var t=e[0].toUpperCase()+e.slice(1),n=Vt.length;while(n--)if(e=Vt[n]+t,e in $t)return e}function Kt(e){var t=g.cssProps[e];return t||(t=g.cssProps[e]=Jt(e)||e),t}function Qt(e,t,n){var r=tt.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Gt(e,t,n,r,i){var s,o=0;for(s=n===(r?"border":"content")?4:"width"===t?1:0;s<4;s+=2)"margin"===n&&(o+=g.css(e,n+nt[s],!0,i)),r?("content"===n&&(o-=g.css(e,"padding"+nt[s],!0,i)),"margin"!==n&&(o-=g.css(e,"border"+nt[s]+"Width",!0,i))):(o+=g.css(e,"padding"+nt[s],!0,i),"padding"!==n&&(o+=g.css(e,"border"+nt[s]+"Width",!0,i)));return o}function Yt(e,t,n){var r,i=It(e),s=qt(e,t,i),o="border-box"===g.css(e,"boxSizing",!1,i);return Ft.test(s)?s:(r=o&&(d.boxSizingReliable()||s===e.style[t]),"auto"===s&&(s=e["offset"+t[0].toUpperCase()+t.slice(1)]),s=parseFloat(s)||0,s+Gt(e,t,n||(o?"border":"content"),r,i)+"px")}function Zt(e,t,n,r,i){return new Zt.prototype.init(e,t,n,r,i)}function sn(){tn&&(r.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(sn):e.setTimeout(sn,g.fx.interval),g.fx.tick())}function on(){return e.setTimeout(function(){en=void 0}),en=g.now()}function un(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=nt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function an(e,t,n){for(var r,i=(cn.tweeners[t]||[]).concat(cn.tweeners["*"]),s=0,o=i.length;s<o;s++)if(r=i[s].call(n,t,e))return r}function fn(e,t,n){var r,i,s,o,u,a,f,l,c="width"in t||"height"in t,h=this,p={},d=e.style,v=e.nodeType&&rt(e),m=J.get(e,"fxshow");n.queue||(o=g._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,u=o.empty.fire,o.empty.fire=function(){o.unqueued||u()}),o.unqueued++,h.always(function(){h.always(function(){o.unqueued--,g.queue(e,"fx").length||o.empty.fire()})}));for(r in t)if(i=t[r],nn.test(i)){if(delete t[r],s=s||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;v=!0}p[r]=m&&m[r]||g.style(e,r)}if(a=!g.isEmptyObject(t),a||!g.isEmptyObject(p)){c&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],f=m&&m.display,null==f&&(f=J.get(e,"display")),l=g.css(e,"display"),"none"===l&&(f?l=f:(at([e],!0),f=e.style.display||f,l=g.css(e,"display"),at([e]))),("inline"===l||"inline-block"===l&&null!=f)&&"none"===g.css(e,"float")&&(a||(h.done(function(){d.display=f}),null==f&&(l=d.display,f="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),a=!1;for(r in p)a||(m?"hidden"in m&&(v=m.hidden):m=J.access(e,"fxshow",{display:f}),s&&(m.hidden=!v),v&&at([e],!0),h.done(function(){v||at([e]),J.remove(e,"fxshow");for(r in p)g.style(e,r,p[r])})),a=an(v?m[r]:0,r,h),r in m||(m[r]=a.start,v&&(a.end=a.start,a.start=0))}}function ln(e,t){var n,r,i,s,o;for(n in e)if(r=g.camelCase(n),i=t[r],s=e[n],Array.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=g.cssHooks[r],o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}function cn(e,t,n){var r,i,s=0,o=cn.prefilters.length,u=g.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;for(var t=en||on(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(a||u.notifyWith(e,[f,1,0]),u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:g.extend({},t),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},n),originalProperties:t,originalOptions:n,startTime:en||on(),duration:n.duration,tweens:[],createTween:function(t,n){var r=g.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)f.tweens[n].run(1);return t?(u.notifyWith(e,[f,1,0]),u.resolveWith(e,[f,t])):u.rejectWith(e,[f,t]),this}}),l=f.props;for(ln(l,f.opts.specialEasing);s<o;s++)if(r=cn.prefilters[s].call(f,e,l,f.opts))return g.isFunction(r.stop)&&(g._queueHooks(f.elem,f.opts.queue).stop=g.proxy(r.stop,r)),r;return g.map(l,an,f),g.isFunction(f.opts.start)&&f.opts.start.call(e,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),g.fx.timer(g.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f}function mn(e){var t=e.match(j)||[];return t.join(" ")}function gn(e){return e.getAttribute&&e.getAttribute("class")||""}function kn(e,t,n,r){var i;if(Array.isArray(t))g.each(t,function(t,i){n||xn.test(e)?r(e,i):kn(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==g.type(t))r(e,t);else for(i in t)kn(e+"["+i+"]",t[i],n,r)}function In(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(j)||[];if(g.isFunction(n))while(r=s[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,t,n,r){function o(u){var a;return i[u]=!0,g.each(e[u]||[],function(e,u){var f=u(t,n,r);return"string"!=typeof f||s||i[f]?s?!(a=f):void 0:(t.dataTypes.unshift(f),o(f),!1)}),a}var i={},s=e===Bn;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Rn(e,t){var n,r,i=g.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&g.extend(!0,e,r),e}function Un(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while("*"===a[0])a.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==a[0]&&a.unshift(s),n[s]}function zn(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}var n=[],r=e.document,i=Object.getPrototypeOf,s=n.slice,o=n.concat,u=n.push,a=n.indexOf,f={},l=f.toString,c=f.hasOwnProperty,h=c.toString,p=h.call(Object),d={},m="3.2.1",g=function(e,t){return new g.fn.init(e,t)},y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b=/^-ms-/,w=/-([a-z])/g,E=function(e,t){return t.toUpperCase()};g.fn=g.prototype={jquery:m,constructor:g,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=g.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return g.each(this,e)},map:function(e){return this.pushStack(g.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:n.sort,splice:n.splice},g.extend=g.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;for("boolean"==typeof o&&(f=o,o=arguments[u]||{},u++),"object"==typeof o||g.isFunction(o)||(o={}),u===a&&(o=this,u--);u<a;u++)if(null!=(e=arguments[u]))for(t in e)n=o[t],r=e[t],o!==r&&(f&&r&&(g.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,s=n&&Array.isArray(n)?n:[]):s=n&&g.isPlainObject(n)?n:{},o[t]=g.extend(f,s,r)):void 0!==r&&(o[t]=r));return o},g.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===g.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=g.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!!e&&"[object Object]"===l.call(e)&&(!(t=i(e))||(n=c.call(t,"constructor")&&t.constructor,"function"==typeof n&&h.call(n)===p))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[l.call(e)]||"object":typeof e},globalEval:function(e){v(e)},camelCase:function(e){return e.replace(b,"ms-").replace(w,E)},each:function(e,t){var n,r=0;if(S(e)){for(n=e.length;r<n;r++)if(t.call(e[r],r,e[r])===!1)break}else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(y,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?g.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,o=e.length,u=!n;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,i,s=0,u=[];if(S(e))for(r=e.length;s<r;s++)i=t(e[s],s,n),null!=i&&u.push(i);else for(s in e)i=t(e[s],s,n),null!=i&&u.push(i);return o.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g.isFunction(e))return r=s.call(arguments,2),i=function(){return e.apply(t||this,r.concat(s.call(arguments)))},i.guid=e.guid=e.guid||g.guid++,i},now:Date.now,support:d}),"function"==typeof Symbol&&(g.fn[Symbol.iterator]=n[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()});var x=function(e){function ot(e,t,r,i){var s,u,f,l,c,d,g,y=t&&t.ownerDocument,S=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return r;if(!i&&((t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,v)){if(11!==S&&(c=G.exec(e)))if(s=c[1]){if(9===S){if(!(f=t.getElementById(s)))return r;if(f.id===s)return r.push(f),r}else if(y&&(f=y.getElementById(s))&&b(t,f)&&f.id===s)return r.push(f),r}else{if(c[2])return _.apply(r,t.getElementsByTagName(e)),r;if((s=c[3])&&n.getElementsByClassName&&t.getElementsByClassName)return _.apply(r,t.getElementsByClassName(s)),r}if(n.qsa&&!C[e+" "]&&(!m||!m.test(e))){if(1!==S)y=t,g=e;else if("object"!==t.nodeName.toLowerCase()){(l=t.getAttribute("id"))?l=l.replace(tt,nt):t.setAttribute("id",l=w),d=o(e),u=d.length;while(u--)d[u]="#"+l+" "+yt(d[u]);g=d.join(","),y=Y.test(e)&&mt(t.parentNode)||t}if(g)try{return _.apply(r,y.querySelectorAll(g)),r}catch(x){}finally{l===w&&t.removeAttribute("id")}}}return a(e.replace(R,"$1"),t,r,i)}function ut(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function at(e){return e[w]=!0,e}function ft(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function dt(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&it(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function vt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function mt(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function gt(){}function yt(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function bt(e,t,n){var r=t.dir,i=t.next,s=i||r,o=n&&"parentNode"===s,u=x++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||o)return e(t,n,i);return!1}:function(t,n,a){var f,l,c,h=[S,u];if(a){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,a))return!0}else while(t=t[r])if(1===t.nodeType||o)if(c=t[w]||(t[w]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((f=l[s])&&f[0]===S&&f[1]===u)return h[2]=f[2];if(l[s]=h,h[2]=e(t,n,a))return!0}return!1}}function wt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Et(e,t,n){for(var r=0,i=t.length;r<i;r++)ot(e,t[r],n);return n}function St(e,t,n,r,i){for(var s,o=[],u=0,a=e.length,f=null!=t;u<a;u++)(s=e[u])&&(n&&!n(s,r,i)||(o.push(s),f&&t.push(u)));return o}function xt(e,t,n,r,i,s){return r&&!r[w]&&(r=xt(r)),i&&!i[w]&&(i=xt(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||Et(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:St(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=St(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=St(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function Tt(e){for(var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=bt(function(e){return e===t},u,!0),c=bt(function(e){return P(t,e)>-1},u,!0),h=[function(e,n,r){var i=!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,i}];a<s;a++)if(n=r.relative[e[a].type])h=[bt(wt(h),n)];else{if(n=r.filter[e[a].type].apply(null,e[a].matches),n[w]){for(i=++a;i<s;i++)if(r.relative[e[i].type])break;return xt(a>1&&wt(h),a>1&&yt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(R,"$1"),n,a<i&&Tt(e.slice(a,i)),i<s&&Tt(e=e.slice(i)),i<s&&yt(e))}h.push(n)}return wt(h)}function Nt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,d,m,g=0,y="0",b=s&&[],w=[],E=f,x=s||i&&r.find.TAG("*",l),T=S+=null==E?1:Math.random()||.1,N=x.length;for(l&&(f=o===p||o||l);y!==N&&null!=(c=x[y]);y++){if(i&&c){d=0,o||c.ownerDocument===p||(h(c),u=!v);while(m=e[d++])if(m(c,o||p,u)){a.push(c);break}l&&(S=T)}n&&((c=!m&&c)&&g--,s&&b.push(c))}if(g+=y,n&&y!==g){d=0;while(m=t[d++])m(b,w,o,u);if(s){if(g>0)while(y--)b[y]||w[y]||(w[y]=O.call(a));w=St(w)}_.apply(a,w),l&&!s&&w.length>0&&g+t.length>1&&ot.uniqueSort(a)}return l&&(S=T,f=E),b};return n?at(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+1*new Date,E=e.document,S=0,x=0,T=ut(),N=ut(),C=ut(),k=function(e,t){return e===t&&(c=!0),0},L={}.hasOwnProperty,A=[],O=A.pop,M=A.push,_=A.push,D=A.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+B+"*("+j+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+B+"*\\]",I=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",q=new RegExp(B+"+","g"),R=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),U=new RegExp("^"+B+"*,"+B+"*"),z=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),W=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),X=new RegExp(I),V=new RegExp("^"+j+"$"),$={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+I),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),et=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},tt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},rt=function(){h()},it=bt(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{_.apply(A=D.call(E.childNodes),E.childNodes),A[E.childNodes.length].nodeType}catch(st){_={apply:A.length?function(e,t){M.apply(e,D.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=ot.support={},s=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=ot.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:E;return o!==p&&9===o.nodeType&&o.documentElement?(p=o,d=p.documentElement,v=!s(p),E!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),n.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ft(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=ft(function(e){return d.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,et);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&v){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,et);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&v){var n,r,i,s=t.getElementById(e);if(s){if(n=s.getAttributeNode("id"),n&&n.value===e)return[s];i=t.getElementsByName(e),r=0;while(s=i[r++])if(n=s.getAttributeNode("id"),n&&n.value===e)return[s]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&v)return t.getElementsByClassName(e)},g=[],m=[],(n.qsa=Q.test(p.querySelectorAll))&&(ft(function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+B+"*(?:value|"+H+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),ft(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Q.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ft(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),g.push("!=",I)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Q.test(d.compareDocumentPosition),b=t||Q.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===E&&b(E,e)?-1:t===p||t.ownerDocument===E&&b(E,t)?1:l?P(l,e)-P(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,o=[e],u=[t];if(!i||!s)return e===p?-1:t===p?1:i?-1:s?1:l?P(l,e)-P(l,t):0;if(i===s)return ct(e,t);n=e;while(n=n.parentNode)o.unshift(n);n=t;while(n=n.parentNode)u.unshift(n);while(o[r]===u[r])r++;return r?ct(o[r],u[r]):o[r]===E?-1:u[r]===E?1:0},p):p},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(W,"='$1']"),n.matchesSelector&&v&&!C[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return ot(t,p,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},ot.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&L.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==s?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},ot.escape=function(e){return(e+"").replace(tt,nt)},ot.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,r=[],i=0,s=0;if(c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k),c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=ot.getText=function(e){var t,n="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},r=ot.selectors={cacheLength:50,createPseudo:at,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,et),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,et),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,et).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(q," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u,b=!1;if(m){if(s){while(v){h=t;while(h=h[v])if(u?h.nodeName.toLowerCase()===g:1===h.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){h=m,c=h[w]||(h[w]={}),l=c[h.uniqueID]||(c[h.uniqueID]={}),f=l[e]||[],p=f[0]===S&&f[1],b=p&&f[2],h=p&&m.childNodes[p];while(h=++p&&h&&h[v]||(b=p=0)||d.pop())if(1===h.nodeType&&++b&&h===t){l[e]=[S,p,b];break}}else if(y&&(h=t,c=h[w]||(h[w]={}),l=c[h.uniqueID]||(c[h.uniqueID]={}),f=l[e]||[],p=f[0]===S&&f[1],b=p),b===!1)while(h=++p&&h&&h[v]||(b=p=0)||d.pop())if((u?h.nodeName.toLowerCase()===g:1===h.nodeType)&&++b&&(y&&(c=h[w]||(h[w]={}),l=c[h.uniqueID]||(c[h.uniqueID]={}),l[e]=[S,b]),h===t))break;return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=P(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:at(function(e){var t=[],n=[],r=u(e.replace(R,"$1"));return r[w]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return e=e.replace(Z,et),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:at(function(e){return V.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(Z,et).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:vt(function(){return[0]}),last:vt(function(e,t){return[t-1]}),eq:vt(function(e,t,n){return[n<0?n+t:n]}),even:vt(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:vt(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:vt(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:vt(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ht(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pt(t);return gt.prototype=r.filters=r.pseudos,r.setFilters=new gt,o=ot.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){n&&!(i=U.exec(u))||(i&&(u=u.slice(i[0].length)||u),a.push(s=[])),n=!1,(i=z.exec(u))&&(n=i.shift(),s.push({value:n,type:i[0].replace(R," ")}),u=u.slice(n.length));for(o in r.filter)!(i=$[o].exec(u))||f[o]&&!(i=f[o](i))||(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)},u=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=Tt(t[n]),s[w]?r.push(s):i.push(s);s=C(e,Nt(i,r)),s.selector=e}return s},a=ot.select=function(e,t,n,i){var s,a,f,l,c,h="function"==typeof e&&e,p=!i&&o(e=h.selector||e);if(n=n||[],1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(f=a[0]).type&&9===t.nodeType&&v&&r.relative[a[1].type]){if(t=(r.find.ID(f.matches[0].replace(Z,et),t)||[])[0],!t)return n;h&&(t=t.parentNode),e=e.slice(a.shift().value.length)}s=$.needsContext.test(e)?0:a.length;while(s--){if(f=a[s],r.relative[l=f.type])break;if((c=r.find[l])&&(i=c(f.matches[0].replace(Z,et),Y.test(a[0].type)&&mt(t.parentNode)||t))){if(a.splice(s,1),e=i.length&&yt(a),!e)return _.apply(n,i),n;break}}}return(h||u(e,p))(i,t,!v,n,!t||Y.test(e)&&mt(t.parentNode)||t),n},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=ft(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),ft(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ft(function(e){return null==e.getAttribute("disabled")})||lt(H,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ot}(e);g.find=x,g.expr=x.selectors,g.expr[":"]=g.expr.pseudos,g.uniqueSort=g.unique=x.uniqueSort,g.text=x.getText,g.isXMLDoc=x.isXML,g.contains=x.contains,g.escapeSelector=x.escape;var T=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&g(e).is(n))break;r.push(e)}return r},N=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},C=g.expr.match.needsContext,L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,A=/^.[^:#\[\.,]*$/;g.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?g.find.matchesSelector(r,e)?[r]:[]:g.find.matches(e,g.grep(t,function(e){return 1===e.nodeType}))},g.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(g(e).filter(function(){for(t=0;t<r;t++)if(g.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)g.find(e,i[t],n);return r>1?g.uniqueSort(n):n},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"==typeof e&&C.test(e)?g(e):e||[],!1).length}});var M,_=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,D=g.fn.init=function(e,t,n){var i,s;if(!e)return this;if(n=n||M,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:_.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof g?t[0]:t,g.merge(this,g.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),L.test(i[1])&&g.isPlainObject(t))for(i in t)g.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return s=r.getElementById(i[2]),s&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g.isFunction(e)?void 0!==n.ready?n.ready(e):e(g):g.makeArray(e,this)};D.prototype=g.fn,M=g(r);var P=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(e){var t=g(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(g.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o="string"!=typeof e&&g(e);if(!C.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&g.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?g.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?a.call(g(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),g.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return B(e,"nextSibling")},prev:function(e){return B(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){return k(e,"iframe")?e.contentDocument:(k(e,"template")&&(e=e.content||e),g.merge([],e.childNodes))}},function(e,t){g.fn[e]=function(n,r){var i=g.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=g.filter(r,i)),this.length>1&&(H[e]||g.uniqueSort(i),P.test(e)&&i.reverse()),this.pushStack(i)}});var j=/[^\x20\t\r\n\f]+/g;g.Callbacks=function(e){e="string"==typeof e?F(e):g.extend({},e);var t,n,r,i,s=[],o=[],u=-1,a=function(){for(i=i||e.once,r=t=!0;o.length;u=-1){n=o.shift();while(++u<s.length)s[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=s.length,n=!1)}e.memory||(n=!1),t=!1,i&&(s=n?[]:"")},f={add:function(){return s&&(n&&!t&&(u=s.length-1,o.push(n)),function r(t){g.each(t,function(t,n){g.isFunction(n)?e.unique&&f.has(n)||s.push(n):n&&n.length&&"string"!==g.type(n)&&r(n)})}(arguments),n&&!t&&a()),this},remove:function(){return g.each(arguments,function(e,t){var n;while((n=g.inArray(t,s,n))>-1)s.splice(n,1),n<=u&&u--}),this},has:function(e){return e?g.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=o=[],s=n="",this},disabled:function(){return!s},lock:function(){return i=o=[],n||t||(s=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],o.push(n),t||a()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},g.extend({Deferred:function(t){var n=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return g.Deferred(function(t){g.each(n,function(n,r){var i=g.isFunction(e[r[4]])&&e[r[4]];s[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var u=this,a=arguments,f=function(){var e,f;if(!(t<s)){if(e=r.apply(u,a),e===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==typeof e||"function"==typeof e)&&e.then,g.isFunction(f)?i?f.call(e,o(s,n,I,i),o(s,n,q,i)):(s++,f.call(e,o(s,n,I,i),o(s,n,q,i),o(s,n,I,n.notifyWith))):(r!==I&&(u=void 0,a=[e]),(i||n.resolveWith)(u,a))}},l=i?f:function(){try{f()}catch(e){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(e,l.stackTrace),t+1>=s&&(r!==q&&(u=void 0,a=[e]),n.rejectWith(u,a))}};t?l():(g.Deferred.getStackHook&&(l.stackTrace=g.Deferred.getStackHook()),e.setTimeout(l))}}var s=0;return g.Deferred(function(e){n[0][3].add(o(0,e,g.isFunction(i)?i:I,e.notifyWith)),n[1][3].add(o(0,e,g.isFunction(t)?t:I)),n[2][3].add(o(0,e,g.isFunction(r)?r:q))}).promise()},promise:function(e){return null!=e?g.extend(e,i):i}},s={};return g.each(n,function(e,t){var o=t[2],u=t[5];i[t[1]]=o.add,u&&o.add(function(){r=u},n[3-e][2].disable,n[0][2].lock),o.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=o.fireWith}),i.promise(s),t&&t.call(s,s),s},when:function(e){var t=arguments.length,n=t,r=Array(n),i=s.call(arguments),o=g.Deferred(),u=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(R(e,o.done(u(n)).resolve,o.reject,!t),"pending"===o.state()||g.isFunction(i[n]&&i[n].then)))return o.then();while(n--)R(i[n],u(n),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&U.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},g.readyException=function(t){e.setTimeout(function(){throw t})};var z=g.Deferred();g.fn.ready=function(e){return z.then(e)["catch"](function(e){g.readyException(e)}),this},g.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--g.readyWait:g.isReady)||(g.isReady=!0,e!==!0&&--g.readyWait>0||z.resolveWith(r,[g]))}}),g.ready.then=z.then,"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(g.ready):(r.addEventListener("DOMContentLoaded",W),e.addEventListener("load",W));var X=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=null==n;if("object"===g.type(n)){i=!0;for(u in n)X(e,t,u,n[u],!0,s,o)}else if(void 0!==r&&(i=!0,g.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(g(e),n)})),t))for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)));return i?e:f?t.call(e):a?t(e[0],n):s},V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};$.uid=1,$.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[g.camelCase(t)]=n;else for(r in t)i[g.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][g.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(g.camelCase):(t=g.camelCase(t),t=t in r?[t]:t.match(j)||[]),n=t.length;while(n--)delete r[t[n]]}(void 0===t||g.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!g.isEmptyObject(t)}};var J=new $,K=new $,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,G=/[A-Z]/g;g.extend({hasData:function(e){return K.hasData(e)||J.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),g.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(i=K.get(s),1===s.nodeType&&!J.get(s,"hasDataAttrs"))){n=o.length;while(n--)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=g.camelCase(r.slice(5)),Z(s,r,i[r])));J.set(s,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){K.set(this,e)}):X(this,function(t){var n;if(s&&void 0===t){if(n=K.get(s,e),void 0!==n)return n;if(n=Z(s,e),void 0!==n)return n}else this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),g.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,g.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=g.queue(e,t),r=n.length,i=n.shift(),s=g._queueHooks(e,t),o=function(){g.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:g.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),g.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?g.queue(this[0],e):void 0===t?this:this.each(function(){var n=g.queue(this,e,t);g._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&g.dequeue(this,e)})},dequeue:function(e){return this.each(function(){g.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=g.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(o--)n=J.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tt=new RegExp("^(?:([+-])=|)("+et+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],rt=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&g.contains(e.ownerDocument,e)&&"none"===g.css(e,"display")},it=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i},ot={};g.fn.extend({show:function(){return at(this,!0)},hide:function(){return at(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){rt(this)?g(this).show():g(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,lt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ct=/^$|\/(?:java|ecma)script/i,ht={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ht.optgroup=ht.option,ht.tbody=ht.tfoot=ht.colgroup=ht.caption=ht.thead,ht.th=ht.td;var vt=/<|&#?\w+;/;!function(){var e=r.createDocumentFragment(),t=e.appendChild(r.createElement("div")),n=r.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),d.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var gt=r.documentElement,yt=/^key/,bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wt=/^([^.]*)(?:\.(.+)|)/;g.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=J.get(e);if(m){n.handler&&(s=n,n=s.handler,i=s.selector),i&&g.find.matchesSelector(gt,i),n.guid||(n.guid=g.guid++),(a=m.events)||(a=m.events={}),(o=m.handle)||(o=m.handle=function(t){return"undefined"!=typeof g&&g.event.triggered!==t.type?g.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(j)||[""],f=t.length;while(f--)u=wt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort(),p&&(c=g.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=g.event.special[p]||{},l=g.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&g.expr.match.needsContext.test(i),namespace:d.join(".")},s),(h=a[p])||(h=a[p]=[],h.delegateCount=0,c.setup&&c.setup.call(e,r,d,o)!==!1||e.addEventListener&&e.addEventListener(p,o)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),g.event.global[p]=!0)}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=J.hasData(e)&&J.get(e);if(m&&(a=m.events)){t=(t||"").match(j)||[""],f=t.length;while(f--)if(u=wt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort(),p){c=g.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],!i&&v!==l.origType||n&&n.guid!==l.guid||u&&!u.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&(c.teardown&&c.teardown.call(e,d,m.handle)!==!1||g.removeEvent(e,p,m.handle),delete a[p])}else for(p in a)g.event.remove(e,p+t[f],n,r,!0);g.isEmptyObject(a)&&J.remove(e,"handle events")}},dispatch:function(e){var t=g.event.fix(e),n,r,i,s,o,u,a=new Array(arguments.length),f=(J.get(this,"events")||{})[t.type]||[],l=g.event.special[t.type]||{};for(a[0]=t,n=1;n<arguments.length;n++)a[n]=arguments[n];if(t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){u=g.event.handlers.call(this,t,f),n=0;while((s=u[n++])&&!t.isPropagationStopped()){t.currentTarget=s.elem,r=0;while((o=s.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,i=((g.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,s,o,u=[],a=t.delegateCount,f=e.target;if(a&&f.nodeType&&!("click"===e.type&&e.button>=1))for(;f!==this;f=f.parentNode||this)if(1===f.nodeType&&("click"!==e.type||f.disabled!==!0)){for(s=[],o={},n=0;n<a;n++)r=t[n],i=r.selector+" ",void 0===o[i]&&(o[i]=r.needsContext?g(i,this).index(f)>-1:g.find(i,this,null,[f]).length),o[i]&&s.push(r);s.length&&u.push({elem:f,handlers:s})}return f=this,a<t.length&&u.push({elem:f,handlers:t.slice(a)}),u},addProp:function(e,t){Object.defineProperty(g.Event.prototype,e,{enumerable:!0,configurable:!0,get:g.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[g.expando]?e:new g.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===xt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&k(this,"input"))return this.click(),!1},_default:function(e){return k(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},g.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},g.Event=function(e,t){return this instanceof g.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?Et:St,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&g.extend(this,t),this.timeStamp=e&&e.timeStamp||g.now(),void (this[g.expando]=!0)):new g.Event(e,t)},g.Event.prototype={constructor:g.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Et,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Et,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Et,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&yt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&bt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},g.event.addProp),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return i&&(i===r||g.contains(r,i))||(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),g.fn.extend({on:function(e,t,n,r){return Tt(this,e,t,n,r)},one:function(e,t,n,r){return Tt(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,g(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=St),this.each(function(){g.event.remove(this,e,n,t)})}});var Nt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ct=/<script|<style|<link/i,kt=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^true\/(.*)/,At=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;g.extend({htmlPrefilter:function(e){return e.replace(Nt,"<$1></$2>")},clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=g.contains(e.ownerDocument,e);if(!(d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||g.isXMLDoc(e)))for(o=pt(u),s=pt(e),r=0,i=s.length;r<i;r++)Pt(s[r],o[r]);if(t)if(n)for(s=s||pt(e),o=o||pt(u),r=0,i=s.length;r<i;r++)Dt(s[r],o[r]);else Dt(e,u);return o=pt(u,"script"),o.length>0&&dt(o,!a&&pt(e,"script")),u},cleanData:function(e){for(var t,n,r,i=g.event.special,s=0;void 0!==(n=e[s]);s++)if(V(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?g.event.remove(n,r):g.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),g.fn.extend({detach:function(e){return Bt(this,e,!0)},remove:function(e){return Bt(this,e)},text:function(e){return X(this,function(e){return void 0===e?g.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ht(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ot(this,e);t.appendChild(e)}})},prepend:function(){return Ht(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ot(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ht(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ht(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(g.cleanData(pt(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return g.clone(this,e,t)})},html:function(e){return X(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ct.test(e)&&!ht[(lt.exec(e)||["",""])[1].toLowerCase()]){e=g.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(g.cleanData(pt(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ht(this,arguments,function(t){var n=this.parentNode;g.inArray(this,e)<0&&(g.cleanData(pt(this)),n&&n.replaceChild(t,this))},e)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){g.fn[e]=function(e){for(var n,r=[],i=g(e),s=i.length-1,o=0;o<=s;o++)n=o===s?this:this.clone(!0),g(i[o])[t](n),u.apply(r,n.get());return this.pushStack(r)}});var jt=/^margin/,Ft=new RegExp("^("+et+")(?!px)[a-z%]+$","i"),It=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",gt.appendChild(u);var t=e.getComputedStyle(a);n="1%"!==t.top,o="2px"===t.marginLeft,i="4px"===t.width,a.style.marginRight="50%",s="4px"===t.marginRight,gt.removeChild(u),a=null}}var n,i,s,o,u=r.createElement("div"),a=r.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===a.style.backgroundClip,u.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.appendChild(a),g.extend(d,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),s},reliableMarginLeft:function(){return t(),o}}))}();var Ut=/^(none|table(?!-c[ea]).+)/,zt=/^--/,Wt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Vt=["Webkit","Moz","ms"],$t=r.createElement("div").style;g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=qt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,o,u=g.camelCase(t),a=zt.test(t),f=e.style;return a||(t=Kt(u)),o=g.cssHooks[t]||g.cssHooks[u],void 0===n?o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:f[t]:(s=typeof n,"string"===s&&(i=tt.exec(n))&&i[1]&&(n=st(e,t,i),s="number"),null!=n&&n===n&&("number"===s&&(n+=i&&i[3]||(g.cssNumber[u]?"":"px")),d.clearCloneStyle||""!==n||0!==t.indexOf("background")||(f[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(a?f.setProperty(t,n):f[t]=n)),void 0)}},css:function(e,t,n,r){var i,s,o,u=g.camelCase(t),a=zt.test(t);return a||(t=Kt(u)),o=g.cssHooks[t]||g.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=qt(e,t,r)),"normal"===i&&t in Xt&&(i=Xt[t]),""===n||n?(s=parseFloat(i),n===!0||isFinite(s)?s||0:i):i}}),g.each(["height","width"],function(e,t){g.cssHooks[t]={get:function(e,n,r){if(n)return!Ut.test(g.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Yt(e,t,r):it(e,Wt,function(){return Yt(e,t,r)})},set:function(e,n,r){var i,s=r&&It(e),o=r&&Gt(e,t,r,"border-box"===g.css(e,"boxSizing",!1,s),s);return o&&(i=tt.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=g.css(e,t)),Qt(e,n,o)}}}),g.cssHooks.marginLeft=Rt(d.reliableMarginLeft,function(e,t){if(t)return(parseFloat(qt(e,"marginLeft"))||e.getBoundingClientRect().left-it(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(e,t){g.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+nt[r]+t]=s[r]||s[r-2]||s[0];return i}},jt.test(e)||(g.cssHooks[e+t].set=Qt)}),g.fn.extend({css:function(e,t){return X(this,function(e,t,n){var r,i,s={},o=0;if(Array.isArray(t)){for(r=It(e),i=t.length;o<i;o++)s[t[o]]=g.css(e,t[o],!1,r);return s}return void 0!==n?g.style(e,t,n):g.css(e,t)},e,t,arguments.length>1)}}),g.Tween=Zt,Zt.prototype={constructor:Zt,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||g.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(g.cssNumber[n]?"":"px")},cur:function(){var e=Zt.propHooks[this.prop];return e&&e.get?e.get(this):Zt.propHooks._default.get(this)},run:function(e){var t,n=Zt.propHooks[this.prop];return this.options.duration?this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Zt.propHooks._default.set(this),this}},Zt.prototype.init.prototype=Zt.prototype,Zt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=g.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){g.fx.step[e.prop]?g.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[g.cssProps[e.prop]]&&!g.cssHooks[e.prop]?e.elem[e.prop]=e.now:g.style(e.elem,e.prop,e.now+e.unit)}}},Zt.propHooks.scrollTop=Zt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},g.fx=Zt.prototype.init,g.fx.step={};var en,tn,nn=/^(?:toggle|show|hide)$/,rn=/queueHooks$/;g.Animation=g.extend(cn,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return st(n.elem,e,tt.exec(t),n),n}]},tweener:function(e,t){g.isFunction(e)?(t=e,e=["*"]):e=e.match(j);for(var n,r=0,i=e.length;r<i;r++)n=e[r],cn.tweeners[n]=cn.tweeners[n]||[],cn.tweeners[n].unshift(t)},prefilters:[fn],prefilter:function(e,t){t?cn.prefilters.unshift(e):cn.prefilters.push(e)}}),g.speed=function(e,t,n){var r=e&&"object"==typeof e?g.extend({},e):{complete:n||!n&&t||g.isFunction(e)&&e,duration:e,easing:n&&t||t&&!g.isFunction(t)&&t};return g.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in g.fx.speeds?r.duration=g.fx.speeds[r.duration]:r.duration=g.fx.speeds._default),null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){g.isFunction(r.old)&&r.old.call(this),r.queue&&g.dequeue(this,r.queue)},r},g.fn.extend({fadeTo:function(e,t,n,r){return this.filter(rt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=g.isEmptyObject(e),s=g.speed(t,n,r),o=function(){var t=cn(this,g.extend({},e),s);(i||J.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=g.timers,o=J.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&rn.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));!t&&n||g.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=g.timers,o=r?r.length:0;for(n.finish=!0,g.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),g.each(["toggle","show","hide"],function(e,t){var n=g.fn[t];g.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(un(t,!0),e,r,i)}}),g.each({slideDown:un("show"),slideUp:un("hide"),slideToggle:un("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){g.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),g.timers=[],g.fx.tick=function(){var e,t=0,n=g.timers;for(en=g.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||g.fx.stop(),en=void 0},g.fx.timer=function(e){g.timers.push(e),g.fx.start()},g.fx.interval=13,g.fx.start=function(){tn||(tn=!0,sn())},g.fx.stop=function(){tn=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(t,n){return t=g.fx?g.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select"),n=t.appendChild(r.createElement("option"));e.type="checkbox",d.checkOn=""!==e.value,d.optSelected=n.selected,e=r.createElement("input"),e.value="t",e.type="radio",d.radioValue="t"===e.value}();var hn,pn=g.expr.attrHandle;g.fn.extend({attr:function(e,t){return X(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){g.removeAttr(this,e)})}}),g.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof e.getAttribute?g.prop(e,t,n):(1===s&&g.isXMLDoc(e)||(i=g.attrHooks[t.toLowerCase()]||(g.expr.match.bool.test(t)?hn:void 0)),void 0!==n?null===n?void g.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=g.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&k(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(j);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),hn={set:function(e,t,n){return t===!1?g.removeAttr(e,n):e.setAttribute(n,n),n}},g.each(g.expr.match.bool.source.match(/\w+/g),function(e,t){var n=pn[t]||g.find.attr;pn[t]=function(e,t,r){var i,s,o=t.toLowerCase();return r||(s=pn[o],pn[o]=i,i=null!=n(e,t,r)?o:null,pn[o]=s),i}});var dn=/^(?:input|select|textarea|button)$/i,vn=/^(?:a|area)$/i;g.fn.extend({prop:function(e,t){return X(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[g.propFix[e]||e]})}}),g.extend({prop:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&g.isXMLDoc(e)||(t=g.propFix[t]||t,i=g.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=g.find.attr(e,"tabindex");return t?parseInt(t,10):dn.test(e.nodeName)||vn.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),d.optSelected||(g.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this}),g.fn.extend({addClass:function(e){var t,n,r,i,s,o,u,a=0;if(g.isFunction(e))return this.each(function(t){g(this).addClass(e.call(this,t,gn(this)))});if("string"==typeof e&&e){t=e.match(j)||[];while(n=this[a++])if(i=gn(n),r=1===n.nodeType&&" "+mn(i)+" "){o=0;while(s=t[o++])r.indexOf(" "+s+" ")<0&&(r+=s+" ");u=mn(r),i!==u&&n.setAttribute("class",u)}}return this},removeClass:function(e){var t,n,r,i,s,o,u,a=0;if(g.isFunction(e))return this.each(function(t){g(this).removeClass(e.call(this,t,gn(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e){t=e.match(j)||[];while(n=this[a++])if(i=gn(n),r=1===n.nodeType&&" "+mn(i)+" "){o=0;while(s=t[o++])while(r.indexOf(" "+s+" ")>-1)r=r.replace(" "+s+" "," ");u=mn(r),i!==u&&n.setAttribute("class",u)}}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):g.isFunction(e)?this.each(function(n){g(this).toggleClass(e.call(this,n,gn(this),t),t)}):this.each(function(){var t,r,i,s;if("string"===n){r=0,i=g(this),s=e.match(j)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else void 0!==e&&"boolean"!==n||(t=gn(this),t&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+mn(gn(n))+" ").indexOf(t)>-1)return!0;return!1}});var yn=/\r/g;g.fn.extend({val:function(e){var t,n,r,i=this[0];if(arguments.length)return r=g.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,g(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=g.map(i,function(e){return null==e?"":e+""})),t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=g.valHooks[i.type]||g.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(yn,""):null==n?"":n)}}),g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return null!=t?t:mn(g.text(e))}},select:{get:function(e){var t,n,r,i=e.options,s=e.selectedIndex,o="select-one"===e.type,u=o?null:[],a=o?s+1:i.length;for(r=s<0?a:o?s:0;r<a;r++)if(n=i[r],(n.selected||r===s)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(t=g(n).val(),o)return t;u.push(t)}return u},set:function(e,t){var n,r,i=e.options,s=g.makeArray(t),o=i.length;while(o--)r=i[o],(r.selected=g.inArray(g.valHooks.option.get(r),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=g.inArray(g(e).val(),t)>-1}},d.checkOn||(g.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bn=/^(?:focusinfocus|focusoutblur)$/;g.extend(g.event,{trigger:function(t,n,i,s){var o,u,a,f,l,h,p,d=[i||r],v=c.call(t,"type")?t.type:t,m=c.call(t,"namespace")?t.namespace.split("."):[];if(u=a=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!bn.test(v+g.event.triggered)&&(v.indexOf(".")>-1&&(m=v.split("."),v=m.shift(),m.sort()),l=v.indexOf(":")<0&&"on"+v,t=t[g.expando]?t:new g.Event(v,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:g.makeArray(n,[t]),p=g.event.special[v]||{},s||!p.trigger||p.trigger.apply(i,n)!==!1)){if(!s&&!p.noBubble&&!g.isWindow(i)){for(f=p.delegateType||v,bn.test(f+v)||(u=u.parentNode);u;u=u.parentNode)d.push(u),a=u;a===(i.ownerDocument||r)&&d.push(a.defaultView||a.parentWindow||e)}o=0;while((u=d[o++])&&!t.isPropagationStopped())t.type=o>1?f:p.bindType||v,h=(J.get(u,"events")||{})[t.type]&&J.get(u,"handle"),h&&h.apply(u,n),h=l&&u[l],h&&h.apply&&V(u)&&(t.result=h.apply(u,n),t.result===!1&&t.preventDefault());return t.type=v,s||t.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),n)!==!1||!V(i)||l&&g.isFunction(i[v])&&!g.isWindow(i)&&(a=i[l],a&&(i[l]=null),g.event.triggered=v,i[v](),g.event.triggered=void 0,a&&(i[l]=a)),t.result}},simulate:function(e,t,n){var r=g.extend(new g.Event,n,{type:e,isSimulated:!0});g.event.trigger(r,null,t)}}),g.fn.extend({trigger:function(e,t){return this.each(function(){g.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return g.event.trigger(e,t,n,!0)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){g.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),d.focusin="onfocusin"in e,d.focusin||g.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){g.event.simulate(t,e.target,g.event.fix(e))};g.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var wn=e.location,En=g.now(),Sn=/\?/;g.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+t),n};var xn=/\[\]$/,Tn=/\r?\n/g,Nn=/^(?:submit|button|image|reset|file)$/i,Cn=/^(?:input|select|textarea|keygen)/i;g.param=function(e,t){var n,r=[],i=function(e,t){var n=g.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!g.isPlainObject(e))g.each(e,function(){i(this.name,this.value)});else for(n in e)kn(n,e[n],t,i);return r.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&Cn.test(this.nodeName)&&!Nn.test(e)&&(this.checked||!ft.test(e))}).map(function(e,t){var n=g(this).val();return null==n?null:Array.isArray(n)?g.map(n,function(e){return{name:t.name,value:e.replace(Tn,"\r\n")}}):{name:t.name,value:n.replace(Tn,"\r\n")}}).get()}});var Ln=/%20/g,An=/#.*$/,On=/([?&])_=[^&]*/,Mn=/^(.*?):[ \t]*([^\r\n]*)$/gm,_n=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Dn=/^(?:GET|HEAD)$/,Pn=/^\/\//,Hn={},Bn={},jn="*/".concat("*"),Fn=r.createElement("a");Fn.href=wn.href,g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wn.href,type:"GET",isLocal:_n.test(wn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Rn(Rn(e,g.ajaxSettings),t):Rn(g.ajaxSettings,e)},ajaxPrefilter:In(Hn),ajaxTransport:In(Bn),ajax:function(t,n){function C(t,n,r,u){var f,h,p,E,S,x=n;l||(l=!0,a&&e.clearTimeout(a),i=void 0,o=u||"",T.readyState=t>0?4:0,f=t>=200&&t<300||304===t,r&&(E=Un(d,T,r)),E=zn(d,E,T,f),f?(d.ifModified&&(S=T.getResponseHeader("Last-Modified"),S&&(g.lastModified[s]=S),S=T.getResponseHeader("etag"),S&&(g.etag[s]=S)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=E.state,h=E.data,p=E.error,f=!p)):(p=x,!t&&x||(x="error",t<0&&(t=0))),T.status=t,T.statusText=(n||x)+"",f?y.resolveWith(v,[h,x,T]):y.rejectWith(v,[T,x,p]),T.statusCode(w),w=void 0,c&&m.trigger(f?"ajaxSuccess":"ajaxError",[T,d,f?h:p]),b.fireWith(v,[T,x]),c&&(m.trigger("ajaxComplete",[T,d]),--g.active||g.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,s,o,u,a,f,l,c,h,p,d=g.ajaxSetup({},n),v=d.context||d,m=d.context&&(v.nodeType||v.jquery)?g(v):g.event,y=g.Deferred(),b=g.Callbacks("once memory"),w=d.statusCode||{},E={},S={},x="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(l){if(!u){u={};while(t=Mn.exec(o))u[t[1].toLowerCase()]=t[2]}t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,E[e]=t),this},overrideMimeType:function(e){return null==l&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||x;return i&&i.abort(t),C(0,t),this}};if(y.promise(T),d.url=((t||d.url||wn.href)+"").replace(Pn,wn.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(j)||[""],null==d.crossDomain){f=r.createElement("a");try{f.href=d.url,f.href=f.href,d.crossDomain=Fn.protocol+"//"+Fn.host!=f.protocol+"//"+f.host}catch(N){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=g.param(d.data,d.traditional)),qn(Hn,d,n,T),l)return T;c=g.event&&d.global,c&&0===g.active++&&g.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Dn.test(d.type),s=d.url.replace(An,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ln,"+")):(p=d.url.slice(s.length),d.data&&(s+=(Sn.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(s=s.replace(On,"$1"),p=(Sn.test(s)?"&":"?")+"_="+En++ +p),d.url=s+p),d.ifModified&&(g.lastModified[s]&&T.setRequestHeader("If-Modified-Since",g.lastModified[s]),g.etag[s]&&T.setRequestHeader("If-None-Match",g.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+jn+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)T.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(v,T,d)===!1||l))return T.abort();if(x="abort",b.add(d.complete),T.done(d.success),T.fail(d.error),i=qn(Bn,d,n,T)){if(T.readyState=1,c&&m.trigger("ajaxSend",[T,d]),l)return T;d.async&&d.timeout>0&&(a=e.setTimeout(function(){T.abort("timeout")},d.timeout));try{l=!1,i.send(E,C)}catch(N){if(l)throw N;C(-1,N)}}else C(-1,"No Transport");return T},getJSON:function(e,t,n){return g.get(e,t,n,"json")},getScript:function(e,t){return g.get(e,void 0,t,"script")}}),g.each(["get","post"],function(e,t){g[t]=function(e,n,r,i){return g.isFunction(n)&&(i=i||r,r=n,n=void 0),g.ajax(g.extend({url:e,type:t,dataType:i,data:n,success:r},g.isPlainObject(e)&&e))}}),g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},g.fn.extend({wrapAll:function(e){var t;return this[0]&&(g.isFunction(e)&&(e=e.call(this[0])),t=g(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g.isFunction(e)?this.each(function(t){g(this).wrapInner(e.call(this,t))}):this.each(function(){var t=g(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g.isFunction(e);return this.each(function(n){g(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(e){return!g.expr.pseudos.visible(e)},g.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Wn={0:200,1223:204},Xn=g.ajaxSettings.xhr();d.cors=!!Xn&&"withCredentials"in Xn,d.ajax=Xn=!!Xn,g.ajaxTransport(function(t){var n,r;if(d.cors||Xn&&!t.crossDomain)return{send:function(i,s){var o,u=t.xhr();if(u.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)u[o]=t.xhrFields[o];t.mimeType&&u.overrideMimeType&&u.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)u.setRequestHeader(o,i[o]);n=function(e){return function(){n&&(n=r=u.onload=u.onerror=u.onabort=u.onreadystatechange=null,"abort"===e?u.abort():"error"===e?"number"!=typeof u.status?s(0,"error"):s(u.status,u.statusText):s(Wn[u.status]||u.status,u.statusText,"text"!==(u.responseType||"text")||"string"!=typeof u.responseText?{binary:u.response}:{text:u.responseText},u.getAllResponseHeaders()))}},u.onload=n(),r=u.onerror=n("error"),void 0!==u.onabort?u.onabort=r:u.onreadystatechange=function(){4===u.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{u.send(t.hasContent&&t.data||null)}catch(a){if(n)throw a}},abort:function(){n&&n()}}}),g.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return g.globalEval(e),e}}}),g.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),g.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,s){t=g("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&s("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Vn=[],$n=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vn.pop()||g.expando+"_"+En++;return this[e]=!0,e}}),g.ajaxPrefilter("json jsonp",function(t,n,r){var i,s,o,u=t.jsonp!==!1&&($n.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&$n.test(t.data)&&"data");if(u||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u?t[u]=t[u].replace($n,"$1"+i):t.jsonp!==!1&&(t.url+=(Sn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||g.error(i+" was not called"),o[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){o=arguments},r.always(function(){void 0===s?g(e).removeProp(i):e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,Vn.push(i)),o&&g.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),d.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),g.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,s,o;return t||(d.createHTMLDocument?(t=r.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=r.location.href,t.head.appendChild(i)):t=r),s=L.exec(e),o=!n&&[],s?[t.createElement(s[1])]:(s=mt([e],t,o),o&&o.length&&g(o).remove(),g.merge([],s.childNodes))},g.fn.load=function(e,t,n){var r,i,s,o=this,u=e.indexOf(" ");return u>-1&&(r=mn(e.slice(u)),e=e.slice(0,u)),g.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),o.length>0&&g.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?g("<div>").append(g.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){g.fn[t]=function(e){return this.on(t,e)}}),g.expr.pseudos.animated=function(e){return g.grep(g.timers,function(t){return e===t.elem}).length},g.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=g.css(e,"position"),c=g(e),h={};"static"===l&&(e.style.position="relative"),u=c.offset(),s=g.css(e,"top"),a=g.css(e,"left"),f=("absolute"===l||"fixed"===l)&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),g.isFunction(t)&&(t=t.call(e,n,g.extend({},u))),null!=t.top&&(h.top=t.top-u.top+o),null!=t.left&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},g.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){g.offset.setOffset(this,e,t)});var t,n,r,i,s=this[0];if(s)return s.getClientRects().length?(r=s.getBoundingClientRect(),t=s.ownerDocument,n=t.documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===g.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),k(e[0],"html")||(r=e.offset()),r={top:r.top+g.css(e[0],"borderTopWidth",!0),left:r.left+g.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-g.css(n,"marginTop",!0),left:t.left-r.left-g.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===g.css(e,"position"))e=e.offsetParent;return e||gt})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;g.fn[e]=function(r){return X(this,function(e,r,i){var s;return g.isWindow(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===i?s?s[t]:e[r]:void (s?s.scrollTo(n?s.pageXOffset:i,n?i:s.pageYOffset):e[r]=i)},e,r,arguments.length)}}),g.each(["top","left"],function(e,t){g.cssHooks[t]=Rt(d.pixelPosition,function(e,n){if(n)return n=qt(e,t),Ft.test(n)?g(e).position()[t]+"px":n})}),g.each({Height:"height",Width:"width"},function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){g.fn[r]=function(i,s){var o=arguments.length&&(n||"boolean"!=typeof i),u=n||(i===!0||s===!0?"margin":"border");return X(this,function(t,n,i){var s;return g.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?g.css(t,n,u):g.style(t,n,i,u)},t,o?i:void 0,o)}})}),g.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),g.holdReady=function(e){e?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=k,"function"==typeof define&&define.amd&&define("jquery",[],function(){return g});var Jn=e.jQuery,Kn=e.$;return g.noConflict=function(t){return e.$===g&&(e.$=Kn),t&&e.jQuery===g&&(e.jQuery=Jn),g},t||(e.jQuery=e.$=g),g}),define("Global",[],function(){function e(){}return e.URL="http://localhost:8888/",e.Config={NETWORK:{CLUSTER:{SIZE:50}},DOMAIN:{X:10,Y:75,WIDTH:200,HEIGHT:20,OFFSET:20},ICONS:{GEAR:{OFFSET_X:80,OFFSET_Y:-9,SCALE:.04},KEY:{OFFSET_X:-90,OFFSET_Y:-7,SCALE:.025}}},e.Ontology=null,e.Datatypes=null,e.CurrentTabId=null,e.prototype.InEdgeCreationMode=!1,e.HyperEdgeColor="#00FFCC",e.GetSelectorFromId=function(e){return"#"+e.replace(/\#/g,"\\#").replace(/\$/g,"\\$").replace(/\./g,"\\.").replace(/\:/g,"\\:").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\ /g,"\\ ")},e.GetOffsetCoordinates=function(t){var n,r;return t.offsetX===undefined?(n=t.pageX-$(e.CurrentTabId).offset().left,r=t.pageY-$(e.CurrentTabId).offset().top):(n=t.offsetX,r=t.offsetY),{x:n,y:r}},e}),define("entities/AbstractEntity",[],function(){function e(e,t){var n=e;this.Name=t,this.getId=function(){return n}}return e.prototype.toJSON=function(){return{name:this.Name}},e}),define("svg/SvgEntity",["jquery","Global"],function(e,t){function n(n,r,i,s,o,u,a,f){var l={stroke:"blue","stroke-width":5},c={stroke:"black","stroke-width":1},h=e(document.createElementNS("http://www.w3.org/2000/svg","g")).attr("class",r).attr("id",n).on("mouseover",function(n){t.InEdgeCreationMode?n.target.setAttribute("cursor","crosshair"):n.target.setAttribute("cursor","pointer");var r=e(n.target);r.is("rect")?r.css(l):r.is("g")?r.find("rect").css(l):r.siblings("rect").css(l)}).on("mouseout",function(t){t.target.setAttribute("cursor","default");var n=e(t.target);n.is("rect")?n.css(c):n.is("g")?n.find("rect").css(c):n.siblings("rect").css(c)}).append(e(document.createElementNS("http://www.w3.org/2000/svg","rect")).attr("x",s).attr("y",o).attr("rx",5).attr("ry",5).attr("width",u).attr("height",a).css("fill",f)).append(e(document.createElementNS("http://www.w3.org/2000/svg","text")).attr("x",(2*s+u)/2).attr("y",(2*o+a)/2).text(i));if(r==="NodeClass"||r==="ClassProperty"){var p=t.Config.ICONS.GEAR,d=document.createElementNS("http://www.w3.org/2000/svg","use");d.setAttributeNS("http://www.w3.org/1999/xlink","href","#gearIcon"),e(d).attr("class","icon-gear").attr("transform","translate("+((2*s+u)/2+p.OFFSET_X)+","+((2*o+a)/2+p.OFFSET_Y)+") scale("+p.SCALE+")"),h.append(d)}return(r==="JsonArray"||r==="JsonObject"||r==="NodeClass"||r==="EdgeClass")&&h.append(e(document.createElementNS("http://www.w3.org/2000/svg","g")).attr("class","properties")),h}return n});var module;(function(glbl,require){"use strict";function push(e,t){return e=e.slice(),e.push(t),e}function unshift(e,t){return t=t.slice(),t.unshift(e),t}function NewError(e){this.avoidNew=!0,this.value=e,this.message='JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'}function JSONPath(e,t,n,r,i){if(!(this instanceof JSONPath))try{return new JSONPath(e,t,n,r,i)}catch(s){if(!s.avoidNew)throw s;return s.value}typeof e=="string"&&(i=r,r=n,n=t,t=e,e={}),e=e||{};var o=e.hasOwnProperty("json")&&e.hasOwnProperty("path");this.json=e.json||n,this.path=e.path||t,this.resultType=e.resultType&&e.resultType.toLowerCase()||"value",this.flatten=e.flatten||!1,this.wrap=e.hasOwnProperty("wrap")?e.wrap:!0,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||r||null,this.otherTypeCallback=e.otherTypeCallback||i||function(){throw new Error("You must supply an otherTypeCallback callback option with the @other() operator.")};if(e.autostart!==!1){var u=this.evaluate({path:o?e.path:t,json:o?e.json:n});if(!u||typeof u!="object")throw new NewError(u);return u}}var isNode=module&&!!module.exports,allowedResultTypes=["value","path","pointer","parent","parentProperty","all"];Array.prototype.includes||(Array.prototype.includes=function(e){return this.indexOf(e)>-1}),String.prototype.includes||(String.prototype.includes=function(e){return this.indexOf(e)>-1});var moveToAnotherArray=function(e,t,n){for(var r=0,i=e.length;r<i;r++){var s=e[r];n(s)&&t.push(e.splice(r--,1)[0])}},vm=isNode?require("vm"):{runInNewContext:function(expr,context){var keys=Object.keys(context),funcs=[];moveToAnotherArray(keys,funcs,function(e){return typeof context[e]=="function"});var code=funcs.reduce(function(e,t){return"var "+t+"="+context[t].toString()+";"+e},"");return code+=keys.reduce(function(e,t){return"var "+t+"="+JSON.stringify(context[t]).replace(/\u2028|\u2029/g,function(e){return"\\u202"+(e==="\u2028"?"8":"9")})+";"+e},expr),eval(code)}};JSONPath.prototype.evaluate=function(e,t,n,r){var i=this,s=this.flatten,o=this.wrap,u=this.parent,a=this.parentProperty;this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=r||this.otherTypeCallback,t=t||this.json,e=e||this.path;if(e&&typeof e=="object"){if(!e.path)throw new Error('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');t=e.hasOwnProperty("json")?e.json:t,s=e.hasOwnProperty("flatten")?e.flatten:s,this.currResultType=e.hasOwnProperty("resultType")?e.resultType:this.currResultType,this.currSandbox=e.hasOwnProperty("sandbox")?e.sandbox:this.currSandbox,o=e.hasOwnProperty("wrap")?e.wrap:o,this.currPreventEval=e.hasOwnProperty("preventEval")?e.preventEval:this.currPreventEval,n=e.hasOwnProperty("callback")?e.callback:n,this.currOtherTypeCallback=e.hasOwnProperty("otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,u=e.hasOwnProperty("parent")?e.parent:u,a=e.hasOwnProperty("parentProperty")?e.parentProperty:a,e=e.path}u=u||null,a=a||null,Array.isArray(e)&&(e=JSONPath.toPathString(e));if(!e||!t||!allowedResultTypes.includes(this.currResultType))return;this._obj=t;var f=JSONPath.toPathArray(e);f[0]==="$"&&f.length>1&&f.shift(),this._hasParentSelector=null;var l=this._trace(f,t,["$"],u,a,n);return l=l.filter(function(e){return e&&!e.isParentSelector}),l.length?l.length===1&&!o&&!Array.isArray(l[0].value)?this._getPreferredOutput(l[0]):l.reduce(function(e,t){var n=i._getPreferredOutput(t);return s&&Array.isArray(n)?e=e.concat(n):e.push(n),e},[]):o?[]:undefined},JSONPath.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){case"all":return e.path=typeof e.path=="string"?e.path:JSONPath.toPathString(e.path),e;case"value":case"parent":case"parentProperty":return e[t];case"path":return JSONPath.toPathString(e[t]);case"pointer":return JSONPath.toPointer(e.path)}},JSONPath.prototype._handleCallback=function(e,t,n){if(t){var r=this._getPreferredOutput(e);e.path=typeof e.path=="string"?e.path:JSONPath.toPathString(e.path),t(r,n,e)}},JSONPath.prototype._trace=function(e,t,n,r,i,s,o){function h(e){c.push(e)}function p(e){Array.isArray(e)?e.forEach(h):c.push(e)}var u,a=this;if(!e.length)return u={path:n,value:t,parent:r,parentProperty:i},this._handleCallback(u,s,"value"),u;var f=e[0],l=e.slice(1),c=[];if((typeof f!="string"||o)&&t&&Object.prototype.hasOwnProperty.call(t,f))p(this._trace(l,t[f],push(n,f),t,f,s));else if(f==="*")this._walk(f,l,t,n,r,i,s,function(e,t,n,r,i,s,o,u){p(a._trace(unshift(e,n),r,i,s,o,u,!0))});else if(f==="..")p(this._trace(l,t,n,r,i,s)),this._walk(f,l,t,n,r,i,s,function(e,t,n,r,i,s,o,u){typeof r[e]=="object"&&p(a._trace(unshift(t,n),r[e],push(i,e),r,e,u))});else{if(f==="^")return this._hasParentSelector=!0,n.length?{path:n.slice(0,-1),expr:l,isParentSelector:!0}:[];if(f==="~")return u={path:push(n,f),value:i,parent:r,parentProperty:null},this._handleCallback(u,s,"property"),u;if(f==="$")p(this._trace(l,t,n,null,null,s));else if(/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(f))p(this._slice(f,l,t,n,r,i,s));else if(f.indexOf("?(")===0){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(f,l,t,n,r,i,s,function(e,t,n,r,i,s,o,u){a._eval(t.replace(/^\?\((.*?)\)$/,"$1"),r[e],e,i,s,o)&&p(a._trace(unshift(e,n),r,i,s,o,u))})}else if(f[0]==="("){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");p(this._trace(unshift(this._eval(f,t,n[n.length-1],n.slice(0,-1),r,i),l),t,n,r,i,s))}else if(f[0]==="@"){var d=!1,v=f.slice(1,-2);switch(v){case"scalar":if(!t||!["object","function"].includes(typeof t))d=!0;break;case"boolean":case"string":case"undefined":case"function":typeof t===v&&(d=!0);break;case"number":typeof t===v&&isFinite(t)&&(d=!0);break;case"nonFinite":typeof t=="number"&&!isFinite(t)&&(d=!0);break;case"object":t&&typeof t===v&&(d=!0);break;case"array":Array.isArray(t)&&(d=!0);break;case"other":d=this.currOtherTypeCallback(t,n,r,i);break;case"integer":t===+t&&isFinite(t)&&!(t%1)&&(d=!0);break;case"null":t===null&&(d=!0)}if(d)return u={path:n,value:t,parent:r,parentProperty:i},this._handleCallback(u,s,"value"),u}else if(f[0]==="`"&&t&&Object.prototype.hasOwnProperty.call(t,f.slice(1))){var m=f.slice(1);p(this._trace(l,t[m],push(n,m),t,m,s,!0))}else if(f.includes(",")){var g,y;for(g=f.split(","),y=0;y<g.length;y++)p(this._trace(unshift(g[y],l),t,n,r,i,s))}else!o&&t&&Object.prototype.hasOwnProperty.call(t,f)&&p(this._trace(l,t[f],push(n,f),t,f,s,!0))}if(this._hasParentSelector)for(var b=0;b<c.length;b++){var w=c[b];if(w.isParentSelector){var E=a._trace(w.expr,t,w.path,r,i,s);if(Array.isArray(E)){c[b]=E[0];for(var S=1,x=E.length;S<x;S++)b++,c.splice(b,0,E[S])}else c[b]=E}}return c},JSONPath.prototype._walk=function(e,t,n,r,i,s,o,u){var a,f,l;if(Array.isArray(n))for(a=0,f=n.length;a<f;a++)u(a,e,t,n,r,i,s,o);else if(typeof n=="object")for(l in n)Object.prototype.hasOwnProperty.call(n,l)&&u(l,e,t,n,r,i,s,o)},JSONPath.prototype._slice=function(e,t,n,r,i,s,o){if(!Array.isArray(n))return;var u,a=n.length,f=e.split(":"),l=f[0]&&parseInt(f[0],10)||0,c=f[1]&&parseInt(f[1],10)||a,h=f[2]&&parseInt(f[2],10)||1;l=l<0?Math.max(0,l+a):Math.min(a,l),c=c<0?Math.max(0,c+a):Math.min(a,c);var p=[];for(u=l;u<c;u+=h){var d=this._trace(unshift(u,t),n,r,i,s,o);Array.isArray(d)?d.forEach(function(e){p.push(e)}):p.push(d)}return p},JSONPath.prototype._eval=function(e,t,n,r,i,s){if(!this._obj||!t)return!1;e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=s,e=e.replace(/@parentProperty/g,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=i,e=e.replace(/@parent/g,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=n,e=e.replace(/@property/g,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=JSONPath.toPathString(r.concat([n])),e=e.replace(/@path/g,"_$_path")),e.match(/@([\.\s\)\[])/)&&(this.currSandbox._$_v=t,e=e.replace(/@([\.\s\)\[])/g,"_$_v$1"));try{return vm.runInNewContext(e,this.currSandbox)}catch(o){throw console.log(o),new Error("jsonPath: "+o.message+": "+e)}},JSONPath.cache={},JSONPath.toPathString=function(e){var t,n,r=e,i="$";for(t=1,n=r.length;t<n;t++)/^(~|\^|@.*?\(\))$/.test(r[t])||(i+=/^[0-9*]+$/.test(r[t])?"["+r[t]+"]":"['"+r[t]+"']");return i},JSONPath.toPointer=function(e){var t,n,r=e,i="";for(t=1,n=r.length;t<n;t++)/^(~|\^|@.*?\(\))$/.test(r[t])||(i+="/"+r[t].toString().replace(/\~/g,"~0").replace(/\//g,"~1"));return i},JSONPath.toPathArray=function(e){var t=JSONPath.cache;if(t[e])return t[e].concat();var n=[],r=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/[\['](\??\(.*?\))[\]']/g,function(e,t){return"[#"+(n.push(t)-1)+"]"}).replace(/\['([^'\]]*)'\]/g,function(e,t){return"['"+t.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/'?\.'?(?![^\[]*\])|\['?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(e,t){return";"+t.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,""),i=r.split(";").map(function(e){var t=e.match(/#([0-9]+)/);return!t||!t[1]?e:n[t[1]]});return t[e]=i,t[e]},JSONPath.eval=function(e,t,n){return JSONPath(n,t,e)},typeof define=="function"&&define.amd?define("JsonPath",[],function(){return JSONPath}):isNode?module.exports=JSONPath:(glbl.jsonPath={eval:JSONPath.eval},glbl.JSONPath=JSONPath)})(this||self,typeof require=="undefined"?null:require),define("util/JPath",["JsonPath"],function(e){function t(e){if(!e)return;this.Path=e,this.Length=e.split(".").length}function n(e,n,r,i){var s=[];for(var o=0;o<e.length;o++)for(var u=0;u<n;u++)i[r]=u,s.push((new t(e[o].Path)).SetIndexesOfPathArray(i));return s}return t.prototype.GetParts=function(){return this.Path.split(".")},t.prototype.SetIndexesOfPathArray=function(e,n){var r=this.GetParts(),i="",s=0;for(var o=0;o<r.length;o++){if(r[o].search(/(\[\d+\])|(\[\*\])/g)!==-1){var u;n?u=s%e.length:u=s,e[u]!=null&&e[u]!=="_"&&(r[o]=r[o].replace(r[o].match(/(\[\d+\])|(\[\*\])/g)[0],"["+e[u]+"]")),s++}o<r.length-1?i+=r[o]+".":i+=r[o]}return new t(i)},t.prototype.GetIndexes=function(){var e=this.Path.match(/(\[\d+\])|(\[\*\])/g);if(!e)return null;var t=[];for(var n=0;n<e.length;n++){var r=e[n].replace("[","").replace("]","");r!=="*"?t.push(parseInt(r)):t.push(r)}return t},t.prototype.IsSubPathOf=function(e){if(this.Path.indexOf(e)!==-1)return!0;var n=this.SetIndexesOfPathArray(["*"],!0);return e=(new t(e)).SetIndexesOfPathArray(["*"],!0),n.Path.indexOf(e.Path)!==-1?!0:!1},t.prototype.GetAllPossiblePaths=function(e){if(!this.ContainsArray())return[this];var t=[],r=[];for(var i=0;i<e[0];i++)r[0]=i,t.push(this.SetIndexesOfPathArray(r));r[0]="_";for(var s=1;s<e.length;s++)t=n(t,e[s],s,r),r[s]="_";return t},t.prototype.GetRoot=function(){return new t(this.Path.substring(0,this.Path.lastIndexOf(".")))},t.prototype.ContainsArray=function(){return this.Path.search(/(\[\d+\])|(\[\*\])/g)!==-1},t.prototype.eval=function(t){return e.eval(t,this.Path)},t}),define("entities/domain/JsonAbstractEntity",["entities/AbstractEntity","svg/SvgEntity","util/JPath"],function(e,t,n){function r(r,i,s,o,u,a,f,l){var c=this;e.call(this,r,i),this.JsonPath=new n(r);var h=null;this.X=o,this.Y=u,this.Width=a,this.Height=f;var p=s;this.get$node=function(){return h},this.getType=function(){return p},this._generateSvg=function(){h=t(r,s,i,c.X,c.Y,c.Width,c.Height,l)}}return r.prototype=new e,r.prototype.constructor=r,r.prototype.generateSvgEntity=function(){this._generateSvg()},r.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.type=this.getType(),t.y=this.Y,t},r}),define("entities/domain/JsonAbstractCollection",["entities/domain/JsonAbstractEntity"],function(e){function t(t,n,r,i,s,o,u,a){e.call(this,t,n,r,i,s,o,u,a);var f={};this.getElements=function(){return f}}return t.prototype=new e,t.prototype=t,t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);t.properties={};var n=this.getElements();for(var r in n)n.hasOwnProperty(r)&&(t.properties[r]=n[r].toJSON());return t},t.prototype.generateSvgEntity=function(){e.prototype.generateSvgEntity.call(this)},t.prototype.add=function(e){if(!e)return console.error("json entity is null"),!1;var t=e.getId();return t&&!this.getElements().hasOwnProperty(t)?(this.getElements()[t]=e,this.get$node()||this.generateSvgEntity(),e.get$node()||e.generateSvgEntity(),this.get$node().children(".properties").append(e.get$node()),!0):!1},t}),define("entities/domain/JsonObject",["entities/domain/JsonAbstractCollection"],function(e){function t(n,r,i,s,o,u){e.call(this,n,r,t.TYPE,i,s,o,u,t.COLOR)}return t.prototype=new e,t.prototype.constructor=t,t.TYPE="JsonObject",t.COLOR="#1C86EE",t}),define("entities/domain/JsonArray",["entities/domain/JsonAbstractCollection"],function(e){function t(n,r,i,s,o,u,a,f){e.call(this,n,r,t.TYPE,i,s,o,u,t.COLOR);var l=a,c=f;this.getValue=function(){return l},this.getValueType=function(){return c}}return t.prototype=new e,t.prototype.constructor=t,t.TYPE="JsonArray",t.COLOR="#104E8B",t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),n=this.getValue();n&&(t.value=n);var r=this.getValueType();return r&&(t.valueType=r),t},t.prototype.generateSvgEntity=function(){e.prototype.generateSvgEntity.call(this),this.getValue()&&this.get$node().popover({container:"body",title:"1st Element of primitive Array",placement:"top",trigger:"hover",content:this.getValue()})},t}),define("entities/domain/JsonProperty",["entities/domain/JsonAbstractEntity"],function(e){function t(n,r,i,s,o,u,a,f){e.call(this,n,r,t.TYPE,i,s,o,u,t.COLOR);var l=a,c=f;this.getValue=function(){return l},this.getValueType=function(){return c},this.generateSvgEntity=function(){e.prototype.generateSvgEntity.call(this),this.get$node().popover({container:"body",title:"Example Value",placement:"top",trigger:"hover",content:this.getValue()})}}return t.prototype=new e,t.prototype.constructor=t,t.TYPE="JsonProperty",t.COLOR="#87CEFA",t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.value=this.getValue(),t.valueType=this.getValueType(),t},t}),define("svg/SvgArrowMarker",[],function(){function e(){var e=document.createElementNS("http://www.w3.org/2000/svg","marker");e.setAttribute("id","arrowMarker"),e.setAttribute("viewBox","0 0 10 10"),e.setAttribute("refX","0"),e.setAttribute("refY","5"),e.setAttribute("markerUnits","strokeWidth"),e.setAttribute("markerWidth",3),e.setAttribute("markerHeight",3),e.setAttribute("orient","auto"),e.setAttribute("fill","#000000");var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M 0 0 L 10 5 L 0 10 z"),e.appendChild(t),e}return e}),define("util/TransformCoordinates",[],function(){function e(e){e instanceof jQuery&&(e=e[0]);var t={},n=e.getAttribute("transform");if(n!=null){var r=/translate\(\s*([^\s,)]+)[ ,]([^\s,)]+)/.exec(n);t.x=parseFloat(r[1]),t.y=parseFloat(r[2])}else t.x=0,t.y=0;return t}return e}),define("util/DragAndDrop",["jquery","Global","util/TransformCoordinates"],function(e,t,n){function r(){}return r.SVGRoot=null,r.TrueCoords=null,r.GrabPoint=null,r.DragTarget=null,r.Entity=null,r.Grab=function(n){r.SVGRoot=e(t.CurrentTabId).find("svg")[0];var i=e(n.target).parent("g"),s=!1,o=require("MappingManager"),u=o.getCurrentMappingCanvas();i.is(".NodeClass")?(r.Entity=u.getNodeClassById(i.attr("id")),r.DragTarget=i,s=!0):i.is(".Ctrl")&&(r.DragTarget=i.children(".controlPoint"),r.Entity=u.getEdgeClassById(r.DragTarget.parents(".EdgeClass").attr("id")),s=!0);if(s){r.DragTarget.parent().append(r.DragTarget),r.DragTarget.attr("pointer-events","none");var a=r.DragTarget[0].getCTM();r.GrabPoint.x=r.TrueCoords.x-Number(a.e),r.GrabPoint.y=r.TrueCoords.y-Number(a.f)}},r.Drag=function(t){r.GetTrueCoords(t);if(r.DragTarget){e(t.target).css("cursor","move");var n=r.TrueCoords.x-r.GrabPoint.x,i=r.TrueCoords.y-r.GrabPoint.y;r.DragTarget.attr("transform","translate("+n+","+i+")");if(r.DragTarget.is(".NodeClass")&&r.Entity!=null){r.Entity.OFFSETX=n,r.Entity.OFFSETY=i;var s=r.Entity.getAllMappingRules();for(var o in s)s.hasOwnProperty(o)&&r.DragMappingRule(s[o]);var u=r.Entity.getOutgoingEdges();for(var a in u)u.hasOwnProperty(a)&&r.UpdateEdge(u[a].get$node(),"src");var f=r.Entity.getIngoingEdges();for(var l in f)f.hasOwnProperty(l)&&r.UpdateEdge(f[l].get$node(),"dest")}else r.DragTarget.is(".controlPoint")&&r.DragControlPoint(r.DragTarget)}},r.Drop=function(){r.DragTarget&&(r.DragTarget.attr("pointer-events","all"),r.DragTarget=null,r.Entity=null,e(t.CurrentTabId).find("svg").css({cursor:"default"}))},r.GetTrueCoords=function(e){var t=r.SVGRoot.currentScale,n=r.SVGRoot.currentTranslate;r.TrueCoords.x=(e.clientX-n.x)/t,r.TrueCoords.y=(e.clientY-n.y)/t},r.DragControlPoint=function(t){var i=n(t),s=parseInt(t.attr("cx"))+i.x,o=parseInt(t.attr("cy"))+i.y,u=e(t).siblings(".SrcCtrlLine");u.attr("x2",s),u.attr("y2",o);var a=e(t).siblings(".DestCtrlLine");a.attr("x2",s),a.attr("y2",o),r.Entity.OFFSETX=s,r.Entity.OFFSETY=o;var f=e(t).parent().siblings("path").attr("d").split(" ");f[1]="Q"+s+","+o,e(t).parent().siblings("path").attr("d",f[0]+" "+f[1]+" "+f[2])},r.UpdateEdge=function(t,i){var s,o,u,a,f,l,c,h,p,d;i==="src"?(s=n(r.DragTarget),o=r.DragTarget.find("rect")[0],u=t.find(".SrcCtrlLine")[0],a=o.x.baseVal.value+s.x,f=t.find(".DestCtrlLine")[0],l=f.x1.baseVal.value-a<0?(f.x1.baseVal.value-a)*-1:f.x1.baseVal.value-a,c=f.x1.baseVal.value-(a+o.width.baseVal.value)<0?(f.x1.baseVal.value-(a+o.width.baseVal.value))*-1:f.x1.baseVal.value-(a+o.width.baseVal.value),l>c&&(a+=o.width.baseVal.value),h=o.y.baseVal.value+o.height.baseVal.value/2+s.y,u.x1.baseVal.value=a,u.y1.baseVal.value=h,p=e(t).children("path").attr("d"),d=p.split(" "),d[0]="M"+a+","+h,e(t).children("path").attr("d",d[0]+" "+d[1]+" "+d[2])):(s=n(r.DragTarget),o=r.DragTarget.find("rect")[0],a=o.x.baseVal.value+s.x-12,u=t.find(".DestCtrlLine")[0],f=t.find(".SrcCtrlLine")[0],l=f.x1.baseVal.value-a<0?(f.x1.baseVal.value-a)*-1:f.x1.baseVal.value-a,c=f.x1.baseVal.value-(a+o.width.baseVal.value)<0?(f.x1.baseVal.value-(a+o.width.baseVal.value))*-1:f.x1.baseVal.value-(a+o.width.baseVal.value),l>c&&(a+=o.width.baseVal.value+24),h=o.y.baseVal.value+o.height.baseVal.value/2+s.y,u.x1.baseVal.value=a,u.y1.baseVal.value=h,p=e(t).children("path").attr("d"),d=p.split(" "),d[2]=a+","+h,p=e(t).children("path").attr("d",d[0]+" "+d[1]+" "+d[2]))},r.DragMappingRule=function(e){var t=n(r.DragTarget),i=e.get$node().children("line"),s=e.getRange();i.attr("x2",s.X+t.x-13),i.attr("y2",s.Y+t.y+s.getHeight()/2)},r}),define("panels/FooterContent",[],function(){function e(){var e='<button type="button" class="btn btn-success"><span class="glyphicon glyphicon-ok"></span></button>',t='<button type="button" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span></button>',n={item:t,event:"click",btnclass:"btn-sm",btntext:" Close",callback:function(e){e.data.close()}},r={item:e,event:"click",btnclass:"btn-sm",btntext:" Ok",callback:null};this.registerOkButtonCallback=function(e){r.callback=e},this.getContent=function(){return r.callback||(r.callback=function(e){e.data.close()}),[n,r]}}return e}),define("text",["module"],function(e){"use strict";function v(e,t){return e===undefined||e===""?t:e}function m(e,t,n,r){if(t===r)return!0;if(e===n){if(e==="http")return v(t,"80")===v(r,"80");if(e==="https")return v(t,"443")===v(r,"443")}return!1}var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.15",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.lastIndexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||m(s,u,n,i))):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText){r();return}d.isBuild=i&&i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i[0]==="﻿"&&(i=i.substring(1)),t(i)}catch(s){r&&r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r&&r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("text!tpl/form/formBase.html",[],function(){return'<form class="form-inline"></form>'}),define("text!tpl/form/formInput.html",[],function(){return'<div class="form-group has-default has-feedback">\n    <label class="control-label"><%-label%></label>\n    <input id="<%-id%>" type="text" class="form-control">\n</div>'}),define("text!tpl/form/formCheckBox.html",[],function(){return'<div class="form-group">\n    <div class="col-sm-offset-2 col-sm-10">\n        <div class="checkbox">\n            <label>\n                <input id="<%-id%>" type="checkbox"> <%-label%>\n            </label>\n        </div>\n    </div>\n</div>'}),define("panels/NodeClassPanel",["jquery","panels/FooterContent","text!tpl/form/formBase.html","text!tpl/form/formInput.html","text!tpl/form/formCheckBox.html"],function(e,t,n,r,i){function s(s){var o=e(_.template(r)({id:"txtPropName",label:"Name",disabled:!1})),u=e(_.template(i)({id:"chkbxId",label:"Is Reference ?"})),a=e(n);o.find("input").val(s.Name),s.isReference()&&u.find("input").attr("checked",""),a.append(o),a.append(u);var f=new t;f.registerOkButtonCallback(function(t){var n=e("#"+s.getId()+"_panel"),r=n.find("#txtPropName").val(),i=n.find("#chkbxId").is(":checked");s.Name!==r&&s.editName(r),i?s.enableReference():i||s.disableReference(),t.data.close()});var l=e.jsPanel({id:s.getId()+"_panel",size:{width:412,height:53},selector:"body",title:"ClassProperty: "+s.Name,position:"top center",theme:"light",toolbarFooter:f.getContent()});l.find("div[class*=ui-resizable-handle]").remove(),l.content.append(a)}return s}),define("events/DragNDropEvent",["jquery","Global","util/DragAndDrop","panels/NodeClassPanel"],function(e,t,n,r){function i(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}function s(){}return s.DefaultMouseDownEvent=function(s){i(s);var o=e(s.target).parent();switch(s.which){case 1:if(e(s.target).is(".icon-gear")&&o.is(".NodeClass")){var u=require("MappingManager").getMappingCanvasById(t.CurrentTabId),a=u.getNodeClassById(o.attr("id"));a&&r(a);return}o.is(".NodeClass")?n.Grab(s):e(s.target).is(".controlPoint")&&n.Grab(s),i(s)}},s.DefaultMouseMoveEvent=function(e){i(e),n.Drag(e)},s.DefaultMouseUpEvent=function(e){i(e);switch(e.which){case 1:n.Drop(e)}},s}),define("text!tpl/icons/gearIcon.txt",[],function(){return"M320.83,140.434l-1.759-0.627l-6.87-16.399l0.745-1.685c20.812-47.201,19.377-48.609,15.925-52.031L301.11,42.61\nc-1.135-1.126-3.128-1.918-4.846-1.918c-1.562,0-6.293,0-47.294,18.57L247.326,60l-16.916-6.812l-0.679-1.684\nC210.45,3.762,208.475,3.762,203.677,3.762h-39.205c-4.78,0-6.957,0-24.836,47.825l-0.673,1.741l-16.828,6.86l-1.609-0.669\nC92.774,47.819,76.57,41.886,72.346,41.886c-1.714,0-3.714,0.769-4.854,1.892l-27.787,27.16\nc-3.525,3.477-4.987,4.933,16.915,51.149l0.805,1.714l-6.881,16.381l-1.684,0.651C0,159.715,0,161.556,0,166.474v38.418\nc0,4.931,0,6.979,48.957,24.524l1.75,0.618l6.882,16.333l-0.739,1.669c-20.812,47.223-19.492,48.501-15.949,52.025L68.62,327.18\nc1.162,1.117,3.173,1.915,4.888,1.915c1.552,0,6.272,0,47.3-18.561l1.643-0.769l16.927,6.846l0.658,1.693\nc19.293,47.726,21.275,47.726,26.076,47.726h39.217c4.924,0,6.966,0,24.859-47.857l0.667-1.742l16.855-6.814l1.604,0.654\nc27.729,11.733,43.925,17.654,48.122,17.654c1.699,0,3.717-0.745,4.876-1.893l27.832-27.219\nc3.501-3.495,4.96-4.924-16.981-51.096l-0.816-1.734l6.869-16.31l1.64-0.643c48.938-18.981,48.938-20.831,48.938-25.755v-38.395\nC369.793,159.95,369.793,157.914,320.83,140.434z M184.896,247.203c-35.038,0-63.542-27.959-63.542-62.3\nc0-34.342,28.505-62.264,63.542-62.264c35.023,0,63.522,27.928,63.522,62.264C248.419,219.238,219.92,247.203,184.896,247.203z"}),define("svg/SvgGearIcon",["jquery","text!tpl/icons/gearIcon.txt"],function(e,t){function n(){return e(document.createElementNS("http://www.w3.org/2000/svg","symbol")).attr("id","gearIcon").append(e(document.createElementNS("http://www.w3.org/2000/svg","path")).attr("d",t))}return n}),define("text!tpl/icons/keyIcon.txt",[],function(){return"M353.812,0C263.925,0,191.25,72.675,191.25,162.562c0,19.125,3.825,38.25,9.562,57.375L0,420.75v95.625h95.625V459H153\nv-57.375h57.375l86.062-86.062c17.213,5.737,36.338,9.562,57.375,9.562c89.888,0,162.562-72.675,162.562-162.562S443.7,0,353.812,0\nz M401.625,172.125c-32.513,0-57.375-24.862-57.375-57.375s24.862-57.375,57.375-57.375S459,82.237,459,114.75\nS434.138,172.125,401.625,172.125z"}),define("svg/SvgKeyIcon",["jquery","text!tpl/icons/keyIcon.txt"],function(e,t){function n(){return e(document.createElementNS("http://www.w3.org/2000/svg","symbol")).attr("id","keyIcon").append(e(document.createElementNS("http://www.w3.org/2000/svg","path")).attr("d",t))}return n}),define("svg/SvgCanvas",["jquery","svg/SvgArrowMarker","events/DragNDropEvent","svg/SvgGearIcon","svg/SvgKeyIcon"],function(e,t,n,r,i){function s(s,o,u){return e(document.createElementNS("http://www.w3.org/2000/svg","svg")).attr("id",s).attr("class","mapping context-menu-one").attr("width",o).attr("height",u).attr("version","1.1").attr("xmlns:xlink","http://www.w3.org/1999/xlink").attr("xmlns","http://www.w3.org/2000/svg").append(e(document.createElementNS("http://www.w3.org/2000/svg","defs")).append(t()).append(r()).append(i())).mousedown(function(e){n.DefaultMouseDownEvent(e)}).mousemove(function(e){n.DefaultMouseMoveEvent(e)}).mouseup(function(e){n.DefaultMouseUpEvent(e)})}return s}),function(){function e(e,t){if(e!==t){var n=null===e,r=e===w,i=e===e,s=null===t,o=t===w,u=t===t;if(e>t&&!s||!i||n&&!o&&u||r&&u)return 1;if(e<t&&!n||!u||s&&!r&&i||o&&i)return-1}return 0}function t(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function n(e,t,n){if(t!==t)return h(e,n);n-=1;for(var r=e.length;++n<r;)if(e[n]===t)return n;return-1}function r(e){return typeof e=="function"||!1}function i(e){return null==e?"":e+""}function s(e,t){for(var n=-1,r=e.length;++n<r&&-1<t.indexOf(e.charAt(n)););return n}function o(e,t){for(var n=e.length;n--&&-1<t.indexOf(e.charAt(n)););return n}function u(t,n){return e(t.a,n.a)||t.b-n.b}function a(e){return Ht[e]}function f(e){return Bt[e]}function l(e,t,n){return t?e=It[e]:n&&(e=qt[e]),"\\"+e}function c(e){return"\\"+qt[e]}function h(e,t,n){var r=e.length;for(t+=n?0:-1;n?t--:++t<r;){var i=e[t];if(i!==i)return t}return-1}function p(e){return!!e&&typeof e=="object"}function d(e){return 160>=e&&9<=e&&13>=e||32==e||160==e||5760==e||6158==e||8192<=e&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function v(e,t){for(var n=-1,r=e.length,i=-1,s=[];++n<r;)e[n]===t&&(e[n]=I,s[++i]=n);return s}function m(e){for(var t=-1,n=e.length;++t<n&&d(e.charCodeAt(t)););return t}function g(e){for(var t=e.length;t--&&d(e.charCodeAt(t)););return t}function y(e){return jt[e]}function b(d){function Ht(e){if(p(e)&&!(cu(e)||e instanceof Ft)){if(e instanceof jt)return e;if(js.call(e,"__chain__")&&js.call(e,"__wrapped__"))return Ni(e)}return new jt(e)}function Bt(){}function jt(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function Ft(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=lo,this.__views__=[]}function It(){this.__data__={}}function qt(e){var t=e?e.length:0;for(this.data={hash:Zs(null),set:new $s};t--;)this.push(e[t])}function Rt(e,t){var n=e.data;return(typeof t=="string"||Zi(t)?n.set.has(t):n.hash[t])?0:-1}function Ut(e,t){var n=-1,r=e.length;for(t||(t=xs(r));++n<r;)t[n]=e[n];return t}function zt(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function Wt(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Xt(e,t){for(var n=-1,r=e.length,i=-1,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[++i]=o)}return s}function Jt(e,t){for(var n=-1,r=e.length,i=xs(r);++n<r;)i[n]=t(e[n],n,e);return i}function Kt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Qt(e,t,n,r){var i=-1,s=e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function Gt(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Yt(e,t,n,r){return e!==w&&js.call(r,n)?e:t}function Zt(e,t,n){for(var r=-1,i=Su(t),s=i.length;++r<s;){var o=i[r],u=e[o],a=n(u,t[o],o,e,t);(a===a?a===u:u!==u)&&(u!==w||o in e)||(e[o]=a)}return e}function Tn(e,t){return null==t?e:Ln(t,Su(t),e)}function Nn(e,t){for(var n=-1,r=null==e,i=!r&&hi(e),s=i?e.length:0,o=t.length,u=xs(o);++n<o;){var a=t[n];u[n]=i?pi(a,s)?e[a]:w:r?w:e[a]}return u}function Ln(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var s=t[r];n[s]=e[s]}return n}function Mn(e,t,n){var r=typeof e;return"function"==r?t===w?e:xr(e,t,n):null==e?ys:"object"==r?ir(e):t===w?Ss(e):sr(e,t)}function Dn(e,t,n,r,i,s,o){var u;if(n&&(u=i?n(e,r,i):n(e)),u!==w)return u;if(!Zi(e))return e;if(r=cu(e)){if(u=ai(e),!t)return Ut(e,u)}else{var a=Is.call(e),f=a==X;if(a!=$&&a!=q&&(!f||i))return Pt[a]?li(e,a,t):i?e:{};if(u=fi(f?{}:e),!t)return Tn(u,e)}for(s||(s=[]),o||(o=[]),i=s.length;i--;)if(s[i]==e)return o[i];return s.push(e),o.push(u),(r?zt:Kn)(e,function(r,i){u[i]=Dn(r,t,n,i,e,s,o)}),u}function Pn(e,t,n){if(typeof e!="function")throw new _s(F);return Js(function(){e.apply(w,n)},t)}function Hn(e,t){var r=e?e.length:0,i=[];if(!r)return i;var s=-1,o=si(),u=o===n,a=u&&t.length>=H&&Zs&&$s?new qt(t):null,f=t.length;a&&(o=Rt,u=!1,t=a);e:for(;++s<r;)if(a=e[s],u&&a===a){for(var l=f;l--;)if(t[l]===a)continue e;i.push(a)}else 0>o(t,a,0)&&i.push(a);return i}function Bn(e,t){var n=!0;return yo(e,function(e,r,i){return n=!!t(e,r,i)}),n}function qn(e,t,n,r){var i=r,s=i;return yo(e,function(e,o,u){o=+t(e,o,u),(n(o,i)||o===r&&o===s)&&(i=o,s=e)}),s}function zn(e,t){var n=[];return yo(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Xn(e,t,n,r){var i;return n(e,function(e,n,s){return t(e,n,s)?(i=r?n:e,!1):void 0}),i}function Vn(e,t,n,r){r||(r=[]);for(var i=-1,s=e.length;++i<s;){var o=e[i];p(o)&&hi(o)&&(n||cu(o)||Ki(o))?t?Vn(o,t,n,r):Kt(r,o):n||(r[r.length]=o)}return r}function Jn(e,t){wo(e,t,ls)}function Kn(e,t){return wo(e,t,Su)}function Qn(e,t){return Eo(e,t,Su)}function Gn(e,t){for(var n=-1,r=t.length,i=-1,s=[];++n<r;){var o=t[n];Yi(e[o])&&(s[++i]=o)}return s}function er(e,t,n){if(null!=e){n!==w&&n in xi(e)&&(t=[n]),n=0;for(var r=t.length;null!=e&&n<r;)e=e[t[n++]];return n&&n==r?e:w}}function tr(e,t,n,r,i,s){if(e===t)e=!0;else if(null==e||null==t||!Zi(e)&&!p(t))e=e!==e&&t!==t;else e:{var o=tr,u=cu(e),a=cu(t),f=R,l=R;u||(f=Is.call(e),f==q?f=$:f!=$&&(u=ss(e))),a||(l=Is.call(t),l==q?l=$:l!=$&&ss(t));var c=f==$,a=l==$,l=f==l;if(!l||u||c){if(!r&&(f=c&&js.call(e,"__wrapped__"),a=a&&js.call(t,"__wrapped__"),f||a)){e=o(f?e.value():e,a?t.value():t,n,r,i,s);break e}if(l){for(i||(i=[]),s||(s=[]),f=i.length;f--;)if(i[f]==e){e=s[f]==t;break e}i.push(e),s.push(t),e=(u?ei:ni)(e,t,o,n,r,i,s),i.pop(),s.pop()}else e=!1}else e=ti(e,t,f)}return e}function nr(e,t,n){var r=t.length,i=r,s=!n;if(null==e)return!i;for(e=xi(e);r--;){var o=t[r];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<i;){var o=t[r],u=o[0],a=e[u],f=o[1];if(s&&o[2]){if(a===w&&!(u in e))return!1}else if(o=n?n(a,f,u):w,o===w?!tr(f,a,n,!0):!o)return!1}return!0}function rr(e,t){var n=-1,r=hi(e)?xs(e.length):[];return yo(e,function(e,i,s){r[++n]=t(e,i,s)}),r}function ir(e){var t=oi(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==w||n in xi(e))}}return function(e){return nr(e,t)}}function sr(e,t){var n=cu(e),r=vi(e)&&t===t&&!Zi(t),i=e+"";return e=Ti(e),function(s){if(null==s)return!1;var o=i;if(s=xi(s),!(!n&&r||o in s)){if(s=1==e.length?s:er(s,hr(e,0,-1)),null==s)return!1;o=Oi(e),s=xi(s)}return s[o]===t?t!==w||o in s:tr(t,s[o],w,!0)}}function or(e,t,n,r,i){if(!Zi(e))return e;var s=hi(t)&&(cu(t)||ss(t)),o=s?w:Su(t);return zt(o||t,function(u,a){if(o&&(a=u,u=t[a]),p(u)){r||(r=[]),i||(i=[]);e:{for(var f=a,l=r,c=i,h=l.length,d=t[f];h--;)if(l[h]==d){e[f]=c[h];break e}var h=e[f],v=n?n(h,d,f,e,t):w,m=v===w;m&&(v=d,hi(d)&&(cu(d)||ss(d))?v=cu(h)?h:hi(h)?Ut(h):[]:ns(d)||Ki(d)?v=Ki(h)?as(h):ns(h)?h:{}:m=!1),l.push(d),c.push(v),m?e[f]=or(v,d,n,l,c):(v===v?v!==h:h===h)&&(e[f]=v)}}else f=e[a],l=n?n(f,u,a,e,t):w,(c=l===w)&&(l=u),l===w&&(!s||a in e)||!c&&(l===l?l===f:f!==f)||(e[a]=l)}),e}function ur(e){return function(t){return null==t?w:t[e]}}function ar(e){var t=e+"";return e=Ti(e),function(n){return er(n,e,t)}}function fr(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&pi(r)){var i=r;Ks.call(e,r,1)}}}function lr(e,t){return e+eo(ao()*(t-e+1))}function cr(e,t,n,r,i){return i(e,function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)}),n}function hr(e,t,n){var r=-1,i=e.length;for(t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===w||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0,n=xs(i);++r<i;)n[r]=e[r+t];return n}function pr(e,t){var n;return yo(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function dr(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].c;return e}function vr(t,n,r){var i=ri(),s=-1;return n=Jt(n,function(e){return i(e)}),t=rr(t,function(e){return{a:Jt(n,function(t){return t(e)}),b:++s,c:e}}),dr(t,function(t,n){var i;e:{for(var s=-1,o=t.a,u=n.a,a=o.length,f=r.length;++s<a;)if(i=e(o[s],u[s])){if(s>=f)break e;s=r[s],i*="asc"===s||!0===s?1:-1;break e}i=t.b-n.b}return i})}function mr(e,t){var n=0;return yo(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function gr(e,t){var r=-1,i=si(),s=e.length,o=i===n,u=o&&s>=H,a=u&&Zs&&$s?new qt(void 0):null,f=[];a?(i=Rt,o=!1):(u=!1,a=t?[]:f);e:for(;++r<s;){var l=e[r],c=t?t(l,r,e):l;if(o&&l===l){for(var h=a.length;h--;)if(a[h]===c)continue e;t&&a.push(c),f.push(l)}else 0>i(a,c,0)&&((t||u)&&a.push(c),f.push(l))}return f}function yr(e,t){for(var n=-1,r=t.length,i=xs(r);++n<r;)i[n]=e[t[n]];return i}function br(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?hr(e,r?0:s,r?s+1:i):hr(e,r?s+1:0,r?i:s)}function wr(e,t){var n=e;n instanceof Ft&&(n=n.value());for(var r=-1,i=t.length;++r<i;)var s=t[r],n=s.func.apply(s.thisArg,Kt([n],s.args));return n}function Er(e,t,n){var r=0,i=e?e.length:r;if(typeof t=="number"&&t===t&&i<=ho){for(;r<i;){var s=r+i>>>1,o=e[s];(n?o<=t:o<t)&&null!==o?r=s+1:i=s}return i}return Sr(e,t,ys,n)}function Sr(e,t,n,r){t=n(t);for(var i=0,s=e?e.length:0,o=t!==t,u=null===t,a=t===w;i<s;){var f=eo((i+s)/2),l=n(e[f]),c=l!==w,h=l===l;(o?h||r:u?h&&c&&(r||null!=l):a?h&&(r||c):null==l?0:r?l<=t:l<t)?i=f+1:s=f}return so(s,co)}function xr(e,t,n){if(typeof e!="function")return ys;if(t===w)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)};case 5:return function(n,r,i,s,o){return e.call(t,n,r,i,s,o)}}return function(){return e.apply(t,arguments)}}function Tr(e){var t=new Us(e.byteLength);return(new Qs(t)).set(new Qs(e)),t}function Nr(e,t,n){for(var r=n.length,i=-1,s=io(e.length-r,0),o=-1,u=t.length,a=xs(u+s);++o<u;)a[o]=t[o];for(;++i<r;)a[n[i]]=e[i];for(;s--;)a[o++]=e[i++];return a}function Cr(e,t,n){for(var r=-1,i=n.length,s=-1,o=io(e.length-i,0),u=-1,a=t.length,f=xs(o+a);++s<o;)f[s]=e[s];for(o=s;++u<a;)f[o+u]=t[u];for(;++r<i;)f[o+n[r]]=e[s++];return f}function kr(e,t){return function(n,r,i){var s=t?t():{};if(r=ri(r,i,3),cu(n)){i=-1;for(var o=n.length;++i<o;){var u=n[i];e(s,u,r(u,i,n),n)}}else yo(n,function(t,n,i){e(s,t,r(t,n,i),i)});return s}}function Lr(e){return $i(function(t,n){var r=-1,i=null==t?0:n.length,s=2<i?n[i-2]:w,o=2<i?n[2]:w,u=1<i?n[i-1]:w;for(typeof s=="function"?(s=xr(s,u,5),i-=2):(s=typeof u=="function"?u:w,i-=s?1:0),o&&di(n[0],n[1],o)&&(s=3>i?w:s,i=1);++r<i;)(o=n[r])&&e(t,o,s);return t})}function Ar(e,t){return function(n,r){var i=n?To(n):0;if(!gi(i))return e(n,r);for(var s=t?i:-1,o=xi(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Or(e){return function(t,n,r){var i=xi(t);r=r(t);for(var s=r.length,o=e?s:-1;e?o--:++o<s;){var u=r[o];if(!1===n(i[u],u,i))break}return t}}function Mr(e,t){function n(){return(this&&this!==Vt&&this instanceof n?r:e).apply(t,arguments)}var r=Dr(e);return n}function _r(e){return function(t){var n=-1;t=ms(ps(t));for(var r=t.length,i="";++n<r;)i=e(i,t[n],n);return i}}function Dr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=go(e.prototype),t=e.apply(n,t);return Zi(t)?t:n}}function Pr(e){function t(n,r,i){return i&&di(n,r,i)&&(r=w),n=Zr(n,e,w,w,w,w,w,r),n.placeholder=t.placeholder,n}return t}function Hr(e,t){return $i(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(w,n))})}function Br(e,t){return function(n,r,i){if(i&&di(n,r,i)&&(r=w),r=ri(r,i,3),1==r.length){i=n=cu(n)?n:Si(n);for(var s=r,o=-1,u=i.length,a=t,f=a;++o<u;){var l=i[o],c=+s(l);e(c,a)&&(a=c,f=l)}if(i=f,!n.length||i!==t)return i}return qn(n,r,e,t)}}function jr(e,n){return function(r,i,s){return i=ri(i,s,3),cu(r)?(i=t(r,i,n),-1<i?r[i]:w):Xn(r,i,e)}}function Fr(e){return function(n,r,i){return n&&n.length?(r=ri(r,i,3),t(n,r,e)):-1}}function Ir(e){return function(t,n,r){return n=ri(n,r,3),Xn(t,n,e,!0)}}function qr(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,s=xs(n);e?r--:++r<n;){var o=s[i++]=arguments[r];if(typeof o!="function")throw new _s(F);!t&&jt.prototype.thru&&"wrapper"==ii(o)&&(t=new jt([],!0))}for(r=t?-1:n;++r<n;){var o=s[r],i=ii(o),u="wrapper"==i?xo(o):w;t=u&&mi(u[0])&&u[1]==(A|N|k|O)&&!u[4].length&&1==u[9]?t[ii(u[0])].apply(t,u[3]):1==o.length&&mi(o)?t[i]():t.thru(o)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&cu(r)&&r.length>=H)return t.plant(r).value();for(var i=0,e=n?s[i].apply(this,e):r;++i<n;)e=s[i].call(this,e);return e}}}function Rr(e,t){return function(n,r,i){return typeof r=="function"&&i===w&&cu(n)?e(n,r):t(n,xr(r,i,3))}}function Ur(e){return function(t,n,r){return(typeof n!="function"||r!==w)&&(n=xr(n,r,3)),e(t,n,ls)}}function zr(e){return function(t,n,r){return(typeof n!="function"||r!==w)&&(n=xr(n,r,3)),e(t,n)}}function Wr(e){return function(t,n,r){var i={};return n=ri(n,r,3),Kn(t,function(t,r,s){s=n(t,r,s),r=e?s:r,t=e?t:s,i[r]=t}),i}}function Xr(e){return function(t,n,r){return t=i(t),(e?t:"")+Kr(t,n,r)+(e?"":t)}}function Vr(e){var t=$i(function(n,r){var i=v(r,t.placeholder);return Zr(n,e,w,r,i)});return t}function $r(e,t){return function(n,r,i,s){var o=3>arguments.length;return typeof r=="function"&&s===w&&cu(n)?e(n,r,i,o):cr(n,ri(r,s,4),i,o,t)}}function Jr(e,t,n,r,i,s,o,u,a,f){function l(){for(var b=arguments.length,E=b,T=xs(b);E--;)T[E]=arguments[E];if(r&&(T=Nr(T,r,i)),s&&(T=Cr(T,s,o)),d||g){var E=l.placeholder,N=v(T,E),b=b-N.length;if(b<f){var C=u?Ut(u):w,b=io(f-b,0),A=d?N:w,N=d?w:N,O=d?T:w,T=d?w:T;return t|=d?k:L,t&=~(d?L:k),m||(t&=~(S|x)),T=[e,t,n,O,A,T,N,C,a,b],C=Jr.apply(w,T),mi(e)&&No(C,T),C.placeholder=E,C}}if(E=h?n:this,C=p?E[e]:e,u)for(b=T.length,A=so(u.length,b),N=Ut(T);A--;)O=u[A],T[A]=pi(O,b)?N[O]:w;return c&&a<T.length&&(T.length=a),this&&this!==Vt&&this instanceof l&&(C=y||Dr(e)),C.apply(E,T)}var c=t&A,h=t&S,p=t&x,d=t&N,m=t&T,g=t&C,y=p?w:Dr(e);return l}function Kr(e,t,n){return e=e.length,t=+t,e<t&&no(t)?(t-=e,n=null==n?" ":n+"",ds(n,Ys(t/n.length)).slice(0,t)):""}function Qr(e,t,n,r){function i(){for(var t=-1,u=arguments.length,a=-1,f=r.length,l=xs(f+u);++a<f;)l[a]=r[a];for(;u--;)l[a++]=arguments[++t];return(this&&this!==Vt&&this instanceof i?o:e).apply(s?n:this,l)}var s=t&S,o=Dr(e);return i}function Gr(e){var t=ks[e];return function(e,n){return(n=n===w?0:+n||0)?(n=Xs(10,n),t(e*n)/n):t(e)}}function Yr(e){return function(t,n,r,i){var s=ri(r);return null==r&&s===Mn?Er(t,n,e):Sr(t,n,s(r,i,1),e)}}function Zr(e,t,n,r,i,s,o,u){var a=t&x;if(!a&&typeof e!="function")throw new _s(F);var f=r?r.length:0;if(f||(t&=~(k|L),r=i=w),f-=i?i.length:0,t&L){var l=r,c=i;r=i=w}var h=a?w:xo(e);return n=[e,t,n,r,i,l,c,s,o,u],h&&(r=n[1],t=h[1],u=r|t,i=t==A&&r==N||t==A&&r==O&&n[7].length<=h[8]||t==(A|O)&&r==N,(u<A||i)&&(t&S&&(n[2]=h[2],u|=r&S?0:T),(r=h[3])&&(i=n[3],n[3]=i?Nr(i,r,h[4]):Ut(r),n[4]=i?v(n[3],I):Ut(h[4])),(r=h[5])&&(i=n[5],n[5]=i?Cr(i,r,h[6]):Ut(r),n[6]=i?v(n[5],I):Ut(h[6])),(r=h[7])&&(n[7]=Ut(r)),t&A&&(n[8]=null==n[8]?h[8]:so(n[8],h[8])),null==n[9]&&(n[9]=h[9]),n[0]=h[0],n[1]=u),t=n[1],u=n[9]),n[9]=null==u?a?0:e.length:io(u-f,0)||0,(h?So:No)(t==S?Mr(n[0],n[2]):t!=k&&t!=(S|k)||n[4].length?Jr.apply(w,n):Qr.apply(w,n),n)}function ei(e,t,n,r,i,s,o){var u=-1,a=e.length,f=t.length;if(a!=f&&(!i||f<=a))return!1;for(;++u<a;){var l=e[u],f=t[u],c=r?r(i?f:l,i?l:f,u):w;if(c!==w){if(c)continue;return!1}if(i){if(!Gt(t,function(e){return l===e||n(l,e,r,i,s,o)}))return!1}else if(l!==f&&!n(l,f,r,i,s,o))return!1}return!0}function ti(e,t,n){switch(n){case U:case z:return+e==+t;case W:return e.name==t.name&&e.message==t.message;case V:return e!=+e?t!=+t:e==+t;case J:case K:return e==t+""}return!1}function ni(e,t,n,r,i,s,o){var u=Su(e),a=u.length,f=Su(t).length;if(a!=f&&!i)return!1;for(f=a;f--;){var l=u[f];if(!(i?l in t:js.call(t,l)))return!1}for(var c=i;++f<a;){var l=u[f],h=e[l],p=t[l],d=r?r(i?p:h,i?h:p,l):w;if(d===w?!n(h,p,r,i,s,o):!d)return!1;c||(c="constructor"==l)}return c||(n=e.constructor,r=t.constructor,!(n!=r&&"constructor"in e&&"constructor"in t)||typeof n=="function"&&n instanceof n&&typeof r=="function"&&r instanceof r)?!0:!1}function ri(e,t,n){var r=Ht.callback||gs,r=r===gs?Mn:r;return n?r(e,t,n):r}function ii(e){for(var t=e.name+"",n=mo[t],r=n?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function si(e,t,r){var i=Ht.indexOf||Ai,i=i===Ai?n:i;return e?i(e,t,r):i}function oi(e){e=cs(e);for(var t=e.length;t--;){var n=e[t][1];e[t][2]=n===n&&!Zi(n)}return e}function ui(e,t){var n=null==e?w:e[t];return es(n)?n:w}function ai(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&js.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function fi(e){return e=e.constructor,typeof e=="function"&&e instanceof e||(e=As),new e}function li(e,t,n){var r=e.constructor;switch(t){case Q:return Tr(e);case U:case z:return new r(+e);case G:case Y:case Z:case et:case tt:case nt:case rt:case it:case st:return t=e.buffer,new r(n?Tr(t):t,e.byteOffset,e.length);case V:case K:return new r(e);case J:var i=new r(e.source,Tt.exec(e));i.lastIndex=e.lastIndex}return i}function ci(e,t,n){return null==e||vi(t,e)||(t=Ti(t),e=1==t.length?e:er(e,hr(t,0,-1)),t=Oi(t)),t=null==e?e:e[t],null==t?w:t.apply(e,n)}function hi(e){return null!=e&&gi(To(e))}function pi(e,t){return e=typeof e=="number"||kt.test(e)?+e:-1,t=null==t?po:t,-1<e&&0==e%1&&e<t}function di(e,t,n){if(!Zi(n))return!1;var r=typeof t;return("number"==r?hi(n)&&pi(t,n.length):"string"==r&&t in n)?(t=n[t],e===e?e===t:t!==t):!1}function vi(e,t){var n=typeof e;return"string"==n&&gt.test(e)||"number"==n?!0:cu(e)?!1:!mt.test(e)||null!=t&&e in xi(t)}function mi(e){var t=ii(e),n=Ht[t];return typeof n=="function"&&t in Ft.prototype?e===n?!0:(t=xo(n),!!t&&e===t[0]):!1}function gi(e){return typeof e=="number"&&-1<e&&0==e%1&&e<=po}function yi(e,t){return e===w?t:hu(e,t,yi)}function bi(e,t){e=xi(e);for(var n=-1,r=t.length,i={};++n<r;){var s=t[n];s in e&&(i[s]=e[s])}return i}function wi(e,t){var n={};return Jn(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function Ei(e){for(var t=ls(e),n=t.length,r=n&&e.length,i=!!r&&gi(r)&&(cu(e)||Ki(e)),s=-1,o=[];++s<n;){var u=t[s];(i&&pi(u,r)||js.call(e,u))&&o.push(u)}return o}function Si(e){return null==e?[]:hi(e)?Zi(e)?e:As(e):hs(e)}function xi(e){return Zi(e)?e:As(e)}function Ti(e){if(cu(e))return e;var t=[];return i(e).replace(yt,function(e,n,r,i){t.push(r?i.replace(St,"$1"):n||e)}),t}function Ni(e){return e instanceof Ft?e.clone():new jt(e.__wrapped__,e.__chain__,Ut(e.__actions__))}function Ci(e,t,n){return e&&e.length?((n?di(e,t,n):null==t)&&(t=1),hr(e,0>t?0:t)):[]}function ki(e,t,n){var r=e?e.length:0;return r?((n?di(e,t,n):null==t)&&(t=1),t=r-(+t||0),hr(e,0,0>t?0:t)):[]}function Li(e){return e?e[0]:w}function Ai(e,t,r){var i=e?e.length:0;if(!i)return-1;if(typeof r=="number")r=0>r?io(i+r,0):r;else if(r)return r=Er(e,t),r<i&&(t===t?t===e[r]:e[r]!==e[r])?r:-1;return n(e,t,r||0)}function Oi(e){var t=e?e.length:0;return t?e[t-1]:w}function Mi(e){return Ci(e,1)}function _i(e,t,r,i){if(!e||!e.length)return[];null!=t&&typeof t!="boolean"&&(i=r,r=di(e,t,i)?w:t,t=!1);var s=ri();if((null!=r||s!==Mn)&&(r=s(r,i,3)),t&&si()===n){t=r;var o;r=-1,i=e.length;for(var s=-1,u=[];++r<i;){var a=e[r],f=t?t(a,r,e):a;r&&o===f||(o=f,u[++s]=a)}e=u}else e=gr(e,r);return e}function Di(e){if(!e||!e.length)return[];var t=-1,n=0;e=Xt(e,function(e){return hi(e)?(n=io(e.length,n),!0):void 0});for(var r=xs(n);++t<n;)r[t]=Jt(e,ur(t));return r}function Pi(e,t,n){return e&&e.length?(e=Di(e),null==t?e:(t=xr(t,n,4),Jt(e,function(e){return Qt(e,t,w,!0)}))):[]}function Hi(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||cu(e[0])||(t=[]);++n<r;){var s=e[n];t?i[s]=t[n]:s&&(i[s[0]]=s[1])}return i}function Bi(e){return e=Ht(e),e.__chain__=!0,e}function ji(e,t,n){return t.call(n,e)}function Fi(e,t,n){var r=cu(e)?Wt:Bn;return n&&di(e,t,n)&&(t=w),(typeof t!="function"||n!==w)&&(t=ri(t,n,3)),r(e,t)}function Ii(e,t,n){var r=cu(e)?Xt:zn;return t=ri(t,n,3),r(e,t)}function qi(e,t,n,r){var i=e?To(e):0;return gi(i)||(e=hs(e),i=e.length),n=typeof n!="number"||r&&di(t,n,r)?0:0>n?io(i+n,0):n||0,typeof e=="string"||!cu(e)&&is(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<si(e,t,n)}function Ri(e,t,n){var r=cu(e)?Jt:rr;return t=ri(t,n,3),r(e,t)}function Ui(e,t,n){if(n?di(e,t,n):null==t){e=Si(e);var r=e.length;return 0<r?e[lr(0,r-1)]:w}n=-1,e=us(e);var r=e.length,i=r-1;for(t=so(0>t?0:+t||0,r);++n<t;){var r=lr(n,i),s=e[r];e[r]=e[n],e[n]=s}return e.length=t,e}function zi(e,t,n){var r=cu(e)?Gt:pr;return n&&di(e,t,n)&&(t=w),(typeof t!="function"||n!==w)&&(t=ri(t,n,3)),r(e,t)}function Wi(e,t){var n;if(typeof t!="function"){if(typeof e!="function")throw new _s(F);var r=e;e=t,t=r}return function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=w),n}}function Xi(e,t,n){function r(t,n){n&&zs(n),a=h=p=w,t&&(d=Go(),f=e.apply(c,u),h||a||(u=c=w))}function i(){var e=t-(Go()-l);0>=e||e>t?r(p,a):h=Js(i,e)}function s(){r(m,h)}function o(){if(u=arguments,l=Go(),c=this,p=m&&(h||!g),!1===v)var n=g&&!h;else{a||g||(d=l);var r=v-(l-d),o=0>=r||r>v;o?(a&&(a=zs(a)),d=l,f=e.apply(c,u)):a||(a=Js(s,r))}return o&&h?h=zs(h):h||t===v||(h=Js(i,t)),n&&(o=!0,f=e.apply(c,u)),!o||h||a||(u=c=w),f}var u,a,f,l,c,h,p,d=0,v=!1,m=!0;if(typeof e!="function")throw new _s(F);if(t=0>t?0:+t||0,!0===n)var g=!0,m=!1;else Zi(n)&&(g=!!n.leading,v="maxWait"in n&&io(+n.maxWait||0,t),m="trailing"in n?!!n.trailing:m);return o.cancel=function(){h&&zs(h),a&&zs(a),d=0,a=h=p=w},o}function Vi(e,t){function n(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;return s.has(i)?s.get(i):(r=e.apply(this,r),n.cache=s.set(i,r),r)}if(typeof e!="function"||t&&typeof t!="function")throw new _s(F);return n.cache=new Vi.Cache,n}function $i(e,t){if(typeof e!="function")throw new _s(F);return t=io(t===w?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=io(n.length-t,0),s=xs(i);++r<i;)s[r]=n[t+r];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,n[0],s);case 2:return e.call(this,n[0],n[1],s)}for(i=xs(t+1),r=-1;++r<t;)i[r]=n[r];return i[t]=s,e.apply(this,i)}}function Ji(e,t){return e>t}function Ki(e){return p(e)&&hi(e)&&js.call(e,"callee")&&!Vs.call(e,"callee")}function Qi(e,t,n,r){return r=(n=typeof n=="function"?xr(n,r,3):w)?n(e,t):w,r===w?tr(e,t,n):!!r}function Gi(e){return p(e)&&typeof e.message=="string"&&Is.call(e)==W}function Yi(e){return Zi(e)&&Is.call(e)==X}function Zi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function es(e){return null==e?!1:Yi(e)?Rs.test(Bs.call(e)):p(e)&&Ct.test(e)}function ts(e){return typeof e=="number"||p(e)&&Is.call(e)==V}function ns(e){var t;if(!p(e)||Is.call(e)!=$||Ki(e)||!(js.call(e,"constructor")||(t=e.constructor,typeof t!="function"||t instanceof t)))return!1;var n;return Jn(e,function(e,t){n=t}),n===w||js.call(e,n)}function rs(e){return Zi(e)&&Is.call(e)==J}function is(e){return typeof e=="string"||p(e)&&Is.call(e)==K}function ss(e){return p(e)&&gi(e.length)&&!!Dt[Is.call(e)]}function os(e,t){return e<t}function us(e){var t=e?To(e):0;return gi(t)?t?Ut(e):[]:hs(e)}function as(e){return Ln(e,ls(e))}function fs(e){return Gn(e,ls(e))}function ls(e){if(null==e)return[];Zi(e)||(e=As(e));for(var t=e.length,t=t&&gi(t)&&(cu(e)||Ki(e))&&t||0,n=e.constructor,r=-1,n=typeof n=="function"&&n.prototype===e,i=xs(t),s=0<t;++r<t;)i[r]=r+"";for(var o in e)s&&pi(o,t)||"constructor"==o&&(n||!js.call(e,o))||i.push(o);return i}function cs(e){e=xi(e);for(var t=-1,n=Su(e),r=n.length,i=xs(r);++t<r;){var s=n[t];i[t]=[s,e[s]]}return i}function hs(e){return yr(e,Su(e))}function ps(e){return(e=i(e))&&e.replace(Lt,a).replace(Et,"")}function ds(e,t){var n="";if(e=i(e),t=+t,1>t||!e||!no(t))return n;do t%2&&(n+=e),t=eo(t/2),e+=e;while(t);return n}function vs(e,t,n){var r=e;return(e=i(e))?(n?di(r,t,n):null==t)?e.slice(m(e),g(e)+1):(t+="",e.slice(s(e,t),o(e,t)+1)):e}function ms(e,t,n){return n&&di(e,t,n)&&(t=w),e=i(e),e.match(t||Mt)||[]}function gs(e,t,n){return n&&di(e,t,n)&&(t=w),p(e)?bs(e):Mn(e,t)}function ys(e){return e}function bs(e){return ir(Dn(e,!0))}function ws(e,t,n){if(null==n){var r=Zi(t),i=r?Su(t):w;((i=i&&i.length?Gn(t,i):w)?i.length:r)||(i=!1,n=t,t=e,e=this)}i||(i=Gn(t,Su(t)));var s=!0,r=-1,o=Yi(e),u=i.length;!1===n?s=!1:Zi(n)&&"chain"in n&&(s=n.chain);for(;++r<u;){n=i[r];var a=t[n];e[n]=a,o&&(e.prototype[n]=function(t){return function(){var n=this.__chain__;if(s||n){var r=e(this.__wrapped__);return(r.__actions__=Ut(this.__actions__)).push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,Kt([this.value()],arguments))}}(a))}return e}function Es(){}function Ss(e){return vi(e)?ur(e):ar(e)}d=d?$t.defaults(Vt.Object(),d,$t.pick(Vt,_t)):Vt;var xs=d.Array,Ts=d.Date,Ns=d.Error,Cs=d.Function,ks=d.Math,Ls=d.Number,As=d.Object,Os=d.RegExp,Ms=d.String,_s=d.TypeError,Ds=xs.prototype,Ps=As.prototype,Hs=Ms.prototype,Bs=Cs.prototype.toString,js=Ps.hasOwnProperty,Fs=0,Is=Ps.toString,qs=Vt._,Rs=Os("^"+Bs.call(js).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Us=d.ArrayBuffer,zs=d.clearTimeout,Ws=d.parseFloat,Xs=ks.pow,Vs=Ps.propertyIsEnumerable,$s=ui(d,"Set"),Js=d.setTimeout,Ks=Ds.splice,Qs=d.Uint8Array,Gs=ui(d,"WeakMap"),Ys=ks.ceil,Zs=ui(As,"create"),eo=ks.floor,to=ui(xs,"isArray"),no=d.isFinite,ro=ui(As,"keys"),io=ks.max,so=ks.min,oo=ui(Ts,"now"),uo=d.parseInt,ao=ks.random,fo=Ls.NEGATIVE_INFINITY,lo=Ls.POSITIVE_INFINITY,co=4294967294,ho=2147483647,po=9007199254740991,vo=Gs&&new Gs,mo={};Ht.support={},Ht.templateSettings={escape:pt,evaluate:dt,interpolate:vt,variable:"",imports:{_:Ht}};var go=function(){function e(){}return function(t){if(Zi(t)){e.prototype=t;var n=new e;e.prototype=w}return n||{}}}(),yo=Ar(Kn),bo=Ar(Qn,!0),wo=Or(),Eo=Or(!0),So=vo?function(e,t){return vo.set(e,t),e}:ys,xo=vo?function(e){return vo.get(e)}:Es,To=ur("length"),No=function(){var e=0,t=0;return function(n,r){var i=Go(),s=P-(i-t);if(t=i,0<s){if(++e>=D)return n}else e=0;return So(n,r)}}(),Co=$i(function(e,t){return p(e)&&hi(e)?Hn(e,Vn(t,!1,!0)):[]}),ko=Fr(),Lo=Fr(!0),Ao=$i(function(e){for(var t=e.length,r=t,i=xs(l),s=si(),o=s===n,u=[];r--;){var a=e[r]=hi(a=e[r])?a:[];i[r]=o&&120<=a.length&&Zs&&$s?new qt(r&&a):null}var o=e[0],f=-1,l=o?o.length:0,c=i[0];e:for(;++f<l;)if(a=o[f],0>(c?Rt(c,a):s(u,a,0))){for(r=t;--r;){var h=i[r];if(0>(h?Rt(h,a):s(e[r],a,0)))continue e}c&&c.push(a),u.push(a)}return u}),Oo=$i(function(t,n){n=Vn(n);var r=Nn(t,n);return fr(t,n.sort(e)),r}),Mo=Yr(),_o=Yr(!0),Do=$i(function(e){return gr(Vn(e,!1,!0))}),Po=$i(function(e,t){return hi(e)?Hn(e,t):[]}),Ho=$i(Di),Bo=$i(function(e){var t=e.length,n=2<t?e[t-2]:w,r=1<t?e[t-1]:w;return 2<t&&typeof n=="function"?t-=2:(n=1<t&&typeof r=="function"?(--t,r):w,r=w),e.length=t,Pi(e,n,r)}),jo=$i(function(e){return e=Vn(e),this.thru(function(t){t=cu(t)?t:[xi(t)];for(var n=e,r=-1,i=t.length,s=-1,o=n.length,u=xs(i+o);++r<i;)u[r]=t[r];for(;++s<o;)u[r++]=n[s];return u})}),Fo=$i(function(e,t){return Nn(e,Vn(t))}),Io=kr(function(e,t,n){js.call(e,n)?++e[n]:e[n]=1}),qo=jr(yo),Ro=jr(bo,!0),Uo=Rr(zt,yo),zo=Rr(function(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e},bo),Wo=kr(function(e,t,n){js.call(e,n)?e[n].push(t):e[n]=[t]}),Xo=kr(function(e,t,n){e[n]=t}),Vo=$i(function(e,t,n){var r=-1,i=typeof t=="function",s=vi(t),o=hi(e)?xs(e.length):[];return yo(e,function(e){var u=i?t:s&&null!=e?e[t]:w;o[++r]=u?u.apply(e,n):ci(e,t,n)}),o}),$o=kr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Jo=$r(Qt,yo),Ko=$r(function(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n},bo),Qo=$i(function(e,t){if(null==e)return[];var n=t[2];return n&&di(t[0],t[1],n)&&(t.length=1),vr(e,Vn(t),[])}),Go=oo||function(){return(new Ts).getTime()},Yo=$i(function(e,t,n){var r=S;if(n.length)var i=v(n,Yo.placeholder),r=r|k;return Zr(e,r,t,n,i)}),Zo=$i(function(e,t){t=t.length?Vn(t):fs(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Zr(e[i],S,e)}return e}),eu=$i(function(e,t,n){var r=S|x;if(n.length)var i=v(n,eu.placeholder),r=r|k;return Zr(t,r,e,n,i)}),tu=Pr(N),nu=Pr(C),ru=$i(function(e,t){return Pn(e,1,t)}),iu=$i(function(e,t,n){return Pn(e,t,n)}),su=qr(),ou=qr(!0),uu=$i(function(e,t){if(t=Vn(t),typeof e!="function"||!Wt(t,r))throw new _s(F);var n=t.length;return $i(function(r){for(var i=so(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),au=Vr(k),fu=Vr(L),lu=$i(function(e,t){return Zr(e,O,w,w,w,Vn(t))}),cu=to||function(e){return p(e)&&gi(e.length)&&Is.call(e)==R},hu=Lr(or),pu=Lr(function(e,t,n){return n?Zt(e,t,n):Tn(e,t)}),du=Hr(pu,function(e,t){return e===w?t:e}),vu=Hr(hu,yi),mu=Ir(Kn),gu=Ir(Qn),yu=Ur(wo),bu=Ur(Eo),wu=zr(Kn),Eu=zr(Qn),Su=ro?function(e){var t=null==e?w:e.constructor;return typeof t=="function"&&t.prototype===e||typeof e!="function"&&hi(e)?Ei(e):Zi(e)?ro(e):[]}:Ei,xu=Wr(!0),Tu=Wr(),Nu=$i(function(e,t){if(null==e)return{};if("function"!=typeof t[0])return t=Jt(Vn(t),Ms),bi(e,Hn(ls(e),t));var n=xr(t[0],t[1],3);return wi(e,function(e,t,r){return!n(e,t,r)})}),Cu=$i(function(e,t){return null==e?{}:"function"==typeof t[0]?wi(e,xr(t[0],t[1],3)):bi(e,Vn(t))}),ku=_r(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Lu=_r(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Au=Xr(),Ou=Xr(!0),Mu=_r(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),_u=_r(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Du=$i(function(e,t){try{return e.apply(w,t)}catch(n){return Gi(n)?n:new Ns(n)}}),Pu=$i(function(e,t){return function(n){return ci(n,e,t)}}),Hu=$i(function(e,t){return function(n){return ci(e,n,t)}}),Bu=Gr("ceil"),ju=Gr("floor"),Fu=Br(Ji,fo),Iu=Br(os,lo),qu=Gr("round");return Ht.prototype=Bt.prototype,jt.prototype=go(Bt.prototype),jt.prototype.constructor=jt,Ft.prototype=go(Bt.prototype),Ft.prototype.constructor=Ft,It.prototype["delete"]=function(e){return this.has(e)&&delete this.__data__[e]},It.prototype.get=function(e){return"__proto__"==e?w:this.__data__[e]},It.prototype.has=function(e){return"__proto__"!=e&&js.call(this.__data__,e)},It.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},qt.prototype.push=function(e){var t=this.data;typeof e=="string"||Zi(e)?t.set.add(e):t.hash[e]=!0},Vi.Cache=It,Ht.after=function(e,t){if(typeof t!="function"){if(typeof e!="function")throw new _s(F);var n=e;e=t,t=n}return e=no(e=+e)?e:0,function(){return 1>--e?t.apply(this,arguments):void 0}},Ht.ary=function(e,t,n){return n&&di(e,t,n)&&(t=w),t=e&&null==t?e.length:io(+t||0,0),Zr(e,A,w,w,w,w,t)},Ht.assign=pu,Ht.at=Fo,Ht.before=Wi,Ht.bind=Yo,Ht.bindAll=Zo,Ht.bindKey=eu,Ht.callback=gs,Ht.chain=Bi,Ht.chunk=function(e,t,n){t=(n?di(e,t,n):null==t)?1:io(eo(t)||1,1),n=0;for(var r=e?e.length:0,i=-1,s=xs(Ys(r/t));n<r;)s[++i]=hr(e,n,n+=t);return s},Ht.compact=function(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var s=e[t];s&&(i[++r]=s)}return i},Ht.constant=function(e){return function(){return e}},Ht.countBy=Io,Ht.create=function(e,t,n){var r=go(e);return n&&di(e,t,n)&&(t=w),t?Tn(r,t):r},Ht.curry=tu,Ht.curryRight=nu,Ht.debounce=Xi,Ht.defaults=du,Ht.defaultsDeep=vu,Ht.defer=ru,Ht.delay=iu,Ht.difference=Co,Ht.drop=Ci,Ht.dropRight=ki,Ht.dropRightWhile=function(e,t,n){return e&&e.length?br(e,ri(t,n,3),!0,!0):[]},Ht.dropWhile=function(e,t,n){return e&&e.length?br(e,ri(t,n,3),!0):[]},Ht.fill=function(e,t,n,r){var i=e?e.length:0;if(!i)return[];for(n&&typeof n!="number"&&di(e,t,n)&&(n=0,r=i),i=e.length,n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===w||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)e[n++]=t;return e},Ht.filter=Ii,Ht.flatten=function(e,t,n){var r=e?e.length:0;return n&&di(e,t,n)&&(t=!1),r?Vn(e,t):[]},Ht.flattenDeep=function(e){return e&&e.length?Vn(e,!0):[]},Ht.flow=su,Ht.flowRight=ou,Ht.forEach=Uo,Ht.forEachRight=zo,Ht.forIn=yu,Ht.forInRight=bu,Ht.forOwn=wu,Ht.forOwnRight=Eu,Ht.functions=fs,Ht.groupBy=Wo,Ht.indexBy=Xo,Ht.initial=function(e){return ki(e,1)},Ht.intersection=Ao,Ht.invert=function(e,t,n){n&&di(e,t,n)&&(t=w),n=-1;for(var r=Su(e),i=r.length,s={};++n<i;){var o=r[n],u=e[o];t?js.call(s,u)?s[u].push(o):s[u]=[o]:s[u]=o}return s},Ht.invoke=Vo,Ht.keys=Su,Ht.keysIn=ls,Ht.map=Ri,Ht.mapKeys=xu,Ht.mapValues=Tu,Ht.matches=bs,Ht.matchesProperty=function(e,t){return sr(e,Dn(t,!0))},Ht.memoize=Vi,Ht.merge=hu,Ht.method=Pu,Ht.methodOf=Hu,Ht.mixin=ws,Ht.modArgs=uu,Ht.negate=function(e){if(typeof e!="function")throw new _s(F);return function(){return!e.apply(this,arguments)}},Ht.omit=Nu,Ht.once=function(e){return Wi(2,e)},Ht.pairs=cs,Ht.partial=au,Ht.partialRight=fu,Ht.partition=$o,Ht.pick=Cu,Ht.pluck=function(e,t){return Ri(e,Ss(t))},Ht.property=Ss,Ht.propertyOf=function(e){return function(t){return er(e,Ti(t),t+"")}},Ht.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=si(),i=e.length;++n<i;)for(var s=0,o=e[n];-1<(s=r(t,o,s));)Ks.call(t,s,1);return t},Ht.pullAt=Oo,Ht.range=function(e,t,n){n&&di(e,t,n)&&(t=n=w),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;var r=-1;t=io(Ys((t-e)/(n||1)),0);for(var i=xs(t);++r<t;)i[r]=e,e+=n;return i},Ht.rearg=lu,Ht.reject=function(e,t,n){var r=cu(e)?Xt:zn;return t=ri(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})},Ht.remove=function(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,s=[],o=e.length;for(t=ri(t,n,3);++i<o;)n=e[i],t(n,i,e)&&(r.push(n),s.push(i));return fr(e,s),r},Ht.rest=Mi,Ht.restParam=$i,Ht.set=function(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||vi(t,e)?[r]:Ti(t);for(var r=-1,i=t.length,s=i-1,o=e;null!=o&&++r<i;){var u=t[r];Zi(o)&&(r==s?o[u]=n:null==o[u]&&(o[u]=pi(t[r+1])?[]:{})),o=o[u]}return e},Ht.shuffle=function(e){return Ui(e,lo)},Ht.slice=function(e,t,n){var r=e?e.length:0;return r?(n&&typeof n!="number"&&di(e,t,n)&&(t=0,n=r),hr(e,t,n)):[]},Ht.sortBy=function(e,t,n){if(null==e)return[];n&&di(e,t,n)&&(t=w);var r=-1;return t=ri(t,n,3),e=rr(e,function(e,n,i){return{a:t(e,n,i),b:++r,c:e}}),dr(e,u)},Ht.sortByAll=Qo,Ht.sortByOrder=function(e,t,n,r){return null==e?[]:(r&&di(t,n,r)&&(n=w),cu(t)||(t=null==t?[]:[t]),cu(n)||(n=null==n?[]:[n]),vr(e,t,n))},Ht.spread=function(e){if(typeof e!="function")throw new _s(F);return function(t){return e.apply(this,t)}},Ht.take=function(e,t,n){return e&&e.length?((n?di(e,t,n):null==t)&&(t=1),hr(e,0,0>t?0:t)):[]},Ht.takeRight=function(e,t,n){var r=e?e.length:0;return r?((n?di(e,t,n):null==t)&&(t=1),t=r-(+t||0),hr(e,0>t?0:t)):[]},Ht.takeRightWhile=function(e,t,n){return e&&e.length?br(e,ri(t,n,3),!1,!0):[]},Ht.takeWhile=function(e,t,n){return e&&e.length?br(e,ri(t,n,3)):[]},Ht.tap=function(e,t,n){return t.call(n,e),e},Ht.throttle=function(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new _s(F);return!1===n?r=!1:Zi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Xi(e,t,{leading:r,maxWait:+t,trailing:i})},Ht.thru=ji,Ht.times=function(e,t,n){if(e=eo(e),1>e||!no(e))return[];var r=-1,i=xs(so(e,4294967295));for(t=xr(t,n,1);++r<e;)4294967295>r?i[r]=t(r):t(r);return i},Ht.toArray=us,Ht.toPlainObject=as,Ht.transform=function(e,t,n,r){var i=cu(e)||ss(e);return t=ri(t,r,4),null==n&&(i||Zi(e)?(r=e.constructor,n=i?cu(e)?new r:[]:go(Yi(r)?r.prototype:w)):n={}),(i?zt:Kn)(e,function(e,r,i){return t(n,e,r,i)}),n},Ht.union=Do,Ht.uniq=_i,Ht.unzip=Di,Ht.unzipWith=Pi,Ht.values=hs,Ht.valuesIn=function(e){return yr(e,ls(e))},Ht.where=function(e,t){return Ii(e,ir(t))},Ht.without=Po,Ht.wrap=function(e,t){return t=null==t?ys:t,Zr(t,k,w,[e],[])},Ht.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(hi(n))var r=r?Kt(Hn(r,n),Hn(n,r)):n}return r?gr(r):[]},Ht.zip=Ho,Ht.zipObject=Hi,Ht.zipWith=Bo,Ht.backflow=ou,Ht.collect=Ri,Ht.compose=ou,Ht.each=Uo,Ht.eachRight=zo,Ht.extend=pu,Ht.iteratee=gs,Ht.methods=fs,Ht.object=Hi,Ht.select=Ii,Ht.tail=Mi,Ht.unique=_i,ws(Ht,Ht),Ht.add=function(e,t){return(+e||0)+(+t||0)},Ht.attempt=Du,Ht.camelCase=ku,Ht.capitalize=function(e){return(e=i(e))&&e.charAt(0).toUpperCase()+e.slice(1)},Ht.ceil=Bu,Ht.clone=function(e,t,n,r){return t&&typeof t!="boolean"&&di(e,t,n)?t=!1:typeof t=="function"&&(r=n,n=t,t=!1),typeof n=="function"?Dn(e,t,xr(n,r,3)):Dn(e,t)},Ht.cloneDeep=function(e,t,n){return typeof t=="function"?Dn(e,!0,xr(t,n,3)):Dn(e,!0)},Ht.deburr=ps,Ht.endsWith=function(e,t,n){e=i(e),t+="";var r=e.length;return n=n===w?r:so(0>n?0:+n||0,r),n-=t.length,0<=n&&e.indexOf(t,n)==n},Ht.escape=function(e){return(e=i(e))&&ht.test(e)?e.replace(lt,f):e},Ht.escapeRegExp=function(e){return(e=i(e))&&wt.test(e)?e.replace(bt,l):e||"(?:)"},Ht.every=Fi,Ht.find=qo,Ht.findIndex=ko,Ht.findKey=mu,Ht.findLast=Ro,Ht.findLastIndex=Lo,Ht.findLastKey=gu,Ht.findWhere=function(e,t){return qo(e,ir(t))},Ht.first=Li,Ht.floor=ju,Ht.get=function(e,t,n){return e=null==e?w:er(e,Ti(t),t+""),e===w?n:e},Ht.gt=Ji,Ht.gte=function(e,t){return e>=t},Ht.has=function(e,t){if(null==e)return!1;var n=js.call(e,t);if(!n&&!vi(t)){if(t=Ti(t),e=1==t.length?e:er(e,hr(t,0,-1)),null==e)return!1;t=Oi(t),n=js.call(e,t)}return n||gi(e.length)&&pi(t,e.length)&&(cu(e)||Ki(e))},Ht.identity=ys,Ht.includes=qi,Ht.indexOf=Ai,Ht.inRange=function(e,t,n){return t=+t||0,n===w?(n=t,t=0):n=+n||0,e>=so(t,n)&&e<io(t,n)},Ht.isArguments=Ki,Ht.isArray=cu,Ht.isBoolean=function(e){return!0===e||!1===e||p(e)&&Is.call(e)==U},Ht.isDate=function(e){return p(e)&&Is.call(e)==z},Ht.isElement=function(e){return!!e&&1===e.nodeType&&p(e)&&!ns(e)},Ht.isEmpty=function(e){return null==e?!0:hi(e)&&(cu(e)||is(e)||Ki(e)||p(e)&&Yi(e.splice))?!e.length:!Su(e).length},Ht.isEqual=Qi,Ht.isError=Gi,Ht.isFinite=function(e){return typeof e=="number"&&no(e)},Ht.isFunction=Yi,Ht.isMatch=function(e,t,n,r){return n=typeof n=="function"?xr(n,r,3):w,nr(e,oi(t),n)},Ht.isNaN=function(e){return ts(e)&&e!=+e},Ht.isNative=es,Ht.isNull=function(e){return null===e},Ht.isNumber=ts,Ht.isObject=Zi,Ht.isPlainObject=ns,Ht.isRegExp=rs,Ht.isString=is,Ht.isTypedArray=ss,Ht.isUndefined=function(e){return e===w},Ht.kebabCase=Lu,Ht.last=Oi,Ht.lastIndexOf=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if(typeof n=="number")i=(0>n?io(r+n,0):so(n||0,r-1))+1;else if(n)return i=Er(e,t,!0)-1,e=e[i],(t===t?t===e:e!==e)?i:-1;if(t!==t)return h(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1},Ht.lt=os,Ht.lte=function(e,t){return e<=t},Ht.max=Fu,Ht.min=Iu,Ht.noConflict=function(){return Vt._=qs,this},Ht.noop=Es,Ht.now=Go,Ht.pad=function(e,t,n){e=i(e),t=+t;var r=e.length;return r<t&&no(t)?(r=(t-r)/2,t=eo(r),r=Ys(r),n=Kr("",r,n),n.slice(0,t)+e+n):e},Ht.padLeft=Au,Ht.padRight=Ou,Ht.parseInt=function(e,t,n){return(n?di(e,t,n):null==t)?t=0:t&&(t=+t),e=vs(e),uo(e,t||(Nt.test(e)?16:10))},Ht.random=function(e,t,n){n&&di(e,t,n)&&(t=n=w);var r=null==e,i=null==t;return null==n&&(i&&typeof e=="boolean"?(n=e,e=1):typeof t=="boolean"&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1?(n=ao(),so(e+n*(t-e+Ws("1e-"+((n+"").length-1))),t)):lr(e,t)},Ht.reduce=Jo,Ht.reduceRight=Ko,Ht.repeat=ds,Ht.result=function(e,t,n){var r=null==e?w:e[t];return r===w&&(null==e||vi(t,e)||(t=Ti(t),e=1==t.length?e:er(e,hr(t,0,-1)),r=null==e?w:e[Oi(t)]),r=r===w?n:r),Yi(r)?r.call(e):r},Ht.round=qu,Ht.runInContext=b,Ht.size=function(e){var t=e?To(e):0;return gi(t)?t:Su(e).length},Ht.snakeCase=Mu,Ht.some=zi,Ht.sortedIndex=Mo,Ht.sortedLastIndex=_o,Ht.startCase=_u,Ht.startsWith=function(e,t,n){return e=i(e),n=null==n?0:so(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n},Ht.sum=function(e,t,n){if(n&&di(e,t,n)&&(t=w),t=ri(t,n,3),1==t.length){e=cu(e)?e:Si(e),n=e.length;for(var r=0;n--;)r+=+t(e[n])||0;e=r}else e=mr(e,t);return e},Ht.template=function(e,t,n){var r=Ht.templateSettings;n&&di(e,t,n)&&(t=n=w),e=i(e),t=Zt(Tn({},n||t),r,Yt),n=Zt(Tn({},t.imports),r.imports,Yt);var s,o,u=Su(n),a=yr(n,u),f=0;n=t.interpolate||At;var l="__p+='";n=Os((t.escape||At).source+"|"+n.source+"|"+(n===vt?xt:At).source+"|"+(t.evaluate||At).source+"|$","g");var h="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(e.replace(n,function(t,n,r,i,u,a){return r||(r=i),l+=e.slice(f,a).replace(Ot,c),n&&(s=!0,l+="'+__e("+n+")+'"),u&&(o=!0,l+="';"+u+";\n__p+='"),r&&(l+="'+((__t=("+r+"))==null?'':__t)+'"),f=a+t.length,t}),l+="';",(t=t.variable)||(l="with(obj){"+l+"}"),l=(o?l.replace(ot,""):l).replace(ut,"$1").replace(at,"$1;"),l="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(s?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}",t=Du(function(){return Cs(u,h+"return "+l).apply(w,a)}),t.source=l,Gi(t))throw t;return t},Ht.trim=vs,Ht.trimLeft=function(e,t,n){var r=e;return(e=i(e))?e.slice((n?di(r,t,n):null==t)?m(e):s(e,t+"")):e},Ht.trimRight=function(e,t,n){var r=e;return(e=i(e))?(n?di(r,t,n):null==t)?e.slice(0,g(e)+1):e.slice(0,o(e,t+"")+1):e},Ht.trunc=function(e,t,n){n&&di(e,t,n)&&(t=w);var r=M;if(n=_,null!=t)if(Zi(t)){var s="separator"in t?t.separator:s,r="length"in t?+t.length||0:r;n="omission"in t?i(t.omission):n}else r=+t||0;if(e=i(e),r>=e.length)return e;if(r-=n.length,1>r)return n;if(t=e.slice(0,r),null==s)return t+n;if(rs(s)){if(e.slice(r).search(s)){var o,u=e.slice(0,r);for(s.global||(s=Os(s.source,(Tt.exec(s)||"")+"g")),s.lastIndex=0;e=s.exec(u);)o=e.index;t=t.slice(0,null==o?r:o)}}else e.indexOf(s,r)!=r&&(s=t.lastIndexOf(s),-1<s&&(t=t.slice(0,s)));return t+n},Ht.unescape=function(e){return(e=i(e))&&ct.test(e)?e.replace(ft,y):e},Ht.uniqueId=function(e){var t=++Fs;return i(e)+t},Ht.words=ms,Ht.all=Fi,Ht.any=zi,Ht.contains=qi,Ht.eq=Qi,Ht.detect=qo,Ht.foldl=Jo,Ht.foldr=Ko,Ht.head=Li,Ht.include=qi,Ht.inject=Jo,ws(Ht,function(){var e={};return Kn(Ht,function(t,n){Ht.prototype[n]||(e[n]=t)}),e}(),!1),Ht.sample=Ui,Ht.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Ui(t,e)}):Ui(this.value())},Ht.VERSION=E,zt("bind bindKey curry curryRight partial partialRight".split(" "),function(e){Ht[e].placeholder=Ht}),zt(["drop","take"],function(e,t){Ft.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new Ft(this);n=null==n?1:io(eo(n)||0,0);var i=this.clone();return r?i.__takeCount__=so(i.__takeCount__,n):i.__views__.push({size:n,type:e+(0>i.__dir__?"Right":"")}),i},Ft.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),zt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=j;Ft.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:ri(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),zt(["first","last"],function(e,t){var n="take"+(t?"Right":"");Ft.prototype[e]=function(){return this[n](1).value()[0]}}),zt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");Ft.prototype[e]=function(){return this.__filtered__?new Ft(this):this[n](1)}}),zt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?ir:Ss;Ft.prototype[e]=function(e){return this[n](r(e))}}),Ft.prototype.compact=function(){return this.filter(ys)},Ft.prototype.reject=function(e,t){return e=ri(e,t,1),this.filter(function(t){return!e(t)})},Ft.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(0<e||0>t)?new Ft(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==w&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},Ft.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},Ft.prototype.toArray=function(){return this.take(lo)},Kn(Ft.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),r=/^(?:first|last)$/.test(t),i=Ht[r?"take"+("last"==t?"Right":""):t];i&&(Ht.prototype[t]=function(){function t(e){return r&&o?i(e,1)[0]:i.apply(w,Kt([e],s))}var s=r?[1]:arguments,o=this.__chain__,u=this.__wrapped__,a=!!this.__actions__.length,f=u instanceof Ft,l=s[0],c=f||cu(u);return c&&n&&typeof l=="function"&&1!=l.length&&(f=c=!1),l={func:ji,args:[t],thisArg:w},a=f&&!a,r&&!o?a?(u=u.clone(),u.__actions__.push(l),e.call(u)):i.call(w,this.value())[0]:!r&&c?(u=a?u:new Ft(this),u=e.apply(u,s),u.__actions__.push(l),new jt(u,o)):this.thru(t)})}),zt("join pop push replace shift sort splice split unshift".split(" "),function(e){var t=(/^(?:replace|split)$/.test(e)?Hs:Ds)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);Ht.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),Kn(Ft.prototype,function(e,t){var n=Ht[t];if(n){var r=n.name+"";(mo[r]||(mo[r]=[])).push({name:t,func:n})}}),mo[Jr(w,x).name]=[{name:"wrapper",func:w}],Ft.prototype.clone=function(){var e=new Ft(this.__wrapped__);return e.__actions__=Ut(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ut(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ut(this.__views__),e},Ft.prototype.reverse=function(){if(this.__filtered__){var e=new Ft(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},Ft.prototype.value=function(){var e,t=this.__wrapped__.value(),n=this.__dir__,r=cu(t),i=0>n,s=r?t.length:0;e=s;for(var o=this.__views__,u=0,a=-1,f=o.length;++a<f;){var l=o[a],c=l.size;switch(l.type){case"drop":u+=c;break;case"dropRight":e-=c;break;case"take":e=so(e,u+c);break;case"takeRight":u=io(u,e-c)}}if(e={start:u,end:e},o=e.start,u=e.end,e=u-o,i=i?u:o-1,o=this.__iteratees__,u=o.length,a=0,f=so(e,this.__takeCount__),!r||s<H||s==e&&f==e)return wr(t,this.__actions__);r=[];e:for(;e--&&a<f;){for(i+=n,s=-1,l=t[i];++s<u;){var h=o[s],c=h.type,h=h.iteratee(l);if(c==j)l=h;else if(!h){if(c==B)continue e;break e}}r[a++]=l}return r},Ht.prototype.chain=function(){return Bi(this)},Ht.prototype.commit=function(){return new jt(this.value(),this.__chain__)},Ht.prototype.concat=jo,Ht.prototype.plant=function(e){for(var t,n=this;n instanceof Bt;){var r=Ni(n);t?i.__wrapped__=r:t=r;var i=r,n=n.__wrapped__}return i.__wrapped__=e,t},Ht.prototype.reverse=function(){function e(e){return e.reverse()}var t=this.__wrapped__;return t instanceof Ft?(this.__actions__.length&&(t=new Ft(this)),t=t.reverse(),t.__actions__.push({func:ji,args:[e],thisArg:w}),new jt(t,this.__chain__)):this.thru(e)},Ht.prototype.toString=function(){return this.value()+""},Ht.prototype.run=Ht.prototype.toJSON=Ht.prototype.valueOf=Ht.prototype.value=function(){return wr(this.__wrapped__,this.__actions__)},Ht.prototype.collect=Ht.prototype.map,Ht.prototype.head=Ht.prototype.first,Ht.prototype.select=Ht.prototype.filter,Ht.prototype.tail=Ht.prototype.rest,Ht}var w,E="3.10.1",S=1,x=2,T=4,N=8,C=16,k=32,L=64,A=128,O=256,M=30,_="...",D=150,P=16,H=200,B=1,j=2,F="Expected a function",I="__lodash_placeholder__",q="[object Arguments]",R="[object Array]",U="[object Boolean]",z="[object Date]",W="[object Error]",X="[object Function]",V="[object Number]",$="[object Object]",J="[object RegExp]",K="[object String]",Q="[object ArrayBuffer]",G="[object Float32Array]",Y="[object Float64Array]",Z="[object Int8Array]",et="[object Int16Array]",tt="[object Int32Array]",nt="[object Uint8Array]",rt="[object Uint8ClampedArray]",it="[object Uint16Array]",st="[object Uint32Array]",ot=/\b__p\+='';/g,ut=/\b(__p\+=)''\+/g,at=/(__e\(.*?\)|\b__t\))\+'';/g,ft=/&(?:amp|lt|gt|quot|#39|#96);/g,lt=/[&<>"'`]/g,ct=RegExp(ft.source),ht=RegExp(lt.source),pt=/<%-([\s\S]+?)%>/g,dt=/<%([\s\S]+?)%>/g,vt=/<%=([\s\S]+?)%>/g,mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,gt=/^\w*$/,yt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,bt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,wt=RegExp(bt.source),Et=/[\u0300-\u036f\ufe20-\ufe23]/g,St=/\\(\\)?/g,xt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tt=/\w*$/,Nt=/^0[xX]/,Ct=/^\[object .+?Constructor\]$/,kt=/^\d+$/,Lt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,At=/($^)/,Ot=/['\n\r\u2028\u2029\\]/g,Mt=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),_t="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),Dt={};Dt[G]=Dt[Y]=Dt[Z]=Dt[et]=Dt[tt]=Dt[nt]=Dt[rt]=Dt[it]=Dt[st]=!0,Dt[q]=Dt[R]=Dt[Q]=Dt[U]=Dt[z]=Dt[W]=Dt[X]=Dt["[object Map]"]=Dt[V]=Dt[$]=Dt[J]=Dt["[object Set]"]=Dt[K]=Dt["[object WeakMap]"]=!1;var Pt={};Pt[q]=Pt[R]=Pt[Q]=Pt[U]=Pt[z]=Pt[G]=Pt[Y]=Pt[Z]=Pt[et]=Pt[tt]=Pt[V]=Pt[$]=Pt[J]=Pt[K]=Pt[nt]=Pt[rt]=Pt[it]=Pt[st]=!0,Pt[W]=Pt[X]=Pt["[object Map]"]=Pt["[object Set]"]=Pt["[object WeakMap]"]=!1;var Ht={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Bt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},jt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ft={"function":!0,object:!0},It={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},qt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Rt=Ft[typeof exports]&&exports&&!exports.nodeType&&exports,Ut=Ft[typeof module]&&module&&!module.nodeType&&module,zt=Ft[typeof self]&&self&&self.Object&&self,Wt=Ft[typeof window]&&window&&window.Object&&window,Xt=Ut&&Ut.exports===Rt&&Rt,Vt=Rt&&Ut&&typeof global=="object"&&global&&global.Object&&global||Wt!==(this&&this.window)&&Wt||zt||this,$t=b();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Vt._=$t,define("lodash",[],function(){return $t})):Rt&&Ut?Xt?(Ut.exports=$t)._=$t:Rt._=$t:Vt._=$t}.call(this),define("panels/ClassPropertyPanel",["jquery","Global","panels/FooterContent","text!tpl/form/formBase.html","text!tpl/form/formInput.html","text!tpl/form/formCheckBox.html"],function(e,t,n,r,i,s){function o(o){var u=e(_.template(i)({id:"txtPropName",label:"Name",disabled:!1})),a=e(_.template(s)({id:"chkbxId",label:"Is identifier ?"})),f=e(r);u.find("input").val(o.Name),o.isIdentifier()&&a.find("input").attr("checked",""),f.append(u),f.append(a);var l=new n;l.registerOkButtonCallback(function(n){var r=e(t.GetSelectorFromId(o.getId()+"_panel")),i=r.find("#txtPropName").val(),s=r.find("#chkbxId").is(":checked");o.Name!==i?o.editName(i,s)?n.data.close():e.jsPanel({paneltype:"hint",theme:"danger",position:"top right",autoclose:-1,size:{width:400,height:"auto"},content:'<div style="font-size:26px;"><div style="float:left;width:auto;height:100%"><span class="glyphicon glyphicon-warning-sign" style="font-size:30px;padding:20px;"></span></div><p style="padding:26px 0;">Property name already exists.</p></div>'}):s?(o.enableIdentifier(),n.data.close()):s||(o.disableIdentifier(),n.data.close())});var c=e.jsPanel({id:o.getId()+"_panel",size:{width:412,height:53},selector:"body",title:"ClassProperty: "+o.Name,position:"top center",theme:"light",toolbarFooter:l.getContent()});c.find("div[class*=ui-resizable-handle]").remove(),c.content.append(f)}return o}),define("entities/range/ClassProperty",["jquery","Global","entities/AbstractEntity","svg/SvgEntity","panels/ClassPropertyPanel"],function(e,t,n,r,i){function s(o,u,a,f,l,c,h){var p=this;n.call(this,a.getId()+"#"+o,o);var d=u,v=!1;this.X=f,this.Y=l;var m=c,g=h,y=null,b=a,w=null;this.getMappingRule=function(){return y},this.setMappingRule=function(e){y=e},this.getType=function(){return d},this.get$node=function(){return w||p.generateSvgEntity(),w},this.getWidth=function(){return m},this.getHeight=function(){return g},this.getNodeClass=function(){return b},this.isIdentifier=function(){return v},this.enableIdentifier=function(){v=!0,b.setIdentifier(p);if(w){w.find("rect").css("fill",s.IDENTIFIER_COLOR);var n=t.Config.ICONS.KEY,r=document.createElementNS("http://www.w3.org/2000/svg","use");r.setAttributeNS("http://www.w3.org/1999/xlink","href","#keyIcon"),e(r).attr("class","icon-key").attr("pointer-events","none").attr("transform","translate("+((2*p.X+c)/2+n.OFFSET_X)+","+((2*p.Y+h)/2+n.OFFSET_Y)+") scale("+n.SCALE+")"),w.append(r)}},this.disableIdentifier=function(){b.setIdentifier(null),v=!1,w.find("rect").css("fill",s.DEFAULT_COLOR),w.find(".icon-key").remove()},this.generateSvg=function(){if(!this.isIdentifier())w=r(p.getId(),s.TYPE,p.Name,p.X,p.Y,p.getWidth(),p.getHeight(),s.DEFAULT_COLOR);else{w=r(p.getId(),s.TYPE,p.Name,p.X,p.Y,p.getWidth(),p.getHeight(),s.IDENTIFIER_COLOR);var n=t.Config.ICONS.KEY,o=document.createElementNS("http://www.w3.org/2000/svg","use");o.setAttributeNS("http://www.w3.org/1999/xlink","href","#keyIcon"),e(o).attr("class","icon-key").attr("pointer-events","none").attr("transform","translate("+((2*f+c)/2+n.OFFSET_X)+","+((2*l+h)/2+n.OFFSET_Y)+") scale("+n.SCALE+")"),w.append(o)}w.find(".icon-gear").click(function(){i(p)})}}return s.prototype=new n,s.prototype.constructor=s,s.TYPE="ClassProperty",s.DEFAULT_COLOR="#87CEFA",s.IDENTIFIER_COLOR="yellow",s.prototype.toJSON=function(){var e=n.prototype.toJSON.call(this);return e.y=this.Y,e.type=this.getType(),this.isIdentifier()&&(e.isIdentifier=this.isIdentifier()),e},s.prototype.generateSvgEntity=function(){this.generateSvg()},s.prototype.deleteMappingRule=function(){var e=this.getMappingRule();e&&(e.get$node().remove(),this.setMappingRule(null))},s.prototype.editName=function(e,t){var n=this.getNodeClass(),r=new s(e,this.getType(),n,this.X,this.Y,this.getWidth(),this.getHeight());return r.IsIdentifier=t,n.addProperty(r)?(n.deleteProperty(this,!0),!0):!1},s}),define("entities/range/AbstractClass",["Global","entities/AbstractEntity","entities/range/ClassProperty","util/TransformCoordinates"],function(e,t,n,r){function i(e,n){t.call(this,e,n);var r=null,i={};this.getProperties=function(){return i},this.get$node=function(){return r},this.set$node=function(e){r=e}}return i.prototype=new t,i.prototype.constructor=i,i.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);this.OFFSETX&&this.OFFSETY&&(e.offset_x=this.OFFSETX,e.offset_y=this.OFFSETY),e.properties={};var n=this.getProperties();for(var r in n)n.hasOwnProperty(r)&&(e.properties[r]=n[r].toJSON());return e},i.prototype.getPropertyById=function(e){var t=this.getProperties();return t.hasOwnProperty(e)?t[e]:null},i.prototype.addProperty=function(e){var t=this.getProperties();return e instanceof n&&!t.hasOwnProperty(e.getId())?(t[e.getId()]=e,e.isIdentifier()&&this.setIdentifier(e),this.get$node()&&this.get$node().append(e.get$node()),!0):!1},i.prototype.getAllMappingRules=function(){var e=this.getProperties(),t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n].getMappingRule();r&&(t[r.getId()]=r)}return t},i.prototype.deleteProperty=function(e,t){e instanceof n&&this.deletePropertyById(e.getId(),t)},i.prototype.deletePropertyById=function(t,n){var i=this.getProperties();if(i.hasOwnProperty(t)){var s=i[t].Y,o=i[t].getHeight(),u=i[t].getWidth();i[t].get$node().remove(),i[t].deleteMappingRule(),delete i[t];if(n)return;var a=e.Config.ICONS.KEY,f=e.Config.ICONS.GEAR;for(var l in i)if(i.hasOwnProperty(l)&&i[l].Y>s){i[l].Y-=o,i[l].get$node().children("rect").attr("y",i[l].Y),i[l].get$node().children("text").attr("y",(2*i[l].Y+o)/2),i[l].get$node().children(".icon-key").attr("transform","translate("+((2*i[l].X+u)/2+a.OFFSET_X)+","+((2*i[l].Y+o)/2+a.OFFSET_Y)+") scale("+a.SCALE+")"),i[l].get$node().children(".icon-gear").attr("transform","translate("+((2*i[l].X+u)/2+f.OFFSET_X)+","+((2*i[l].Y+o)/2+f.OFFSET_Y)+") scale("+f.SCALE+")");var c=i[l].getMappingRule();if(c){var h=r(this.get$node());c.get$node().children("line").attr("x2",i[l].X+h.x-13),c.get$node().children("line").attr("y2",i[l].Y+h.y+i[l].getHeight()/2)}}}},i.prototype.setPropertiesVisibility=function(e){this.get$node().find(".ClassProperty")[e](),this.setMappingRulesVisibility(e)},i.prototype.setMappingRulesVisibility=function(e){var t=this.getAllMappingRules();for(var n in t)t.hasOwnProperty(n)&&t[n].get$node()[e]()},i.prototype.OFFSETX=null,i.prototype.OFFSETY=null,i}),define("entities/range/NodeClass",["lodash","entities/range/AbstractClass","svg/SvgEntity"],function(e,t,n){function r(e,i,s,o,u,a){var f=this;t.call(this,e,i),this.X=s,this.Y=o;var l=null,c=!1,h={},p={},d=u,v=a;this.getWidth=function(){return d},this.getHeight=function(){return v},this.getOutgoingEdges=function(){return h},this.getIngoingEdges=function(){return p},this.generateSvg=function(){var t=n(e,r.TYPE,i,s,o,u,a,r.DEFAULT_COLOR);c&&t.children("rect").css("fill",r.REFERENCE_COLOR);var f=t.children(".properties"),l=this.getProperties();for(var h in l)if(l.hasOwnProperty(h)){var p=l[h];p.generateSvg(),f.append(p.get$node())}this.set$node(t)},this.isReference=function(){return c},this.enableReference=function(){c=!0;var e=f.get$node();e&&e.children("rect").css("fill",r.REFERENCE_COLOR)},this.disableReference=function(){c=!1;var e=f.get$node();e&&e.children("rect").css("fill",r.DEFAULT_COLOR)},this.getIdentifier=function(){return l},this.setIdentifier=function(e){l=e}}return r.prototype=new t,r.prototype.constructor=r,r.TYPE="NodeClass",r.DEFAULT_COLOR="#191970",r.REFERENCE_COLOR="red",r.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.x=this.X,e.y=this.Y,e.isReference=this.isReference(),e},r.prototype.addIngoingEdge=function(e){var t=this.getIngoingEdges();t.hasOwnProperty(e.getId())||(t[e.getId()]=e)},r.prototype.addOutgoingEdge=function(e){var t=this.getOutgoingEdges();t.hasOwnProperty(e.getId())||(t[e.getId()]=e)},r.prototype.generateSvgEntity=function(){this.generateSvg()},r.prototype.getAllEdges=function(){return e.assign(this.getIngoingEdges(),this.getOutgoingEdges())},r.prototype.setVisibilityOfEdges=function(e,t){var n=this,r=function(e,t){var r=n[e]();for(var i in r)r.hasOwnProperty(i)&&r[i].get$node()[t]()};switch(t){case"in":r("getIngoingEdges",e);break;case"out":r("getOutgoingEdges",e);break;default:r("getAllEdges",e)}},r.prototype.editName=function(e){this.Name=e;var t=this.get$node();t&&t.children("text").text(e)},r}),define("svg/SvgEdge",["jquery"],function(e){function t(t,n,r,i,s,o,u,a,f){function l(t,n){var r=document.createElementNS("http://www.w3.org/2000/svg","textPath");return r.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+t),r.setAttribute("startOffset","33.33%"),r.textContent=n,e(r)}var c,h;return!a&&!f?(c=(i+o)/2,h=(s+u)/2):(c=a,h=f),e(document.createElementNS("http://www.w3.org/2000/svg","g")).attr("id",t).attr("class",n).append(e(document.createElementNS("http://www.w3.org/2000/svg","path")).attr("id","Path_"+t).attr("d","M"+i+","+s+" Q"+c+","+h+" "+o+","+u)).append(e(document.createElementNS("http://www.w3.org/2000/svg","text")).attr("font-family","Verdana").attr("font-size","15").attr("fill","#191970").append(l("Path_"+t,r))).hover(function(t){e(t.target).parent().siblings("path").css({"stroke-width":7})},function(t){e(t.target).parent().siblings("path").css({"stroke-width":3})}).append(e(document.createElementNS("http://www.w3.org/2000/svg","g")).attr("class","Ctrl").append(e(document.createElementNS("http://www.w3.org/2000/svg","circle")).attr("cx",c).attr("cy",h).attr("r",8).attr("class","controlPoint")).append(e(document.createElementNS("http://www.w3.org/2000/svg","line")).attr("x1",i).attr("y1",s).attr("x2",c).attr("y2",h).attr("class","SrcCtrlLine")).append(e(document.createElementNS("http://www.w3.org/2000/svg","line")).attr("x1",o).attr("y1",u).attr("x2",c).attr("y2",h).attr("class","DestCtrlLine")))}return t}),define("entities/range/EdgeClass",["entities/range/AbstractClass","entities/range/NodeClass","svg/SvgEdge","util/TransformCoordinates"],function(e,t,n,r){function i(s,o,u,a){var f=this;e.call(this,s,o);if(!(u instanceof t))return new Error("source is not a NodeClass");var l=u;if(!(a instanceof t))return new Error("target is not a NodeClass");var c=a;u.addOutgoingEdge(this),a.addIngoingEdge(this);var h=r(u.get$node()),p=u.X+h.x,d=r(a.get$node()),v=a.X+d.x,m=v-p<0?(v-p)*-1:v-p,g=v-(p+u.getWidth())<0?-1*(v-(p+u.getWidth())):v-(p+u.getWidth()),y=v+a.getWidth()-p<0?(v+a.getWidth()-p)*-1:v+a.getWidth()-p;m>y?v+=a.getWidth():m>g?p+=u.getWidth():(v+=a.getWidth(),p+=u.getWidth());var b=a.Y+a.getHeight()/2+d.y,w=u.Y+u.getHeight()/2+h.y;this.getSource=function(){return l},this.getTarget=function(){return c},this.generateSvg=function(){var e=n(s,i.TYPE,o,p,w,v,b,f.OFFSETX,f.OFFSETY);this.set$node(e)}}return i.prototype=new e,i.prototype.constructor=i,i.TYPE="EdgeClass",i.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.source=this.getSource().getId(),t.target=this.getTarget().getId(),t},i.prototype.generateSvgEntity=function(){this.generateSvg()},i}),define("svg/SvgMappingRule",["jquery"],function(e){function t(t,n,r,i,s,o){return e(document.createElementNS("http://www.w3.org/2000/svg","g")).attr("id",t).attr("class",n).append(e(document.createElementNS("http://www.w3.org/2000/svg","line")).attr("x1",r).attr("y1",i).attr("x2",s).attr("y2",o))}return t}),define("entities/MappingRule",["entities/AbstractEntity","util/TransformCoordinates","svg/SvgMappingRule"],function(e,t,n){function r(i,s,o){e.call(this,i,null);var u=null,a=s,f=o,l=t(o.get$node().parents(".NodeClass")),c=s.X+s.Width,h=s.Y+s.Height/2,p=o.X+l.x-13,d=o.Y+l.y+o.getHeight()/2;this.getDomain=function(){return a},this.getRange=function(){return f},this.get$node=function(){return u},this.generateSvg=function(){u=n(i,r.TYPE,c,h,p,d),u.hover(function(){a.get$node().trigger("mouseover"),f.get$node().trigger("mouseover")},function(){a.get$node().trigger("mouseout"),f.get$node().trigger("mouseout")})}}return r.prototype=new e,r.prototype.constructor=r,r.TYPE="MappingRule",r.COLOR="#87CEFA",r.prototype.toJSON=function(){var e={};return e.domain=this.getDomain().getId(),e.range=this.getRange().getId(),e},r.prototype.generateSvgEntity=function(){this.generateSvg()},r.prototype.repaint=function(){var e=this.getDomain(),n=this.getRange(),r=t(n.get$node().parents(".NodeClass")),i=e.X+e.Width,s=e.Y+e.Height/2,o=n.X+r.x-13,u=n.Y+r.y+n.getHeight()/2,a=this.get$node();a.find("line").attr("x1",i).attr("y1",s).attr("x2",o).attr("y2",u)},r}),define("entities/MappingCanvas",["Global","svg/SvgCanvas","entities/range/NodeClass","entities/range/EdgeClass","entities/range/ClassProperty","entities/MappingRule","entities/domain/JsonArray","entities/domain/JsonObject","entities/domain/JsonProperty"],function(e,t,n,r,i,s,o,u,a){function f(e,n,r,i){var s=e,a=i,f=r,l={},c={},h={},p=null,d=t(e,n,r);this.getId=function(){return s},this.getTabId=function(){return a},this.setTabId=function(e){a=e},this.get$node=function(){return d},this.set$node=function(e){d=e},this.getNodeClasses=function(){return l},this.getEdgeClasses=function(){return c},this.setDomain=function(e){p={},p.$=e,v(e),d.append(e.get$node())};var v=function(e){var t=e.getElements();for(var n in t)t.hasOwnProperty(n)&&(t[n]instanceof u||t[n]instanceof o?(p[n]=t[n],v(t[n])):p[n]=t[n])};this.getDomain=function(){return p},this.getMappingRules=function(){return h},this.getHeight=function(){return f},this.getWidth=function(){return n}}return f.CreateMappingFromJSON=function(t){var l=0,c=function(t,n,r){r+=1;var i=r*e.Config.DOMAIN.OFFSET+e.Config.DOMAIN.X;for(var s in t)if(t.hasOwnProperty(s)){var f=t[s];l=l<f.y?f.y:l;switch(t[s].type){case"JsonProperty":n.add(new a(s,f.name,i,f.y,e.Config.DOMAIN.WIDTH,e.Config.DOMAIN.HEIGHT,f.value,f.valueType));break;case"JsonObject":var h=new u(s,f.name,i,f.y,e.Config.DOMAIN.WIDTH,e.Config.DOMAIN.HEIGHT);n.add(h),c(f.properties,h,r);break;case"JsonArray":var p=new o(s,f.name,i,f.y,e.Config.DOMAIN.WIDTH,e.Config.DOMAIN.HEIGHT,f.value,f.valueType);n.add(p),c(f.properties,p,r)}}},h=new u("$","root",e.Config.DOMAIN.X,e.Config.DOMAIN.Y,e.Config.DOMAIN.WIDTH,e.Config.DOMAIN.HEIGHT),p=t.domain.properties,d=0;c(p,h,d);var v=new f("Import","100%",l+200);v.setDomain(h);var m=t.nodeClasses;for(var g in m)if(m.hasOwnProperty(g)){var y=m[g],b,w;y.offset_x&&y.offset_y?(b=y.x+y.offset_x,w=y.y+y.offset_y):(b=y.x,w=y.y);var E=new n(g,y.name,b,w,e.Config.DOMAIN.WIDTH,e.Config.DOMAIN.HEIGHT);y.isReference&&E.enableReference();for(var S in y.properties)if(y.properties.hasOwnProperty(S)){var x=y.properties[S];w=y.offset_y?x.y+y.offset_y:x.y;var T=new i(x.name,x.type,E,b,w,e.Config.DOMAIN.WIDTH,e.Config.DOMAIN.HEIGHT);x.hasOwnProperty("isIdentifier")&&x.isIdentifier&&T.enableIdentifier(),E.addProperty(T)}v.addNodeClass(E)}var N=t.edgeClasses;for(var C in N)if(N.hasOwnProperty(C)){var k=N[C],L=v.getNodeClassById(k.source),A=v.getNodeClassById(k.target);if(L&&A){var O=new r(C,k.name,L,A);k.offset_x&&k.offset_y&&(O.OFFSETX=k.offset_x,O.OFFSETY=k.offset_y),v.addEdgeClass(O)}}var M=t.mappingRules;for(var _ in M)if(M.hasOwnProperty(_)){var D=M[_],P=v.getDomainEntityById(D.domain),H=v.getClassPropertyById(D.range),B=new s(_,P,H);v.addMappingRule(B)}return v},f.prototype.toJSON=function(){var e={domain:null,nodeClasses:{},edgeClasses:{},mappingRules:{}};e.domain=this.getDomain().$.toJSON();var t=this.getNodeClasses();for(var n in t)t.hasOwnProperty(n)&&(e.nodeClasses[n]=t[n].toJSON());var r=this.getEdgeClasses();for(var i in r)r.hasOwnProperty(i)&&(e.edgeClasses[i]=r[i].toJSON());var s=this.getMappingRules();for(var o in s)s.hasOwnProperty(o)&&(e.mappingRules[o]=s[o].toJSON());return e},f.prototype.getNodeClassById=function(e){var t=this.getNodeClasses();if(t.hasOwnProperty(e))return t[e]},f.prototype.getEdgeClassById=function(e){var t=this.getEdgeClasses();if(t.hasOwnProperty(e))return t[e]},f.prototype.addNodeClass=function(e){return e instanceof n&&(e.generateSvgEntity(),this.get$node().append(e.get$node()),this.getNodeClasses()[e.getId()]=e),!1},f.prototype.addEdgeClass=function(e){return e instanceof r&&(e.generateSvgEntity(),this.get$node().append(e.get$node()),this.getEdgeClasses()[e.getId()]=e),!1},f.prototype.addMappingRule=function(e){if(e instanceof s){var t=this.getMappingRules(),n=e.getId();if(!t.hasOwnProperty(n))return e.generateSvgEntity(),t[n]=e,e.getRange().setMappingRule(e),this.get$node().append(e.get$node()),!0}return!1},f.prototype.getDomainEntityById=function(e){var t=this.getDomain();return t.hasOwnProperty(e)?t[e]:null},f.prototype.deleteMappingRuleById=function(e){var t=this.getMappingRules();t.hasOwnProperty(e)&&(t[e].get$node().remove(),delete t[e])},f.prototype.deleteEdgeClassById=function(e){var t=this.getEdgeClasses();t.hasOwnProperty(e)&&(t[e].get$node().remove(),delete t[e])},f.prototype.deleteNodeClassById=function(e){var t=this.getNodeClasses();if(t.hasOwnProperty(e)){var n=t[e].getAllMappingRules();for(var r in n)n.hasOwnProperty(r)&&this.deleteMappingRuleById(r);var i=t[e].getAllEdges();for(var s in i)i.hasOwnProperty(s)&&this.deleteEdgeClassById(s);t[e].get$node().remove(),delete t[e]}},f.prototype.getClassPropertyById=function(e){var t=this.getNodeClassById(e.replace(/#\w*/g,""));return t?t.getPropertyById(e):null},f.prototype.generateSvg=function(){var e=t(this.getId(),this.getWidth(),this.getHeight()),n=this.getDomain();for(var r in n)n.hasOwnProperty(r)&&(n[r].generateSvgEntity(),e.append(n[r].get$node()));var i=this.getNodeClasses();for(var s in i)i.hasOwnProperty(s)&&(i[s].generateSvgEntity(),e.append(i[s].get$node()));var o=this.getEdgeClasses();for(var u in o)o.hasOwnProperty(u)&&(o[u].generateSvgEntity(),e.append(o[u].get$node()));var a=this.getMappingRules();for(var f in a)a.hasOwnProperty(f)&&(a[f].generateSvgEntity(),e.append(a[f].get$node()));this.set$node(e)},f.prototype.repaintDomain=function(){function r(n,i){i+=1;var s=n.getElements();for(var a in s)if(s.hasOwnProperty(a)){var f=s[a];f.X=e.Config.DOMAIN.X+e.Config.DOMAIN.OFFSET*i,f.Y=e.Config.DOMAIN.Y+t*e.Config.DOMAIN.HEIGHT;var l=f.get$node();l.find("rect").attr("x",f.X).attr("y",f.Y),l.find("text").attr("x",(2*f.X+e.Config.DOMAIN.WIDTH)/2).attr("y",(2*f.Y+e.Config.DOMAIN.HEIGHT)/2),t++,(f instanceof o||f instanceof u)&&r(f,i)}}var t=1,n=this.getDomain().$;n.X=e.Config.DOMAIN.X,n.Y=e.Config.DOMAIN.Y,r(n,0),this.get$node().attr("height",e.Config.DOMAIN.Y+t*e.Config.DOMAIN.HEIGHT+200)},f}),define("text!tpl/tabContainer.html",[],function(){return'<div class="container-fluid">\n    <ul class="nav nav-tabs marginBottom" id="<%-containerId%>">\n    </ul>\n</div>\n<div id="<%-contentId%>" class="tab-content"></div>'}),define("bootstrapWrapper/TabWrapper",["jquery","lodash","Global","text!tpl/tabContainer.html"],function(e,t,n,r){function i(){}var s=t.template(r),o="mc_content";return i.TabContainerId="mc_tab",i.TabContentContainerId="mc_tab_content",i.TabCounter=0,i.$currentTab=null,i.InitTabContainer=function(){e("body").append(e(s({containerId:i.TabContainerId,contentId:i.TabContentContainerId}))),i.RegisterShowEvent()},i.RegisterCloseEvent=function(){e(".closeTab").click(function(t){t.preventDefault();var r=e(this).parent().attr("href"),s=require("MappingManager");s.removeMappingById(r);if(r===n.CurrentTabId){var o=e("#"+i.TabContainerId).find('li a[href="'+r+'"]').parent(),u=o.next().first();u.length===0&&(u=o.prev().first(),u.length===0&&(u=o.first())),e(this).parent().parent().remove(),e(r).remove(),u.find("a").click(),n.CurrentTabId=u.attr("href"),e(n.CurrentTabId).attr("class","panel panel-default tab-pane fade active in"),e("#mc_tab_content").prepend(e(n.CurrentTabId))}else e(this).parent().parent().remove(),e(r).remove();if(e(this).parents("li").is("#visNetwork")){var a=require("NetworkManager");a.clearNetwork()}})},i.RegisterShowEvent=function(){e("#"+i.TabContainerId).on("click","a",function(t){t.preventDefault(),e(this).tab("show");var r=e(this).parent("li").attr("id");r||e("#mc_tab_content").prepend(e(e(this).attr("href"))),i.$currentTab=e(this),n.CurrentTabId=i.$currentTab.attr("href"),console.log("Current tab: "+n.CurrentTabId)})},i.AddCloseableTab=function(t,r,s){var u=o+i.TabCounter++;e("#mc_tab").find("li").attr("class",""),e(n.CurrentTabId).attr("class","panel panel-default tab-pane fade"),e("#"+i.TabContainerId).append(e(document.createElement("li")).attr("id",s?"visNetwork":"").attr("class","active").append(e(document.createElement("a")).attr("href","#"+u).append(e.parseHTML('<button class="close closeTab" type="button" >×</button>'+t)))),i.RegisterCloseEvent(),n.CurrentTabId="#"+u,i.$currentTab=e(document.createElement("div")).attr("class","panel panel-default tab-pane fade active in").attr("id",u).append(r),s?e("#"+i.TabContentContainerId).append(i.$currentTab):e("#"+i.TabContentContainerId).prepend(i.$currentTab)},i.removeCurrentTab=function(){var t=i.$currentTab.attr("href");i.$currentTab.parent().remove(),e("#"+n.TabContainerId+" a:last").tab("show"),e(t).remove()},i.showTab=function(t){e("#"+i.TabContainerId+' a[href="#'+t+'"]').tab("show")},i.changeLabelOfCurrentTab=function(t){var r=e("#mc_tab").find('a[href="'+n.CurrentTabId+'"]');r.empty(),r.append(e.parseHTML('<button class="close closeTab" type="button" >×</button>'+t))},i}),define("MappingManager",["Global","entities/domain/JsonObject","entities/domain/JsonArray","entities/domain/JsonProperty","entities/MappingCanvas","util/DragAndDrop","bootstrapWrapper/TabWrapper"],function(e,t,n,r,i,s,o){function u(){function f(i,s,o,u){var l=u+1;for(var c in s)if(s.hasOwnProperty(c)){var h=s[c];a.meta.numberOfEntities++;var p=e.Config.DOMAIN.X+e.Config.DOMAIN.OFFSET*l,d=e.Config.DOMAIN.Y+a.meta.numberOfEntities*e.Config.DOMAIN.HEIGHT;p+e.Config.DOMAIN.WIDTH>a.meta.maxWidth&&(a.meta.maxWidth=p+e.Config.DOMAIN.WIDTH),a.meta.maxHeight=d;var v=null,m=null;if(Object.prototype.toString.call(h)==="[object Array]")v=o+"."+c+"[0]",h.length>0&&typeof h[0]=="object"||typeof h[0]=="array"?(m=new n(v,"[]"+c,p,d,e.Config.DOMAIN.WIDTH,e.Config.DOMAIN.HEIGHT),m.generateSvgEntity(),f(m,h[0],v,l),i.add(m)):(m=new n(v,"[]"+c,p,d,e.Config.DOMAIN.WIDTH,e.Config.DOMAIN.HEIGHT,h[0],typeof h[0]),m.generateSvgEntity(),i.add(m));else if(typeof h=="object")v=o+"."+c,m=new t(v,"{}"+c,p,d,e.Config.DOMAIN.WIDTH,e.Config.DOMAIN.HEIGHT),m.generateSvgEntity(),f(m,h,v,l),i.add(m);else{var g=null;h===null?g="undefined":g=typeof h,h.length>100&&(h=h.substring(0,100)+"..."),v=o+"."+c,m=new r(v,c,p,d,e.Config.DOMAIN.WIDTH,e.Config.DOMAIN.HEIGHT,h,g),m.generateSvgEntity(),i.add(m)}}return i}function l(e){s.SVGRoot=e.get$node()[0],s.TrueCoords=s.SVGRoot.createSVGPoint(),s.GrabPoint=s.SVGRoot.createSVGPoint()}function c(e){var t=e.getTabId();t&&!u.hasOwnProperty(t)&&e instanceof i&&(u[t]=e)}function h(t,n){o.AddCloseableTab(t,n.get$node()),n.setTabId(e.CurrentTabId),c(n)}var u={},a=null;return{generateDomain:function(n){a={data:null,meta:{numberOfEntities:0,maxWidth:0,maxHeight:0}};var r=new t("$","root",e.Config.DOMAIN.X,e.Config.DOMAIN.Y,e.Config.DOMAIN.WIDTH,e.Config.DOMAIN.HEIGHT);return r.generateSvgEntity(),a.data=f(r,n,"$",0),a},getConfigs:function(){return u},getMappingCanvasById:function(e){return u.hasOwnProperty(e)?u[e]:null},createMappingCanvasFromExample:function(e,t){t.constructor.name==="Array"&&(t=t[0]);var n=this.generateDomain(t),r=new i(e,"100%",n.meta.maxHeight+200);return r.setDomain(n.data),l(r),h(e,r),r},createMappingCanvasFromJSON:function(e,t){var n=i.CreateMappingFromJSON(t);return l(n),h(e,n),n},getCurrentMappingCanvas:function(){return this.getMappingCanvasById(e.CurrentTabId)},visualizeMappingCanvas:function(e,t){t.generateSvg(),h(e,t),l(t)},removeCurrentMappingCanvas:function(){var e=this.getCurrentMappingCanvas();delete u[e.getTabId()],o.removeCurrentTab()},removeMappingById:function(e){u.hasOwnProperty(e)&&delete u[e]},doesMappingExists:function(e){return u.hasOwnProperty(e)}}}return new u}),define("ProjectManager",["jquery","Global","entities/MappingCanvas","MappingManager","bootstrapWrapper/TabWrapper"],function(e,t,n,r,i){function s(){var s=null,o={},u=function(n){e("#lstMappings").append(e(document.createElement("a")).attr("class","list-group-item").attr("href","#").text(n).append(e(document.createElement("span")).attr("class","glyphicon glyphicon-eye-open").click(function(n){var i=e(n.target).parent(),s=i.text(),u=o[s];t.CurrentTabId!==u.getTabId()&&(r.doesMappingExists(u.getTabId())?e("#mc_tab").find('a[href="'+u.getTabId()+'"]').click():r.visualizeMappingCanvas(s,u))})).append(e(document.createElement("span")).attr("class","glyphicon glyphicon-remove").click(function(t){var n=e(t.target).parent(),r=n.text();n.remove(),delete o[r]})))};return{setProjectName:function(t){s=t,e(".projectName").text("Project: "+t),e("#btnAddMapping").show()},getProjectName:function(){return s},addCurrentMapping:function(e){if(!!o.hasOwnProperty(e))return new Error("A mapping with the id "+id+" already exists");o[e]=r.getCurrentMappingCanvas(),i.changeLabelOfCurrentTab(e),u(e)},toJSON:function(){var e={projectName:s};e.mappings={};for(var t in o)o.hasOwnProperty(t)&&(e.mappings[t]=o[t].toJSON());return e},fromJSON:function(e){this.setProjectName(e.projectName);for(var t in e.mappings)e.mappings.hasOwnProperty(t)&&(o[t]=n.CreateMappingFromJSON(e.mappings[t]),u(t))},getMappingById:function(e){return o.hasOwnProperty(e)?o[e]:null},getMappings:function(){return o}}}return new s}),define("events/AbortEvent",["jquery","Global","events/DragNDropEvent"],function(e,t,n){return function(){e(t.CurrentTabId).find("svg").css({cursor:"default"}),e(t.CurrentTabId).find("svg").unbind("mousedown"),e(t.CurrentTabId).find("svg").mousedown(function(e){n.DefaultMouseDownEvent(e)}),t.InMappingRuleCreationMode=!1}}),define("util/GUIDGenerator",[],function(){function e(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?t.substr(0,4)+t.substr(4,4):t}return e()+e(!0)+e(!0)+e()}return e}),define("events/EdgeClassEvent",["jquery","Global","MappingManager","entities/range/EdgeClass","events/AbortEvent","events/DragNDropEvent","util/GUIDGenerator"],function(e,t,n,r,i,s,o){function u(i){var u=e(i.target),f=u.parents(".NodeClass").attr("id");f&&a.sourceId===undefined?a.sourceId=f:f&&a.targetId===undefined&&(a.targetId=f);if(a.sourceId!=null&&a.targetId!=null){var l=n.getMappingCanvasById(t.CurrentTabId),c=l.getNodeClassById(a.sourceId),h=l.getNodeClassById(a.targetId),p=o();if(c&&h){var d=null;t.Ontology.edge_classes.hasOwnProperty(a.className)?t.Ontology.edge_classes[a.className].hasOwnProperty("properties")&&(d=t.Ontology.edge_classes[a.className].properties):d=null;var v=new r(p,a.className,c,h);l.addEdgeClass(v)}e(t.CurrentTabId).find("svg").css({cursor:"default"}),e(t.CurrentTabId).find("svg").unbind("mousedown"),e(t.CurrentTabId).find("svg").mousedown(function(e){s.DefaultMouseDownEvent(e)}),t.InEdgeCreationMode=!1,a.sourceId=undefined,a.targetId=undefined}}function a(){}return a.sourceId=undefined,a.targetId=undefined,a.EdgeCreateEvent=function(n){if(!n)return;a.className=n,t.Ontology||console.log("No Ontology loaded!"),e(t.CurrentTabId).find("svg").css({cursor:"crosshair"}),t.InEdgeCreationMode=!0,e(t.CurrentTabId).find("svg").unbind("mousedown"),e(t.CurrentTabId).find("svg").mousedown(function(e){switch(e.which){case 3:i();break;case 1:u(e)}})},a}),define("events/MappingRuleEvent",["jquery","Global","MappingManager","entities/MappingRule","events/AbortEvent","events/DragNDropEvent","util/GUIDGenerator"],function(e,t,n,r,i,s,o){function u(i){var u=e(i.target);u.parent().is(".JsonProperty")&&a.domainId===undefined?a.domainId=u.parent().attr("id"):u.parent().is(".ClassProperty")&&a.rangeId===undefined&&(a.rangeId=u.parent().attr("id"));if(a.domainId!=null&&a.rangeId!=null){var f=n.getMappingCanvasById(t.CurrentTabId),l=f.getDomainEntityById(a.domainId),c=f.getClassPropertyById(a.rangeId),h=new r(o(),l,c);f.addMappingRule(h),t.InMappingRuleCreationMode=!1,e(t.CurrentTabId).find("svg").css({cursor:"default"}),e(t.CurrentTabId).find("svg").unbind("mousedown"),e(t.CurrentTabId).find("svg").mousedown(function(e){s.DefaultMouseDownEvent(e)}),e(".ClassProperty").on("click"),t.InEdgeCreationMode=!1,a.domainId=undefined,a.rangeId=undefined}}function a(){}return a.domainId=undefined,a.rangeId=undefined,a.MappingRuleCreateEvent=function(){e(t.CurrentTabId).find("svg").css({cursor:"crosshair"}),t.InEdgeCreationMode=!0,e(t.CurrentTabId).find("svg").unbind("mousedown"),e(t.CurrentTabId).find("svg").mousedown(function(e){switch(e.which){case 3:t.InEdgeCreationMode=!1,i();break;case 1:u(e)}})},a}),define("events/NodeClassEvent",["jquery","lodash","Global","MappingManager","entities/range/NodeClass","entities/range/ClassProperty","util/GUIDGenerator"],function(e,t,n,r,i,s,o){function u(){}var a=[],f=function(e,r){var i=n.Ontology.vertex_classes[e].super_class;if(n.Ontology.vertex_classes.hasOwnProperty(i)){var s=n.Ontology.vertex_classes[i];a=t.union(s.identifier,a),r=t.assign(s.properties,r);if(s.super_class)return f(i,r)}return r};return u.CreateNodeClassEvent=function(u,l,c){if(!n.Ontology){console.log("No Ontology loaded!");return}a=t.union(a,n.Ontology.vertex_classes[u].identifier);var h=null;n.Ontology.vertex_classes.hasOwnProperty(u)?n.Ontology.vertex_classes[u].hasOwnProperty("properties")&&(h=n.Ontology.vertex_classes[u].properties):h={};var p=null;p=f(u,p),p&&(h=t.assign(p,h));var d=o(),v=new i(d,u,l,c,200,20),m=c+20;for(var g in h)if(h.hasOwnProperty(g)){var y=new s(g,h[g].type,v,l,m,200,20);e.inArray(g,a)>-1&&y.enableIdentifier(),v.addProperty(y),m+=20}var b=r.getMappingCanvasById(n.CurrentTabId);b.addNodeClass(v),a=[]},u}),define("text!tpl/alertTemplate.html",[],function(){return'<div class="alert alert-<%-type%> alert-error">\n    <a href="#" class="close" data-dismiss="alert">&times;</a>\n    <%-message%>\n</div>'}),define("bootstrapWrapper/Alert",["lodash","text!tpl/alertTemplate.html"],function(e,t){function n(){}var r=e.template(t),i=function(e,t){return $(r({type:e,message:t}))};return n.Error=function(e,t){$(t).append(i("danger",e))},n.Error2=function(e,t,n){var r=i("danger",e),s=$(document.createElement("p")).append($(document.createElement("button")).attr("class","btn btn-danger").attr("type","button").text("Do it!").click(function(){n&&n()})).append($(document.createElement("button")).attr("class","btn btn-default").attr("type","button").text("Cancel").click(function(){$(".alert-danger").remove()}));$(t).append($(r).append(s))},n.Info=function(e,t){$(t).append(i("info",e))},n.Warning=function(e,t){$(t).append(i("warning",e))},n.Success=function(e,t){$(t).append(i("success",e)),setTimeout(function(){$(".alert-success").remove()},1e3)},n}),define("text!tpl/navbar/graphSchemaCtrlElements.html",[],function(){return'<div class="form-inline" id="OntologyControlElements">\n    <div id="lblGraphSchemaName" class="form-group">\n    </div>\n    <div class="form-group">\n        <select id="vertexClassSelector" class="form-control">\n         </select>\n        <input id="addVertexClassButton" type="button" value="Add Vertex Class" class="btn btn-default btn-sm">\n    </div>\n    <div class="form-group">\n        <select id="edgeClassSelector" class="form-control">\n        </select>\n        <input id="addEdgeClassButton" type="button" value="Add Edge Class" class="btn btn-default btn-sm">\n    </div>\n    <div class="form-group">\n        <input id="addTranslationPath" type="button" value="Add Mapping Rule" class="btn btn-default btn-sm">\n    </div>\n    <div class="form-group">\n        <input id="btnVisualizeGraphSchema" type="button" value="Visualize Graph Schema" class="btn btn-info btn-sm">\n    </div>\n</div>'}),define("../components/require-css/css.min!../components/vis/dist/vis.min",[],function(){}),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("vis",t):"object"==typeof exports?exports.vis=t():e.vis=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var s=n[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){t.util=n(1),t.DOMutil=n(7),t.DataSet=n(8),t.DataView=n(10),t.Queue=n(9),t.Graph3d=n(11),t.graph3d={Camera:n(15),Filter:n(16),Point2d:n(12),Point3d:n(14),Slider:n(17),StepNumber:n(18)},t.Timeline=n(19),t.Graph2d=n(49),t.timeline={DateUtil:n(29),DataStep:n(52),Range:n(27),stack:n(33),TimeStep:n(36),components:{items:{Item:n(35),BackgroundItem:n(40),BoxItem:n(38),PointItem:n(39),RangeItem:n(34)},Component:n(21),CurrentTime:n(20),CustomTime:n(44),DataAxis:n(51),GraphGroup:n(53),Group:n(32),BackgroundGroup:n(37),ItemSet:n(31),Legend:n(57),LineGraph:n(50),TimeAxis:n(41)}},t.Network=n(59),t.network={Images:n(112),dotparser:n(110),gephiParser:n(111),allOptions:n(108)},t.network.convertDot=function(e){return t.network.dotparser.DOTToGraph(e)},t.network.convertGephi=function(e,n){return t.network.gephiParser.parseGephi(e,n)},t.Graph=function(){throw new Error("Graph is renamed to Network. Please create a graph as new vis.Network(...)")},t.moment=n(2),t.hammer=n(23),t.Hammer=n(23)},function(e,t,n){var r=n(2),i=n(6);t.isNumber=function(e){return e instanceof Number||"number"==typeof e},t.recursiveDOMDelete=function(e){if(e)for(;e.hasChildNodes()===!0;)t.recursiveDOMDelete(e.firstChild),e.removeChild(e.firstChild)},t.giveRange=function(e,t,n,r){if(t==e)return.5;var i=1/(t-e);return Math.max(0,(r-e)*i)},t.isString=function(e){return e instanceof String||"string"==typeof e},t.isDate=function(e){if(e instanceof Date)return!0;if(t.isString(e)){var n=s.exec(e);if(n)return!0;if(!isNaN(Date.parse(e)))return!0}return!1},t.randomUUID=function(){return i.v4()},t.assignAllKeys=function(e,t){for(var n in e)e.hasOwnProperty(n)&&"object"!=typeof e[n]&&(e[n]=t)},t.fillIfDefined=function(e,n){var r=void 0===arguments[2]?!1:arguments[2];for(var i in e)void 0!==n[i]&&("object"!=typeof n[i]?void 0!==n[i]&&null!==n[i]||void 0===e[i]||r!==!0?e[i]=n[i]:delete e[i]:"object"==typeof e[i]&&t.fillIfDefined(e[i],n[i],r))},t.protoExtend=function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)e[i]=r[i]}return e},t.extend=function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e},t.selectiveExtend=function(e,t,n){if(!Array.isArray(e))throw new Error("Array with property names expected as first argument");for(var r=2;r<arguments.length;r++)for(var i=arguments[r],s=0;s<e.length;s++){var o=e[s];i.hasOwnProperty(o)&&(t[o]=i[o])}return t},t.selectiveDeepExtend=function(e,n,r){var i=void 0===arguments[3]?!1:arguments[3];if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var s=2;s<arguments.length;s++)for(var o=arguments[s],u=0;u<e.length;u++){var a=e[u];if(o.hasOwnProperty(a))if(r[a]&&r[a].constructor===Object)void 0===n[a]&&(n[a]={}),n[a].constructor===Object?t.deepExtend(n[a],r[a],!1,i):null===r[a]&&void 0!==n[a]&&i===!0?delete n[a]:n[a]=r[a];else{if(Array.isArray(r[a]))throw new TypeError("Arrays are not supported by deepExtend");n[a]=r[a]}}return n},t.selectiveNotDeepExtend=function(e,n,r){var i=void 0===arguments[3]?!1:arguments[3];if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var s in r)if(r.hasOwnProperty(s)&&-1==e.indexOf(s))if(r[s]&&r[s].constructor===Object)void 0===n[s]&&(n[s]={}),n[s].constructor===Object?t.deepExtend(n[s],r[s]):null===r[s]&&void 0!==n[s]&&i===!0?delete n[s]:n[s]=r[s];else{if(Array.isArray(r[s]))throw new TypeError("Arrays are not supported by deepExtend");n[s]=r[s]}return n},t.deepExtend=function(e,n,r,i){for(var s in n)if(n.hasOwnProperty(s)||r===!0)if(n[s]&&n[s].constructor===Object)void 0===e[s]&&(e[s]={}),e[s].constructor===Object?t.deepExtend(e[s],n[s],r):null===n[s]&&void 0!==e[s]&&i===!0?delete e[s]:e[s]=n[s];else if(Array.isArray(n[s])){e[s]=[];for(var o=0;o<n[s].length;o++)e[s].push(n[s][o])}else e[s]=n[s];return e},t.equalArray=function(e,t){if(e.length!=t.length)return!1;for(var n=0,r=e.length;r>n;n++)if(e[n]!=t[n])return!1;return!0},t.convert=function(e,n){var i;if(void 0===e)return void 0;if(null===e)return null;if(!n)return e;if(!("string"==typeof n||n instanceof String))throw new Error("Type must be a string");switch(n){case"boolean":case"Boolean":return Boolean(e);case"number":case"Number":return Number(e.valueOf());case"string":case"String":return String(e);case"Date":if(t.isNumber(e))return new Date(e);if(e instanceof Date)return new Date(e.valueOf());if(r.isMoment(e))return new Date(e.valueOf());if(t.isString(e))return i=s.exec(e),i?new Date(Number(i[1])):r(e).toDate();throw new Error("Cannot convert object of type "+t.getType(e)+" to type Date");case"Moment":if(t.isNumber(e))return r(e);if(e instanceof Date)return r(e.valueOf());if(r.isMoment(e))return r(e);if(t.isString(e))return i=s.exec(e),r(i?Number(i[1]):e);throw new Error("Cannot convert object of type "+t.getType(e)+" to type Date");case"ISODate":if(t.isNumber(e))return new Date(e);if(e instanceof Date)return e.toISOString();if(r.isMoment(e))return e.toDate().toISOString();if(t.isString(e))return i=s.exec(e),i?(new Date(Number(i[1]))).toISOString():(new Date(e)).toISOString();throw new Error("Cannot convert object of type "+t.getType(e)+" to type ISODate");case"ASPDate":if(t.isNumber(e))return"/Date("+e+")/";if(e instanceof Date)return"/Date("+e.valueOf()+")/";if(t.isString(e)){i=s.exec(e);var o;return o=i?(new Date(Number(i[1]))).valueOf():(new Date(e)).valueOf(),"/Date("+o+")/"}throw new Error("Cannot convert object of type "+t.getType(e)+" to type ASPDate");default:throw new Error('Unknown type "'+n+'"')}};var s=/^\/?Date\((\-?\d+)/i;t.getType=function(e){var t=typeof e;return"object"==t?null===e?"null":e instanceof Boolean?"Boolean":e instanceof Number?"Number":e instanceof String?"String":Array.isArray(e)?"Array":e instanceof Date?"Date":"Object":"number"==t?"Number":"boolean"==t?"Boolean":"string"==t?"String":void 0===t?"undefined":t},t.copyAndExtendArray=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r]);return n.push(t),n},t.copyArray=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},t.getAbsoluteLeft=function(e){return e.getBoundingClientRect().left},t.getAbsoluteTop=function(e){return e.getBoundingClientRect().top},t.addClassName=function(e,t){var n=e.className.split(" ");-1==n.indexOf(t)&&(n.push(t),e.className=n.join(" "))},t.removeClassName=function(e,t){var n=e.className.split(" "),r=n.indexOf(t);-1!=r&&(n.splice(r,1),e.className=n.join(" "))},t.forEach=function(e,t){var n,r;if(Array.isArray(e))for(n=0,r=e.length;r>n;n++)t(e[n],n,e);else for(n in e)e.hasOwnProperty(n)&&t(e[n],n,e)},t.toArray=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},t.updateProperty=function(e,t,n){return e[t]!==n?(e[t]=n,!0):!1},t.addEventListener=function(e,t,n,r){e.addEventListener?(void 0===r&&(r=!1),"mousewheel"===t&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),e.addEventListener(t,n,r)):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n,r){e.removeEventListener?(void 0===r&&(r=!1),"mousewheel"===t&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),e.removeEventListener(t,n,r)):e.detachEvent("on"+t,n)},t.preventDefault=function(e){e||(e=window.event),e.preventDefault?e.preventDefault():e.returnValue=!1},t.getTarget=function(e){e||(e=window.event);var t;return e.target?t=e.target:e.srcElement&&(t=e.srcElement),void 0!=t.nodeType&&3==t.nodeType&&(t=t.parentNode),t},t.hasParent=function(e,t){for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1},t.option={},t.option.asBoolean=function(e,t){return"function"==typeof e&&(e=e()),null!=e?0!=e:t||null},t.option.asNumber=function(e,t){return"function"==typeof e&&(e=e()),null!=e?Number(e)||t||null:t||null},t.option.asString=function(e,t){return"function"==typeof e&&(e=e()),null!=e?String(e):t||null},t.option.asSize=function(e,n){return"function"==typeof e&&(e=e()),t.isString(e)?e:t.isNumber(e)?e+"px":n||null},t.option.asElement=function(e,t){return"function"==typeof e&&(e=e()),e||t||null},t.hexToRGB=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},t.overrideOpacity=function(e,n){if(-1!=e.indexOf("rgba"))return e;if(-1!=e.indexOf("rgb")){var r=e.substr(e.indexOf("(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+n+")"}var r=t.hexToRGB(e);return null==r?e:"rgba("+r.r+","+r.g+","+r.b+","+n+")"},t.RGBToHex=function(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},t.parseColor=function(e){var n;if(t.isString(e)===!0){if(t.isValidRGB(e)===!0){var r=e.substr(4).substr(0,e.length-5).split(",").map(function(e){return parseInt(e)});e=t.RGBToHex(r[0],r[1],r[2])}if(t.isValidHex(e)===!0){var i=t.hexToHSV(e),s={h:i.h,s:.8*i.s,v:Math.min(1,1.02*i.v)},o={h:i.h,s:Math.min(1,1.25*i.s),v:.8*i.v},u=t.HSVToHex(o.h,o.s,o.v),a=t.HSVToHex(s.h,s.s,s.v);n={background:e,border:u,highlight:{background:a,border:u},hover:{background:a,border:u}}}else n={background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}else n={},n.background=e.background||void 0,n.border=e.border||void 0,t.isString(e.highlight)?n.highlight={border:e.highlight,background:e.highlight}:(n.highlight={},n.highlight.background=e.highlight&&e.highlight.background||void 0,n.highlight.border=e.highlight&&e.highlight.border||void 0),t.isString(e.hover)?n.hover={border:e.hover,background:e.hover}:(n.hover={},n.hover.background=e.hover&&e.hover.background||void 0,n.hover.border=e.hover&&e.hover.border||void 0);return n},t.RGBToHSV=function(e,t,n){e/=255,t/=255,n/=255;var r=Math.min(e,Math.min(t,n)),i=Math.max(e,Math.max(t,n));if(r==i)return{h:0,s:0,v:r};var s=e==r?t-n:n==r?e-t:n-e,o=e==r?3:n==r?1:5,u=60*(o-s/(i-r))/360,a=(i-r)/i,f=i;return{h:u,s:a,v:f}};var o={split:function(e){var t={};return e.split(";").forEach(function(e){if(""!=e.trim()){var n=e.split(":"),r=n[0].trim(),i=n[1].trim();t[r]=i}}),t},join:function(e){return Object.keys(e).map(function(t){return t+": "+e[t]}).join("; ")}};t.addCssText=function(e,n){var r=o.split(e.style.cssText),i=o.split(n),s=t.extend(r,i);e.style.cssText=o.join(s)},t.removeCssText=function(e,t){var n=o.split(e.style.cssText),r=o.split(t);for(var i in r)r.hasOwnProperty(i)&&delete n[i];e.style.cssText=o.join(n)},t.HSVToRGB=function(e,t,n){var r,i,s,o=Math.floor(6*e),u=6*e-o,a=n*(1-t),f=n*(1-u*t),l=n*(1-(1-u)*t);switch(o%6){case 0:r=n,i=l,s=a;break;case 1:r=f,i=n,s=a;break;case 2:r=a,i=n,s=l;break;case 3:r=a,i=f,s=n;break;case 4:r=l,i=a,s=n;break;case 5:r=n,i=a,s=f}return{r:Math.floor(255*r),g:Math.floor(255*i),b:Math.floor(255*s)}},t.HSVToHex=function(e,n,r){var i=t.HSVToRGB(e,n,r);return t.RGBToHex(i.r,i.g,i.b)},t.hexToHSV=function(e){var n=t.hexToRGB(e);return t.RGBToHSV(n.r,n.g,n.b)},t.isValidHex=function(e){var t=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);return t},t.isValidRGB=function(e){e=e.replace(" ","");var t=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(e);return t},t.isValidRGBA=function(e){e=e.replace(" ","");var t=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(e);return t},t.selectiveBridgeObject=function(e,n){if("object"==typeof n){for(var r=Object.create(n),i=0;i<e.length;i++)n.hasOwnProperty(e[i])&&"object"==typeof n[e[i]]&&(r[e[i]]=t.bridgeObject(n[e[i]]));return r}return null},t.bridgeObject=function(e){if("object"==typeof e){var n=Object.create(e);for(var r in e)e.hasOwnProperty(r)&&"object"==typeof e[r]&&(n[r]=t.bridgeObject(e[r]));return n}return null},t.mergeOptions=function(e,t,n){void 0===arguments[3]?!1:arguments[3];if(null===t[n])e[n]=void 0,delete e[n];else if(void 0!==t[n])if("boolean"==typeof t[n])e[n].enabled=t[n];else{void 0===t[n].enabled&&(e[n].enabled=!0);for(var r in t[n])t[n].hasOwnProperty(r)&&(e[n][r]=t[n][r])}},t.binarySearchCustom=function(e,t,n,r){for(var i=1e4,s=0,o=0,u=e.length-1;u>=o&&i>s;){var a=Math.floor((o+u)/2),f=e[a],l=void 0===r?f[n]:f[n][r],c=t(l);if(0==c)return a;-1==c?o=a+1:u=a-1,s++}return-1},t.binarySearchValue=function(e,t,n,r){for(var i,s,o,u,a=1e4,f=0,l=0,c=e.length-1;c>=l&&a>f;){if(u=Math.floor(.5*(c+l)),i=e[Math.max(0,u-1)][n],s=e[u][n],o=e[Math.min(e.length-1,u+1)][n],s==t)return u;if(t>i&&s>t)return"before"==r?Math.max(0,u-1):u;if(t>s&&o>t)return"before"==r?u:Math.min(e.length-1,u+1);t>s?l=u+1:c=u-1,f++}return-1},t.easingFunctions={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+ --e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},function(e,t,n){e.exports="undefined"!=typeof window&&window.moment||n(3)},function(e,t,n){(function(e){!function(t,n){e.exports=n()}(this,function(){function t(){return Mr.apply(null,arguments)}function n(e){Mr=e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,n,r){return Ct(e,t,n,r,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(e){return null==e._pf&&(e._pf=f()),e._pf}function c(e){if(null==e._isValid){var t=l(e);e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function h(e){var t=a(NaN);return null!=e?u(l(t),e):l(t).userInvalidated=!0,t}function p(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=l(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Dr.length>0)for(n in Dr)r=Dr[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function d(e){p(this,e),this._d=new Date(+e._d),Pr===!1&&(Pr=!0,t.updateOffset(this),Pr=!1)}function v(e){return e instanceof d||null!=e&&null!=e._isAMomentObject}function m(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function g(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&m(e[r])!==m(t[r]))&&o++;return o+s}function y(){}function b(e){return e?e.toLowerCase().replace("_","-"):e}function w(e){for(var t,n,r,i,s=0;s<e.length;){for(i=b(e[s]).split("-"),t=i.length,n=b(e[s+1]),n=n?n.split("-"):null;t>0;){if(r=E(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&g(i,n,!0)>=t-1)break;t--}s++}return null}function E(t){var n=null;if(!Hr[t]&&"undefined"!=typeof e&&e&&e.exports)try{n=_r._abbr,!function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),S(n)}catch(r){}return Hr[t]}function S(e,t){var n;return e&&(n="undefined"==typeof t?T(e):x(e,t),n&&(_r=n)),_r._abbr}function x(e,t){return null!==t?(t.abbr=e,Hr[e]||(Hr[e]=new y),Hr[e].set(t),S(e),Hr[e]):(delete Hr[e],null)}function T(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return _r;if(!r(e)){if(t=E(e))return t;e=[e]}return w(e)}function N(e,t){var n=e.toLowerCase();Br[n]=Br[n+"s"]=Br[t]=e}function C(e){return"string"==typeof e?Br[e]||Br[e.toLowerCase()]:void 0}function k(e){var t,n,r={};for(n in e)o(e,n)&&(t=C(n),t&&(r[t]=e[n]));return r}function L(e,n){return function(r){return null!=r?(O(this,e,r),t.updateOffset(this,n),this):A(this,e)}}function A(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function O(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function M(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=C(e),"function"==typeof this[e])return this[e](t);return this}function _(e,t,n){for(var r=""+Math.abs(e),i=e>=0;r.length<t;)r="0"+r;return(i?n?"+":"":"-")+r}function D(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(qr[e]=i),t&&(qr[t[0]]=function(){return _(i.apply(this,arguments),t[1],t[2])}),n&&(qr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function P(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function H(e){var t,n,r=e.match(jr);for(t=0,n=r.length;n>t;t++)qr[r[t]]?r[t]=qr[r[t]]:r[t]=P(r[t]);return function(i){var s="";for(t=0;n>t;t++)s+=r[t]instanceof Function?r[t].call(i,e):r[t];return s}}function B(e,t){return e.isValid()?(t=j(t,e.localeData()),Ir[t]||(Ir[t]=H(t)),Ir[t](e)):e.localeData().invalidDate()}function j(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Fr.lastIndex=0;r>=0&&Fr.test(e);)e=e.replace(Fr,n),Fr.lastIndex=0,r-=1;return e}function F(e,t,n){ti[e]="function"==typeof t?t:function(e){return e&&n?n:t}}function I(e,t){return o(ti,e)?ti[e](t._strict,t._locale):new RegExp(q(e))}function q(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function R(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=m(e)}),n=0;n<e.length;n++)ni[e[n]]=r}function U(e,t){R(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function z(e,t,n){null!=t&&o(ni,e)&&ni[e](t,n._a,n,e)}function W(e,t){return(new Date(Date.UTC(e,t+1,0))).getUTCDate()}function X(e){return this._months[e.month()]}function V(e){return this._monthsShort[e.month()]}function $(e,t,n){var r,i,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=a([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function J(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),W(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function K(e){return null!=e?(J(this,e),t.updateOffset(this,!0),this):A(this,"Month")}function Q(){return W(this.year(),this.month())}function G(e){var t,n=e._a;return n&&-2===l(e).overflow&&(t=n[ii]<0||n[ii]>11?ii:n[si]<1||n[si]>W(n[ri],n[ii])?si:n[oi]<0||n[oi]>24||24===n[oi]&&(0!==n[ui]||0!==n[ai]||0!==n[fi])?oi:n[ui]<0||n[ui]>59?ui:n[ai]<0||n[ai]>59?ai:n[fi]<0||n[fi]>999?fi:-1,l(e)._overflowDayOfYear&&(ri>t||t>si)&&(t=si),l(e).overflow=t),e}function Y(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function Z(e,t){var n=!0,r=e+"\n"+(new Error).stack;return u(function(){return n&&(Y(r),n=!1),t.apply(this,arguments)},t)}function et(e,t){hi[e]||(Y(t),hi[e]=!0)}function tt(e){var t,n,r=e._i,i=pi.exec(r);if(i){for(l(e).iso=!0,t=0,n=di.length;n>t;t++)if(di[t][1].exec(r)){e._f=di[t][0]+(i[6]||" ");break}for(t=0,n=vi.length;n>t;t++)if(vi[t][1].exec(r)){e._f+=vi[t][0];break}r.match(Yr)&&(e._f+="Z"),wt(e)}else e._isValid=!1}function nt(e){var n=mi.exec(e._i);return null!==n?void (e._d=new Date(+n[1])):(tt(e),void (e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function rt(e,t,n,r,i,s,o){var u=new Date(e,t,n,r,i,s,o);return 1970>e&&u.setFullYear(e),u}function it(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function st(e){return ot(e)?366:365}function ot(e){return e%4===0&&e%100!==0||e%400===0}function ut(){return ot(this.year())}function at(e,t,n){var r,i=n-t,s=n-e.day();return s>i&&(s-=7),i-7>s&&(s+=7),r=kt(e).add(s,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ft(e){return at(e,this._week.dow,this._week.doy).week}function lt(){return this._week.dow}function ct(){return this._week.doy}function ht(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function pt(e){var t=at(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function dt(e,t,n,r,i){var s,o,u=it(e,0,1).getUTCDay();return u=0===u?7:u,n=null!=n?n:i,s=i-u+(u>r?7:0)-(i>u?7:0),o=7*(t-1)+(n-i)+s+1,{year:o>0?e:e-1,dayOfYear:o>0?o:st(e-1)+o}}function vt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function mt(e,t,n){return null!=e?e:null!=t?t:n}function gt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function yt(e){var t,n,r,i,s=[];if(!e._d){for(r=gt(e),e._w&&null==e._a[si]&&null==e._a[ii]&&bt(e),e._dayOfYear&&(i=mt(e._a[ri],r[ri]),e._dayOfYear>st(i)&&(l(e)._overflowDayOfYear=!0),n=it(i,0,e._dayOfYear),e._a[ii]=n.getUTCMonth(),e._a[si]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;7>t;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[oi]&&0===e._a[ui]&&0===e._a[ai]&&0===e._a[fi]&&(e._nextDay=!0,e._a[oi]=0),e._d=(e._useUTC?it:rt).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[oi]=24)}}function bt(e){var t,n,r,i,s,o,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(s=1,o=4,n=mt(t.GG,e._a[ri],at(kt(),1,4).year),r=mt(t.W,1),i=mt(t.E,1)):(s=e._locale._week.dow,o=e._locale._week.doy,n=mt(t.gg,e._a[ri],at(kt(),s,o).year),r=mt(t.w,1),null!=t.d?(i=t.d,s>i&&++r):i=null!=t.e?t.e+s:s),u=dt(n,r,i,o,s),e._a[ri]=u.year,e._dayOfYear=u.dayOfYear}function wt(e){if(e._f===t.ISO_8601)return void tt(e);e._a=[],l(e).empty=!0;var n,r,i,s,o,u=""+e._i,a=u.length,f=0;for(i=j(e._f,e._locale).match(jr)||[],n=0;n<i.length;n++)s=i[n],r=(u.match(I(s,e))||[])[0],r&&(o=u.substr(0,u.indexOf(r)),o.length>0&&l(e).unusedInput.push(o),u=u.slice(u.indexOf(r)+r.length),f+=r.length),qr[s]?(r?l(e).empty=!1:l(e).unusedTokens.push(s),z(s,r,e)):e._strict&&!r&&l(e).unusedTokens.push(s);l(e).charsLeftOver=a-f,u.length>0&&l(e).unusedInput.push(u),l(e).bigHour===!0&&e._a[oi]<=12&&e._a[oi]>0&&(l(e).bigHour=void 0),e._a[oi]=Et(e._locale,e._a[oi],e._meridiem),yt(e),G(e)}function Et(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function St(e){var t,n,r,i,s;if(0===e._f.length)return l(e).invalidFormat=!0,void (e._d=new Date(NaN));for(i=0;i<e._f.length;i++)s=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],wt(t),c(t)&&(s+=l(t).charsLeftOver,s+=10*l(t).unusedTokens.length,l(t).score=s,(null==r||r>s)&&(r=s,n=t));u(e,n||t)}function xt(e){if(!e._d){var t=k(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],yt(e)}}function Tt(e){var t,n=e._i,s=e._f;return e._locale=e._locale||T(e._l),null===n||void 0===s&&""===n?h({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),v(n)?new d(G(n)):(r(s)?St(e):s?wt(e):i(n)?e._d=n:Nt(e),t=new d(G(e)),t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t))}function Nt(e){var n=e._i;void 0===n?e._d=new Date:i(n)?e._d=new Date(+n):"string"==typeof n?nt(e):r(n)?(e._a=s(n.slice(0),function(e){return parseInt(e,10)}),yt(e)):"object"==typeof n?xt(e):"number"==typeof n?e._d=new Date(n):t.createFromInputFallback(e)}function Ct(e,t,n,r,i){var s={};return"boolean"==typeof n&&(r=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Tt(s)}function kt(e,t,n,r){return Ct(e,t,n,r,!1)}function Lt(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return kt();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function At(){var e=[].slice.call(arguments,0);return Lt("isBefore",e)}function Ot(){var e=[].slice.call(arguments,0);return Lt("isAfter",e)}function Mt(e){var t=k(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||0,o=t.day||0,u=t.hour||0,a=t.minute||0,f=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*f+6e4*a+36e5*u,this._days=+o+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=T(),this._bubble()}function _t(e){return e instanceof Mt}function Dt(e,t){D(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+_(~~(e/60),2)+t+_(~~e%60,2)})}function Pt(e){var t=(e||"").match(Yr)||[],n=t[t.length-1]||[],r=(n+"").match(Ei)||["-",0,0],i=+(60*r[1])+m(r[2]);return"+"===r[0]?i:-i}function Ht(e,n){var r,s;return n._isUTC?(r=n.clone(),s=(v(e)||i(e)?+e:+kt(e))- +r,r._d.setTime(+r._d+s),t.updateOffset(r,!1),r):kt(e).local()}function Bt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function jt(e,n){var r,i=this._offset||0;return null!=e?("string"==typeof e&&(e=Pt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(r=Bt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!n||this._changeInProgress?Zt(this,Jt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Bt(this)}function Ft(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function It(e){return this.utcOffset(0,e)}function qt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Bt(this),"m")),this}function Rt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Pt(this._i)),this}function Ut(e){return e=e?kt(e).utcOffset():0,(this.utcOffset()-e)%60===0}function zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Wt(){if(this._a){var e=this._isUTC?a(this._a):kt(this._a);return this.isValid()&&g(this._a,e.toArray())>0}return!1}function Xt(){return!this._isUTC}function Vt(){return this._isUTC}function $t(){return this._isUTC&&0===this._offset}function Jt(e,t){var n,r,i,s=e,u=null;return _t(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(u=Si.exec(e))?(n="-"===u[1]?-1:1,s={y:0,d:m(u[si])*n,h:m(u[oi])*n,m:m(u[ui])*n,s:m(u[ai])*n,ms:m(u[fi])*n}):(u=xi.exec(e))?(n="-"===u[1]?-1:1,s={y:Kt(u[2],n),M:Kt(u[3],n),d:Kt(u[4],n),h:Kt(u[5],n),m:Kt(u[6],n),s:Kt(u[7],n),w:Kt(u[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(i=Gt(kt(s.from),kt(s.to)),s={},s.ms=i.milliseconds,s.M=i.months),r=new Mt(s),_t(e)&&o(e,"_locale")&&(r._locale=e._locale),r}function Kt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Qt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t- +e.clone().add(n.months,"M"),n}function Gt(e,t){var n;return t=Ht(t,e),e.isBefore(t)?n=Qt(e,t):(n=Qt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Yt(e,t){return function(n,r){var i,s;return null===r||isNaN(+r)||(et(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=n,n=r,r=s),n="string"==typeof n?+n:n,i=Jt(n,r),Zt(this,i,e),this}}function Zt(e,n,r,i){var s=n._milliseconds,o=n._days,u=n._months;i=null==i?!0:i,s&&e._d.setTime(+e._d+s*r),o&&O(e,"Date",A(e,"Date")+o*r),u&&J(e,A(e,"Month")+u*r),i&&t.updateOffset(e,o||u)}function en(e){var t=e||kt(),n=Ht(t,this).startOf("day"),r=this.diff(n,"days",!0),i=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,kt(t)))}function tn(){return new d(this)}function nn(e,t){var n;return t=C("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=v(e)?e:kt(e),+this>+e):(n=v(e)?+e:+kt(e),n<+this.clone().startOf(t))}function rn(e,t){var n;return t=C("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=v(e)?e:kt(e),+e>+this):(n=v(e)?+e:+kt(e),+this.clone().endOf(t)<n)}function sn(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function on(e,t){var n;return t=C(t||"millisecond"),"millisecond"===t?(e=v(e)?e:kt(e),+this===+e):(n=+kt(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function un(e){return 0>e?Math.ceil(e):Math.floor(e)}function an(e,t,n){var r,i,s=Ht(e,this),o=6e4*(s.utcOffset()-this.utcOffset());return t=C(t),"year"===t||"month"===t||"quarter"===t?(i=fn(this,s),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-s,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?i:un(i)}function fn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(i,"months");return 0>t-s?(n=e.clone().add(i-1,"months"),r=(t-s)/(s-n)):(n=e.clone().add(i+1,"months"),r=(t-s)/(n-s)),-(i+r)}function ln(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():B(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):B(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function hn(e){var n=B(this,e||t.defaultFormat);return this.localeData().postformat(n)}function pn(e,t){return this.isValid()?Jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function dn(e){return this.from(kt(),e)}function vn(e,t){return this.isValid()?Jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mn(e){return this.to(kt(),e)}function gn(e){var t;return void 0===e?this._locale._abbr:(t=T(e),null!=t&&(this._locale=t),this)}function yn(){return this._locale}function bn(e){switch(e=C(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function wn(e){return e=C(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function En(){return+this._d-6e4*(this._offset||0)}function Sn(){return Math.floor(+this/1e3)}function xn(){return this._offset?new Date(+this):this._d}function Tn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Nn(){return c(this)}function Cn(){return u({},l(this))}function kn(){return l(this).overflow}function Ln(e,t){D(0,[e,e.length],0,t)}function An(e,t,n){return at(kt([e,11,31+t-n]),t,n).week}function On(e){var t=at(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Mn(e){var t=at(this,1,4).year;return null==e?t:this.add(e-t,"y")}function _n(){return An(this.year(),1,4)}function Dn(){var e=this.localeData()._week;return An(this.year(),e.dow,e.doy)}function Pn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Hn(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function Bn(e){return this._weekdays[e.day()]}function jn(e){return this._weekdaysShort[e.day()]}function Fn(e){return this._weekdaysMin[e.day()]}function In(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=kt([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function qn(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Hn(e,this.localeData()),this.add(e-t,"d")):t}function Rn(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Un(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function zn(e,t){D(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Wn(e,t){return t._meridiemParse}function Xn(e){return"p"===(e+"").toLowerCase().charAt(0)}function Vn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function $n(e){D(0,[e,3],0,"millisecond")}function Jn(){return this._isUTC?"UTC":""}function Kn(){return this._isUTC?"Coordinated Universal Time":""}function Qn(e){return kt(1e3*e)}function Gn(){return kt.apply(null,arguments).parseZone()}function Yn(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function Zn(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t}function er(){return this._invalidDate}function tr(e){return this._ordinal.replace("%d",e)}function nr(e){return e}function rr(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)}function ir(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function sr(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function or(e,t,n,r){var i=T(),s=a().set(r,t);return i[n](s,e)}function ur(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return or(e,t,n,i);var s,o=[];for(s=0;r>s;s++)o[s]=or(e,s,n,i);return o}function ar(e,t){return ur(e,t,"months",12,"month")}function fr(e,t){return ur(e,t,"monthsShort",12,"month")}function lr(e,t){return ur(e,t,"weekdays",7,"day")}function cr(e,t){return ur(e,t,"weekdaysShort",7,"day")}function hr(e,t){return ur(e,t,"weekdaysMin",7,"day")}function pr(){var e=this._data;return this._milliseconds=Xi(this._milliseconds),this._days=Xi(this._days),this._months=Xi(this._months),e.milliseconds=Xi(e.milliseconds),e.seconds=Xi(e.seconds),e.minutes=Xi(e.minutes),e.hours=Xi(e.hours),e.months=Xi(e.months),e.years=Xi(e.years),this}function dr(e,t,n,r){var i=Jt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function vr(e,t){return dr(this,e,t,1)}function mr(e,t){return dr(this,e,t,-1)}function gr(){var e,t,n,r=this._milliseconds,i=this._days,s=this._months,o=this._data,u=0;return o.milliseconds=r%1e3,e=un(r/1e3),o.seconds=e%60,t=un(e/60),o.minutes=t%60,n=un(t/60),o.hours=n%24,i+=un(n/24),u=un(yr(i)),i-=un(br(u)),s+=un(i/30),i%=30,u+=un(s/12),s%=12,o.days=i,o.months=s,o.years=u,this}function yr(e){return 400*e/146097}function br(e){return 146097*e/400}function wr(e){var t,n,r=this._milliseconds;if(e=C(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+12*yr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(br(this._months/12)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Er(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)}function Sr(e){return function(){return this.as(e)}}function xr(e){return e=C(e),this[e+"s"]()}function Tr(e){return function(){return this._data[e]}}function Nr(){return un(this.days()/7)}function Cr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function kr(e,t,n){var r=Jt(e).abs(),i=us(r.as("s")),s=us(r.as("m")),o=us(r.as("h")),u=us(r.as("d")),a=us(r.as("M")),f=us(r.as("y")),l=i<as.s&&["s",i]||1===s&&["m"]||s<as.m&&["mm",s]||1===o&&["h"]||o<as.h&&["hh",o]||1===u&&["d"]||u<as.d&&["dd",u]||1===a&&["M"]||a<as.M&&["MM",a]||1===f&&["y"]||["yy",f];return l[2]=t,l[3]=+e>0,l[4]=n,Cr.apply(null,l)}function Lr(e,t){return void 0===as[e]?!1:void 0===t?as[e]:(as[e]=t,!0)}function Ar(e){var t=this.localeData(),n=kr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Or(){var e=fs(this.years()),t=fs(this.months()),n=fs(this.days()),r=fs(this.hours()),i=fs(this.minutes()),s=fs(this.seconds()+this.milliseconds()/1e3),o=this.asSeconds();return o?(0>o?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||s?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"}var Mr,_r,Dr=t.momentProperties=[],Pr=!1,Hr={},Br={},jr=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Fr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ir={},qr={},Rr=/\d/,Ur=/\d\d/,zr=/\d{3}/,Wr=/\d{4}/,Xr=/[+-]?\d{6}/,Vr=/\d\d?/,$r=/\d{1,3}/,Jr=/\d{1,4}/,Kr=/[+-]?\d{1,6}/,Qr=/\d+/,Gr=/[+-]?\d+/,Yr=/Z|[+-]\d\d:?\d\d/gi,Zr=/[+-]?\d+(\.\d{1,3})?/,ei=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ti={},ni={},ri=0,ii=1,si=2,oi=3,ui=4,ai=5,fi=6;D("M",["MM",2],"Mo",function(){return this.month()+1}),D("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),D("MMMM",0,0,function(e){return this.localeData().months(this,e)}),N("month","M"),F("M",Vr),F("MM",Vr,Ur),F("MMM",ei),F("MMMM",ei),R(["M","MM"],function(e,t){t[ii]=m(e)-1}),R(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ii]=i:l(n).invalidMonth=e});var li="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ci="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),hi={};t.suppressDeprecationWarnings=!1;var pi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,di=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],vi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],mi=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=Z("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),D(0,["YY",2],0,function(){return this.year()%100}),D(0,["YYYY",4],0,"year"),D(0,["YYYYY",5],0,"year"),D(0,["YYYYYY",6,!0],0,"year"),N("year","y"),F("Y",Gr),F("YY",Vr,Ur),F("YYYY",Jr,Wr),F("YYYYY",Kr,Xr),F("YYYYYY",Kr,Xr),R(["YYYY","YYYYY","YYYYYY"],ri),R("YY",function(e,n){n[ri]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(e){return m(e)+(m(e)>68?1900:2e3)};var gi=L("FullYear",!1);D("w",["ww",2],"wo","week"),D("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),F("w",Vr),F("ww",Vr,Ur),F("W",Vr),F("WW",Vr,Ur),U(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=m(e)});var yi={dow:0,doy:6};D("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),F("DDD",$r),F("DDDD",zr),R(["DDD","DDDD"],function(e,t,n){n._dayOfYear=m(e)}),t.ISO_8601=function(){};var bi=Z("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=kt.apply(null,arguments);return this>e?this:e}),wi=Z("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=kt.apply(null,arguments);return e>this?this:e});Dt("Z",":"),Dt("ZZ",""),F("Z",Yr),F("ZZ",Yr),R(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Pt(e)});var Ei=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Si=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,xi=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Jt.fn=Mt.prototype;var Ti=Yt(1,"add"),Ni=Yt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ci=Z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});D(0,["gg",2],0,function(){return this.weekYear()%100}),D(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ln("gggg","weekYear"),Ln("ggggg","weekYear"),Ln("GGGG","isoWeekYear"),Ln("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),F("G",Gr),F("g",Gr),F("GG",Vr,Ur),F("gg",Vr,Ur),F("GGGG",Jr,Wr),F("gggg",Jr,Wr),F("GGGGG",Kr,Xr),F("ggggg",Kr,Xr),U(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=m(e)}),U(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),D("Q",0,0,"quarter"),N("quarter","Q"),F("Q",Rr),R("Q",function(e,t){t[ii]=3*(m(e)-1)}),D("D",["DD",2],"Do","date"),N("date","D"),F("D",Vr),F("DD",Vr,Ur),F("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),R(["D","DD"],si),R("Do",function(e,t){t[si]=m(e.match(Vr)[0],10)});var ki=L("Date",!0);D("d",0,"do","day"),D("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),D("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),D("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),D("e",0,0,"weekday"),D("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),F("d",Vr),F("e",Vr),F("E",Vr),F("dd",ei),F("ddd",ei),F("dddd",ei),U(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:l(n).invalidWeekday=e}),U(["d","e","E"],function(e,t,n,r){t[r]=m(e)});var Li="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ai="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Oi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");D("H",["HH",2],0,"hour"),D("h",["hh",2],0,function(){return this.hours()%12||12}),zn("a",!0),zn("A",!1),N("hour","h"),F("a",Wn),F("A",Wn),F("H",Vr),F("h",Vr),F("HH",Vr,Ur),F("hh",Vr,Ur),R(["H","HH"],oi),R(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),R(["h","hh"],function(e,t,n){t[oi]=m(e),l(n).bigHour=!0});var Mi=/[ap]\.?m?\.?/i,_i=L("Hours",!0);D("m",["mm",2],0,"minute"),N("minute","m"),F("m",Vr),F("mm",Vr,Ur),R(["m","mm"],ui);var Di=L("Minutes",!1);D("s",["ss",2],0,"second"),N("second","s"),F("s",Vr),F("ss",Vr,Ur),R(["s","ss"],ai);var Pi=L("Seconds",!1);D("S",0,0,function(){return~~(this.millisecond()/100)}),D(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$n("SSS"),$n("SSSS"),N("millisecond","ms"),F("S",$r,Rr),F("SS",$r,Ur),F("SSS",$r,zr),F("SSSS",Qr),R(["S","SS","SSS","SSSS"],function(e,t){t[fi]=m(1e3*("0."+e))});var Hi=L("Milliseconds",!1);D("z",0,0,"zoneAbbr"),D("zz",0,0,"zoneName");var Bi=d.prototype;Bi.add=Ti,Bi.calendar=en,Bi.clone=tn,Bi.diff=an,Bi.endOf=wn,Bi.format=hn,Bi.from=pn,Bi.fromNow=dn,Bi.to=vn,Bi.toNow=mn,Bi.get=M,Bi.invalidAt=kn,Bi.isAfter=nn,Bi.isBefore=rn,Bi.isBetween=sn,Bi.isSame=on,Bi.isValid=Nn,Bi.lang=Ci,Bi.locale=gn,Bi.localeData=yn,Bi.max=wi,Bi.min=bi,Bi.parsingFlags=Cn,Bi.set=M,Bi.startOf=bn,Bi.subtract=Ni,Bi.toArray=Tn,Bi.toDate=xn,Bi.toISOString=cn,Bi.toJSON=cn,Bi.toString=ln,Bi.unix=Sn,Bi.valueOf=En,Bi.year=gi,Bi.isLeapYear=ut,Bi.weekYear=On,Bi.isoWeekYear=Mn,Bi.quarter=Bi.quarters=Pn,Bi.month=K,Bi.daysInMonth=Q,Bi.week=Bi.weeks=ht,Bi.isoWeek=Bi.isoWeeks=pt,Bi.weeksInYear=Dn,Bi.isoWeeksInYear=_n,Bi.date=ki,Bi.day=Bi.days=qn,Bi.weekday=Rn,Bi.isoWeekday=Un,Bi.dayOfYear=vt,Bi.hour=Bi.hours=_i,Bi.minute=Bi.minutes=Di,Bi.second=Bi.seconds=Pi,Bi.millisecond=Bi.milliseconds=Hi,Bi.utcOffset=jt,Bi.utc=It,Bi.local=qt,Bi.parseZone=Rt,Bi.hasAlignedHourOffset=Ut,Bi.isDST=zt,Bi.isDSTShifted=Wt,Bi.isLocal=Xt,Bi.isUtcOffset=Vt,Bi.isUtc=$t,Bi.isUTC=$t,Bi.zoneAbbr=Jn,Bi.zoneName=Kn,Bi.dates=Z("dates accessor is deprecated. Use date instead.",ki),Bi.months=Z("months accessor is deprecated. Use month instead",K),Bi.years=Z("years accessor is deprecated. Use year instead",gi),Bi.zone=Z("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ft);var ji=Bi,Fi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ii={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},qi="Invalid date",Ri="%d",Ui=/\d{1,2}/,zi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Wi=y.prototype;Wi._calendar=Fi,Wi.calendar=Yn,Wi._longDateFormat=Ii,Wi.longDateFormat=Zn,Wi._invalidDate=qi,Wi.invalidDate=er,Wi._ordinal=Ri,Wi.ordinal=tr,Wi._ordinalParse=Ui,Wi.preparse=nr,Wi.postformat=nr,Wi._relativeTime=zi,Wi.relativeTime=rr,Wi.pastFuture=ir,Wi.set=sr,Wi.months=X,Wi._months=li,Wi.monthsShort=V,Wi._monthsShort=ci,Wi.monthsParse=$,Wi.week=ft,Wi._week=yi,Wi.firstDayOfYear=ct,Wi.firstDayOfWeek=lt,Wi.weekdays=Bn,Wi._weekdays=Li,Wi.weekdaysMin=Fn,Wi._weekdaysMin=Oi,Wi.weekdaysShort=jn,Wi._weekdaysShort=Ai,Wi.weekdaysParse=In,Wi.isPM=Xn,Wi._meridiemParse=Mi,Wi.meridiem=Vn,S("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===m(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),t.lang=Z("moment.lang is deprecated. Use moment.locale instead.",S),t.langData=Z("moment.langData is deprecated. Use moment.localeData instead.",T);var Xi=Math.abs,Vi=Sr("ms"),$i=Sr("s"),Ji=Sr("m"),Ki=Sr("h"),Qi=Sr("d"),Gi=Sr("w"),Yi=Sr("M"),Zi=Sr("y"),es=Tr("milliseconds"),ts=Tr("seconds"),ns=Tr("minutes"),rs=Tr("hours"),is=Tr("days"),ss=Tr("months"),os=Tr("years"),us=Math.round,as={s:45,m:45,h:22,d:26,M:11},fs=Math.abs,ls=Mt.prototype;ls.abs=pr,ls.add=vr,ls.subtract=mr,ls.as=wr,ls.asMilliseconds=Vi,ls.asSeconds=$i,ls.asMinutes=Ji,ls.asHours=Ki,ls.asDays=Qi,ls.asWeeks=Gi,ls.asMonths=Yi,ls.asYears=Zi,ls.valueOf=Er,ls._bubble=gr,ls.get=xr,ls.milliseconds=es,ls.seconds=ts,ls.minutes=ns,ls.hours=rs,ls.days=is,ls.weeks=Nr,ls.months=ss,ls.years=os,ls.humanize=Ar,ls.toISOString=Or,ls.toString=Or,ls.toJSON=Or,ls.locale=gn,ls.localeData=yn,ls.toIsoString=Z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Or),ls.lang=Ci,D("X",0,0,"unix"),D("x",0,0,"valueOf"),F("x",Gr),F("X",Zr),R("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),R("x",function(e,t,n){n._d=new Date(m(e))}),t.version="2.10.3",n(kt),t.fn=ji,t.min=At,t.max=Ot,t.utc=a,t.unix=Qn,t.months=ar,t.isDate=i,t.locale=S,t.invalid=h,t.duration=Jt,t.isMoment=v,t.weekdays=lr,t.parseZone=Gn,t.localeData=T,t.isDuration=_t,t.monthsShort=fr,t.weekdaysMin=hr,t.defineLocale=x,t.weekdaysShort=cr,t.normalizeUnits=C,t.relativeTimeThreshold=Lr;var cs=t;return cs})}).call(t,n(4)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=5},function(e,t){(function(t){function n(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>i&&(t[r+i++]=c[e])});16>i;)t[r+i++]=0;return t}function r(e,t){var n=t||0,r=l;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function i(e,t,n){var i=t&&n||0,s=t||[];e=e||{};var o=void 0!==e.clockseq?e.clockseq:v,u=void 0!==e.msecs?e.msecs:(new Date).getTime(),a=void 0!==e.nsecs?e.nsecs:g+1,f=u-m+(a-g)/1e4;if(0>f&&void 0===e.clockseq&&(o=o+1&16383),(0>f||u>m)&&void 0===e.nsecs&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=u,g=a,v=o,u+=122192928e5;var l=(1e4*(268435455&u)+a)%4294967296;s[i++]=l>>>24&255,s[i++]=l>>>16&255,s[i++]=l>>>8&255,s[i++]=255&l;var c=u/4294967296*1e4&268435455;s[i++]=c>>>8&255,s[i++]=255&c,s[i++]=c>>>24&15|16,s[i++]=c>>>16&255,s[i++]=o>>>8|128,s[i++]=255&o;for(var h=e.node||d,p=0;6>p;p++)s[i+p]=h[p];return t?t:r(s)}function s(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var s=e.random||(e.rng||o)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var u=0;16>u;u++)t[i+u]=s[u];return t||r(s)}var o,u="undefined"!=typeof window?window:"undefined"!=typeof t?t:null;if(u&&u.crypto&&crypto.getRandomValues){var a=new Uint8Array(16);o=function(){return crypto.getRandomValues(a),a}}if(!o){var f=new Array(16);o=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),f[t]=e>>>((3&t)<<3)&255;return f}}for(var l=[],c={},h=0;256>h;h++)l[h]=(h+256).toString(16).substr(1),c[l[h]]=h;var p=o(),d=[1|p[0],p[1],p[2],p[3],p[4],p[5]],v=16383&(p[6]<<8|p[7]),m=0,g=0,y=s;y.v1=i,y.v4=s,y.parse=n,y.unparse=r,e.exports=y}).call(t,function(){return this}())},function(e,t){t.prepareElements=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t].redundant=e[t].used,e[t].used=[])},t.cleanupElements=function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t].redundant){for(var n=0;n<e[t].redundant.length;n++)e[t].redundant[n].parentNode.removeChild(e[t].redundant[n]);e[t].redundant=[]}},t.getSVGElement=function(e,t,n){var r;return t.hasOwnProperty(e)?t[e].redundant.length>0?(r=t[e].redundant[0],t[e].redundant.shift()):(r=document.createElementNS("http://www.w3.org/2000/svg",e),n.appendChild(r)):(r=document.createElementNS("http://www.w3.org/2000/svg",e),t[e]={used:[],redundant:[]},n.appendChild(r)),t[e].used.push(r),r},t.getDOMElement=function(e,t,n,r){var i;return t.hasOwnProperty(e)?t[e].redundant.length>0?(i=t[e].redundant[0],t[e].redundant.shift()):(i=document.createElement(e),void 0!==r?n.insertBefore(i,r):n.appendChild(i)):(i=document.createElement(e),t[e]={used:[],redundant:[]},void 0!==r?n.insertBefore(i,r):n.appendChild(i)),t[e].used.push(i),i},t.drawPoint=function(e,n,r,i,s,o){var u;if("circle"==r.options.drawPoints.style?(u=t.getSVGElement("circle",i,s),u.setAttributeNS(null,"cx",e),u.setAttributeNS(null,"cy",n),u.setAttributeNS(null,"r",.5*r.options.drawPoints.size)):(u=t.getSVGElement("rect",i,s),u.setAttributeNS(null,"x",e-.5*r.options.drawPoints.size),u.setAttributeNS(null,"y",n-.5*r.options.drawPoints.size),u.setAttributeNS(null,"width",r.options.drawPoints.size),u.setAttributeNS(null,"height",r.options.drawPoints.size)),void 0!==r.options.drawPoints.styles&&u.setAttributeNS(null,"style",r.group.options.drawPoints.styles),u.setAttributeNS(null,"class",r.className+" vis-point"),o){var a=t.getSVGElement("text",i,s);o.xOffset&&(e+=o.xOffset),o.yOffset&&(n+=o.yOffset),o.content&&(a.textContent=o.content),o.className&&a.setAttributeNS(null,"class",o.className+" vis-label"),a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",n)}return u},t.drawBar=function(e,n,r,i,s,o,u,a){if(0!=i){0>i&&(i*=-1,n-=i);var f=t.getSVGElement("rect",o,u);f.setAttributeNS(null,"x",e-.5*r),f.setAttributeNS(null,"y",n),f.setAttributeNS(null,"width",r),f.setAttributeNS(null,"height",i),f.setAttributeNS(null,"class",s),a&&f.setAttributeNS(null,"style",a)}}},function(e,t,n){function r(e,t){if(e&&!Array.isArray(e)&&(t=e,e=null),this._options=t||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var n in this._options.type)if(this._options.type.hasOwnProperty(n)){var r=this._options.type[n];"Date"==r||"ISODate"==r||"ASPDate"==r?this._type[n]="Date":this._type[n]=r}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={},e&&this.add(e),this.setOptions(t)}var i=n(1),s=n(9);r.prototype.setOptions=function(e){e&&void 0!==e.queue&&(e.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=s.extend(this,{replace:["add","update","remove"]})),"object"==typeof e.queue&&this._queue.setOptions(e.queue)))},r.prototype.on=function(e,t){var n=this._subscribers[e];n||(n=[],this._subscribers[e]=n),n.push({callback:t})},r.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")},r.prototype.off=function(e,t){var n=this._subscribers[e];n&&(this._subscribers[e]=n.filter(function(e){return e.callback!=t}))},r.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")},r.prototype._trigger=function(e,t,n){if("*"==e)throw new Error("Cannot trigger event *");var r=[];e in this._subscribers&&(r=r.concat(this._subscribers[e])),"*"in this._subscribers&&(r=r.concat(this._subscribers["*"]));for(var i=0;i<r.length;i++){var s=r[i];s.callback&&s.callback(e,t,n||null)}},r.prototype.add=function(e,t){var n,r=[],i=this;if(Array.isArray(e))for(var s=0,o=e.length;o>s;s++)n=i._addItem(e[s]),r.push(n);else{if(!(e instanceof Object))throw new Error("Unknown dataType");n=i._addItem(e),r.push(n)}return r.length&&this._trigger("add",{items:r},t),r},r.prototype.update=function(e,t){var n=[],r=[],i=[],s=this,o=s._fieldId,u=function(e){var t=e[o];s._data[t]?(t=s._updateItem(e),r.push(t),i.push(e)):(t=s._addItem(e),n.push(t))};if(Array.isArray(e))for(var a=0,f=e.length;f>a;a++)u(e[a]);else{if(!(e instanceof Object))throw new Error("Unknown dataType");u(e)}return n.length&&this._trigger("add",{items:n},t),r.length&&this._trigger("update",{items:r,data:i},t),n.concat(r)},r.prototype.get=function(e){var t,n,r,s=this,o=i.getType(arguments[0]);"String"==o||"Number"==o?(t=arguments[0],r=arguments[1]):"Array"==o?(n=arguments[0],r=arguments[1]):r=arguments[0];var u;if(r&&r.returnType){var a=["Array","Object"];u=-1==a.indexOf(r.returnType)?"Array":r.returnType}else u="Array";var f,l,c,h,p=r&&r.type||this._options.type,d=r&&r.filter,v=[];if(void 0!=t)f=s._getItem(t,p),d&&!d(f)&&(f=null);else if(void 0!=n)for(c=0,h=n.length;h>c;c++)f=s._getItem(n[c],p),(!d||d(f))&&v.push(f);else for(l in this._data)this._data.hasOwnProperty(l)&&(f=s._getItem(l,p),(!d||d(f))&&v.push(f));if(r&&r.order&&void 0==t&&this._sort(v,r.order),r&&r.fields){var m=r.fields;if(void 0!=t)f=this._filterFields(f,m);else for(c=0,h=v.length;h>c;c++)v[c]=this._filterFields(v[c],m)}if("Object"==u){var g={};for(c=0;c<v.length;c++)g[v[c].id]=v[c];return g}return void 0!=t?f:v},r.prototype.getIds=function(e){var t,n,r,i,s,o=this._data,u=e&&e.filter,a=e&&e.order,f=e&&e.type||this._options.type,l=[];if(u)if(a){s=[];for(r in o)o.hasOwnProperty(r)&&(i=this._getItem(r,f),u(i)&&s.push(i));for(this._sort(s,a),t=0,n=s.length;n>t;t++)l[t]=s[t][this._fieldId]}else for(r in o)o.hasOwnProperty(r)&&(i=this._getItem(r,f),u(i)&&l.push(i[this._fieldId]));else if(a){s=[];for(r in o)o.hasOwnProperty(r)&&s.push(o[r]);for(this._sort(s,a),t=0,n=s.length;n>t;t++)l[t]=s[t][this._fieldId]}else for(r in o)o.hasOwnProperty(r)&&(i=o[r],l.push(i[this._fieldId]));return l},r.prototype.getDataSet=function(){return this},r.prototype.forEach=function(e,t){var n,r,i=t&&t.filter,s=t&&t.type||this._options.type,o=this._data;if(t&&t.order)for(var u=this.get(t),a=0,f=u.length;f>a;a++)n=u[a],r=n[this._fieldId],e(n,r);else for(r in o)o.hasOwnProperty(r)&&(n=this._getItem(r,s),(!i||i(n))&&e(n,r))},r.prototype.map=function(e,t){var n,r=t&&t.filter,i=t&&t.type||this._options.type,s=[],o=this._data;for(var u in o)o.hasOwnProperty(u)&&(n=this._getItem(u,i),(!r||r(n))&&s.push(e(n,u)));return t&&t.order&&this._sort(s,t.order),s},r.prototype._filterFields=function(e,t){if(!e)return e;var n={};if(Array.isArray(t))for(var r in e)e.hasOwnProperty(r)&&-1!=t.indexOf(r)&&(n[r]=e[r]);else for(var r in e)e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&(n[t[r]]=e[r]);return n},r.prototype._sort=function(e,t){if(i.isString(t)){var n=t;e.sort(function(e,t){var r=e[n],i=t[n];return r>i?1:i>r?-1:0})}else{if("function"!=typeof t)throw new TypeError("Order must be a function or a string");e.sort(t)}},r.prototype.remove=function(e,t){var n,r,i,s=[];if(Array.isArray(e))for(n=0,r=e.length;r>n;n++)i=this._remove(e[n]),null!=i&&s.push(i);else i=this._remove(e),null!=i&&s.push(i);return s.length&&this._trigger("remove",{items:s},t),s},r.prototype._remove=function(e){if(i.isNumber(e)||i.isString(e)){if(this._data[e])return delete this._data[e],this.length--,e}else if(e instanceof Object){var t=e[this._fieldId];if(t&&this._data[t])return delete this._data[t],this.length--,t}return null},r.prototype.clear=function(e){var t=Object.keys(this._data);return this._data={},this.length=0,this._trigger("remove",{items:t},e),t},r.prototype.max=function(e){var t=this._data,n=null,r=null;for(var i in t)if(t.hasOwnProperty(i)){var s=t[i],o=s[e];null!=o&&(!n||o>r)&&(n=s,r=o)}return n},r.prototype.min=function(e){var t=this._data,n=null,r=null;for(var i in t)if(t.hasOwnProperty(i)){var s=t[i],o=s[e];null!=o&&(!n||r>o)&&(n=s,r=o)}return n},r.prototype.distinct=function(e){var t,n=this._data,r=[],s=this._options.type&&this._options.type[e]||null,o=0;for(var u in n)if(n.hasOwnProperty(u)){var a=n[u],f=a[e],l=!1;for(t=0;o>t;t++)if(r[t]==f){l=!0;break}l||void 0===f||(r[o]=f,o++)}if(s)for(t=0;t<r.length;t++)r[t]=i.convert(r[t],s);return r},r.prototype._addItem=function(e){var t=e[this._fieldId];if(void 0!=t){if(this._data[t])throw new Error("Cannot add item: item with id "+t+" already exists")}else t=i.randomUUID(),e[this._fieldId]=t;var n={};for(var r in e)if(e.hasOwnProperty(r)){var s=this._type[r];n[r]=i.convert(e[r],s)}return this._data[t]=n,this.length++,t},r.prototype._getItem=function(e,t){var n,r,s=this._data[e];if(!s)return null;var o={};if(t)for(n in s)s.hasOwnProperty(n)&&(r=s[n],o[n]=i.convert(r,t[n]));else for(n in s)s.hasOwnProperty(n)&&(r=s[n],o[n]=r);return o},r.prototype._updateItem=function(e){var t=e[this._fieldId];if(void 0==t)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(e)+")");var n=this._data[t];if(!n)throw new Error("Cannot update item: no item with id "+t+" found");for(var r in e)if(e.hasOwnProperty(r)){var s=this._type[r];n[r]=i.convert(e[r],s)}return t},e.exports=r},function(e,t){function n(e){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(e)}n.prototype.setOptions=function(e){e&&"undefined"!=typeof e.delay&&(this.delay=e.delay),e&&"undefined"!=typeof e.max&&(this.max=e.max),this._flushIfNeeded()},n.extend=function(e,t){var r=new n(t);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){r.flush()};var s=[{name:"flush",original:void 0}];if(t&&t.replace)for(var o=0;o<t.replace.length;o++){var u=t.replace[o];s.push({name:u,original:e[u]}),r.replace(e,u)}return r._extended={object:e,methods:s},r},n.prototype.destroy=function(){if(this.flush(),this._extended){for(var e=this._extended.object,t=this._extended.methods,n=0;n<t.length;n++){var r=t[n];r.original?e[r.name]=r.original:delete e[r.name]}this._extended=null}},n.prototype.replace=function(e,t){var n=this,r=e[t];if(!r)throw new Error("Method "+t+" undefined");e[t]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.queue({args:e,fn:r,context:this})}},n.prototype.queue=function(e){"function"==typeof e?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()},n.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var e=this;this._timeout=setTimeout(function(){e.flush()},this.delay)}},n.prototype.flush=function(){for(;this._queue.length>0;){var e=this._queue.shift();e.fn.apply(e.context||e.fn,e.args||[])}},e.exports=n},function(e,t,n){function r(e,t){this._data=null,this._ids={},this.length=0,this._options=t||{},this._fieldId="id",this._subscribers={};var n=this;this.listener=function(){n._onEvent.apply(n,arguments)},this.setData(e)}var i=n(1),s=n(8);r.prototype.setData=function(e){var t,n,r;if(this._data){this._data.off&&this._data.off("*",this.listener),t=[];for(var i in this._ids)this._ids.hasOwnProperty(i)&&t.push(i);this._ids={},this.length=0,this._trigger("remove",{items:t})}if(this._data=e,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",t=this._data.getIds({filter:this._options&&this._options.filter}),n=0,r=t.length;r>n;n++)i=t[n],this._ids[i]=!0;this.length=t.length,this._trigger("add",{items:t}),this._data.on&&this._data.on("*",this.listener)}},r.prototype.refresh=function(){for(var e,t=this._data.getIds({filter:this._options&&this._options.filter}),n={},r=[],i=[],s=0;s<t.length;s++)e=t[s],n[e]=!0,this._ids[e]||(r.push(e),this._ids[e]=!0,this.length++);for(e in this._ids)this._ids.hasOwnProperty(e)&&(n[e]||(i.push(e),delete this._ids[e],this.length--));r.length&&this._trigger("add",{items:r}),i.length&&this._trigger("remove",{items:i})},r.prototype.get=function(e){var t,n,r,s=this,o=i.getType(arguments[0]);"String"==o||"Number"==o||"Array"==o?(t=arguments[0],n=arguments[1],r=arguments[2]):(n=arguments[0],r=arguments[1]);var u=i.extend({},this._options,n);this._options.filter&&n&&n.filter&&(u.filter=function(e){return s._options.filter(e)&&n.filter(e)});var a=[];return void 0!=t&&a.push(t),a.push(u),a.push(r),this._data&&this._data.get.apply(this._data,a)},r.prototype.getIds=function(e){var t;if(this._data){var n,r=this._options.filter;n=e&&e.filter?r?function(t){return r(t)&&e.filter(t)}:e.filter:r,t=this._data.getIds({filter:n,order:e&&e.order})}else t=[];return t},r.prototype.getDataSet=function(){for(var e=this;e instanceof r;)e=e._data;return e||null},r.prototype._onEvent=function(e,t,n){var r,i,s,o,u=t&&t.items,a=this._data,f=[],l=[],c=[],h=[];if(u&&a){switch(e){case"add":for(r=0,i=u.length;i>r;r++)s=u[r],o=this.get(s),o&&(this._ids[s]=!0,l.push(s));break;case"update":for(r=0,i=u.length;i>r;r++)s=u[r],o=this.get(s),o?this._ids[s]?(c.push(s),f.push(t.data[r])):(this._ids[s]=!0,l.push(s)):this._ids[s]&&(delete this._ids[s],h.push(s));break;case"remove":for(r=0,i=u.length;i>r;r++)s=u[r],this._ids[s]&&(delete this._ids[s],h.push(s))}this.length+=l.length-h.length,l.length&&this._trigger("add",{items:l},n),c.length&&this._trigger("update",{items:c,data:f},n),h.length&&this._trigger("remove",{items:h},n)}},r.prototype.on=s.prototype.on,r.prototype.off=s.prototype.off,r.prototype._trigger=s.prototype._trigger,r.prototype.subscribe=r.prototype.on,r.prototype.unsubscribe=r.prototype.off,e.exports=r},function(e,t,n){function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=e,this.width="400px",this.height="400px",this.margin=10,this.defaultXCenter="55%",this.defaultYCenter="50%",this.xLabel="x",this.yLabel="y",this.zLabel="z";var i=function(e){return e};this.xValueLabel=i,this.yValueLabel=i,this.zValueLabel=i,this.filterLabel="time",this.legendLabel="value",this.style=r.STYLE.DOT,this.showPerspective=!0,this.showGrid=!0,this.keepAspectRatio=!0,this.showShadow=!1,this.showGrayBottom=!1,this.showTooltip=!1,this.verticalRatio=.5,this.animationInterval=1e3,this.animationPreload=!1,this.camera=new h,this.eye=new l(0,0,-1),this.dataTable=null,this.dataPoints=null,this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.xMin=0,this.xStep=void 0,this.xMax=1,this.yMin=0,this.yStep=void 0,this.yMax=1,this.zMin=0,this.zStep=void 0,this.zMax=1,this.valueMin=0,this.valueMax=1,this.xBarWidth=1,this.yBarWidth=1,this.colorAxis="#4D4D4D",this.colorGrid="#D3D3D3",this.colorDot="#7DC1FF",this.colorDotBorder="#3267D2",this.create(),this.setOptions(n),t&&this.setData(t)}function i(e){return"clientX"in e?e.clientX:e.targetTouches[0]&&e.targetTouches[0].clientX||0}function s(e){return"clientY"in e?e.clientY:e.targetTouches[0]&&e.targetTouches[0].clientY||0}var o=n(13),u=n(8),a=n(10),f=n(1),l=n(14),c=n(12),h=n(15),p=n(16),d=n(17),v=n(18);o(r.prototype),r.prototype._setScale=function(){this.scale=new l(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin)),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,this.scale.value=1/(this.valueMax-this.valueMin);var e=(this.xMax+this.xMin)/2*this.scale.x,t=(this.yMax+this.yMin)/2*this.scale.y,n=(this.zMax+this.zMin)/2*this.scale.z;this.camera.setArmLocation(e,t,n)},r.prototype._convert3Dto2D=function(e){var t=this._convertPointToTranslation(e);return this._convertTranslationToScreen(t)},r.prototype._convertPointToTranslation=function(e){var t=e.x*this.scale.x,n=e.y*this.scale.y,r=e.z*this.scale.z,i=this.camera.getCameraLocation().x,s=this.camera.getCameraLocation().y,o=this.camera.getCameraLocation().z,u=Math.sin(this.camera.getCameraRotation().x),a=Math.cos(this.camera.getCameraRotation().x),f=Math.sin(this.camera.getCameraRotation().y),c=Math.cos(this.camera.getCameraRotation().y),h=Math.sin(this.camera.getCameraRotation().z),p=Math.cos(this.camera.getCameraRotation().z),d=c*(h*(n-s)+p*(t-i))-f*(r-o),v=u*(c*(r-o)+f*(h*(n-s)+p*(t-i)))+a*(p*(n-s)-h*(t-i)),m=a*(c*(r-o)+f*(h*(n-s)+p*(t-i)))-u*(p*(n-s)-h*(t-i));return new l(d,v,m)},r.prototype._convertTranslationToScreen=function(e){var t,n,r=this.eye.x,i=this.eye.y,s=this.eye.z,o=e.x,u=e.y,a=e.z;return this.showPerspective?(t=(o-r)*(s/a),n=(u-i)*(s/a)):(t=o*-(s/this.camera.getArmLength()),n=u*-(s/this.camera.getArmLength())),new c(this.xcenter+t*this.frame.canvas.clientWidth,this.ycenter-n*this.frame.canvas.clientWidth)},r.prototype._setBackgroundColor=function(e){var t="white",n="gray",r=1;if("string"==typeof e)t=e,n="none",r=0;else if("object"==typeof e)void 0!==e.fill&&(t=e.fill),void 0!==e.stroke&&(n=e.stroke),void 0!==e.strokeWidth&&(r=e.strokeWidth);else if(void 0!==e)throw"Unsupported type of backgroundColor";this.frame.style.backgroundColor=t,this.frame.style.borderColor=n,this.frame.style.borderWidth=r+"px",this.frame.style.borderStyle="solid"},r.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},r.prototype._getStyleNumber=function(e){switch(e){case"dot":return r.STYLE.DOT;case"dot-line":return r.STYLE.DOTLINE;case"dot-color":return r.STYLE.DOTCOLOR;case"dot-size":return r.STYLE.DOTSIZE;case"line":return r.STYLE.LINE;case"grid":return r.STYLE.GRID;case"surface":return r.STYLE.SURFACE;case"bar":return r.STYLE.BAR;case"bar-color":return r.STYLE.BARCOLOR;case"bar-size":return r.STYLE.BARSIZE}return-1},r.prototype._determineColumnIndexes=function(e,t){if(this.style===r.STYLE.DOT||this.style===r.STYLE.DOTLINE||this.style===r.STYLE.LINE||this.style===r.STYLE.GRID||this.style===r.STYLE.SURFACE||this.style===r.STYLE.BAR)this.colX=0,this.colY=1,this.colZ=2,this.colValue=void 0,e.getNumberOfColumns()>3&&(this.colFilter=3);else{if(this.style!==r.STYLE.DOTCOLOR&&this.style!==r.STYLE.DOTSIZE&&this.style!==r.STYLE.BARCOLOR&&this.style!==r.STYLE.BARSIZE)throw'Unknown style "'+this.style+'"';this.colX=0,this.colY=1,this.colZ=2,this.colValue=3,e.getNumberOfColumns()>4&&(this.colFilter=4)}},r.prototype.getNumberOfRows=function(e){return e.length},r.prototype.getNumberOfColumns=function(e){var t=0;for(var n in e[0])e[0].hasOwnProperty(n)&&t++;return t},r.prototype.getDistinctValues=function(e,t){for(var n=[],r=0;r<e.length;r++)-1==n.indexOf(e[r][t])&&n.push(e[r][t]);return n},r.prototype.getColumnRange=function(e,t){for(var n={min:e[0][t],max:e[0][t]},r=0;r<e.length;r++)n.min>e[r][t]&&(n.min=e[r][t]),n.max<e[r][t]&&(n.max=e[r][t]);return n},r.prototype._dataInitialize=function(e,t){var n=this;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==e){Array.isArray(e)&&(e=new u(e));var i;if(!(e instanceof u||e instanceof a))throw new Error("Array, DataSet, or DataView expected");if(i=e.get(),0!=i.length){this.dataSet=e,this.dataTable=i,this._onChange=function(){n.setData(n.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z",this.colValue="style",this.colFilter="filter",i[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new p(e,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){n.redraw()}));var s=this.style==r.STYLE.BAR||this.style==r.STYLE.BARCOLOR||this.style==r.STYLE.BARSIZE;if(s){if(void 0!==this.defaultXBarWidth)this.xBarWidth=this.defaultXBarWidth;else{var o=this.getDistinctValues(i,this.colX);this.xBarWidth=o[1]-o[0]||1}if(void 0!==this.defaultYBarWidth)this.yBarWidth=this.defaultYBarWidth;else{var f=this.getDistinctValues(i,this.colY);this.yBarWidth=f[1]-f[0]||1}}var l=this.getColumnRange(i,this.colX);s&&(l.min-=this.xBarWidth/2,l.max+=this.xBarWidth/2),this.xMin=void 0!==this.defaultXMin?this.defaultXMin:l.min,this.xMax=void 0!==this.defaultXMax?this.defaultXMax:l.max,this.xMax<=this.xMin&&(this.xMax=this.xMin+1),this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5;var c=this.getColumnRange(i,this.colY);s&&(c.min-=this.yBarWidth/2,c.max+=this.yBarWidth/2),this.yMin=void 0!==this.defaultYMin?this.defaultYMin:c.min,this.yMax=void 0!==this.defaultYMax?this.defaultYMax:c.max,this.yMax<=this.yMin&&(this.yMax=this.yMin+1),this.yStep=void 0!==this.defaultYStep?this.defaultYStep:(this.yMax-this.yMin)/5;var h=this.getColumnRange(i,this.colZ);if(this.zMin=void 0!==this.defaultZMin?this.defaultZMin:h.min,this.zMax=void 0!==this.defaultZMax?this.defaultZMax:h.max,this.zMax<=this.zMin&&(this.zMax=this.zMin+1),this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5,void 0!==this.colValue){var d=this.getColumnRange(i,this.colValue);this.valueMin=void 0!==this.defaultValueMin?this.defaultValueMin:d.min,this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:d.max,this.valueMax<=this.valueMin&&(this.valueMax=this.valueMin+1)}this._setScale()}}},r.prototype._getDataPoints=function(e){var t,n,i,s,o,u,a=[];if(this.style===r.STYLE.GRID||this.style===r.STYLE.SURFACE){var f=[],c=[];for(i=0;i<this.getNumberOfRows(e);i++)t=e[i][this.colX]||0,n=e[i][this.colY]||0,-1===f.indexOf(t)&&f.push(t),-1===c.indexOf(n)&&c.push(n);var h=function(e,t){return e-t};f.sort(h),c.sort(h);var p=[];for(i=0;i<e.length;i++){t=e[i][this.colX]||0,n=e[i][this.colY]||0,s=e[i][this.colZ]||0;var d=f.indexOf(t),v=c.indexOf(n);void 0===p[d]&&(p[d]=[]);var m=new l;m.x=t,m.y=n,m.z=s,o={},o.point=m,o.trans=void 0,o.screen=void 0,o.bottom=new l(t,n,this.zMin),p[d][v]=o,a.push(o)}for(t=0;t<p.length;t++)for(n=0;n<p[t].length;n++)p[t][n]&&(p[t][n].pointRight=t<p.length-1?p[t+1][n]:void 0,p[t][n].pointTop=n<p[t].length-1?p[t][n+1]:void 0,p[t][n].pointCross=t<p.length-1&&n<p[t].length-1?p[t+1][n+1]:void 0)}else for(i=0;i<e.length;i++)u=new l,u.x=e[i][this.colX]||0,u.y=e[i][this.colY]||0,u.z=e[i][this.colZ]||0,void 0!==this.colValue&&(u.value=e[i][this.colValue]||0),o={},o.point=u,o.bottom=new l(u.x,u.y,this.zMin),o.trans=void 0,o.screen=void 0,a.push(o);return a},r.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var t=this,n=function(e){t._onMouseDown(e)},r=function(e){t._onTouchStart(e)},i=function(e){t._onWheel(e)},s=function(e){t._onTooltip(e)};f.addEventListener(this.frame.canvas,"keydown",onkeydown),f.addEventListener(this.frame.canvas,"mousedown",n),f.addEventListener(this.frame.canvas,"touchstart",r),f.addEventListener(this.frame.canvas,"mousewheel",i),f.addEventListener(this.frame.canvas,"mousemove",s),this.containerElement.appendChild(this.frame)},r.prototype.setSize=function(e,t){this.frame.style.width=e,this.frame.style.height=t,this._resizeCanvas()},r.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},r.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw"No animation available";this.frame.filter.slider.play()},r.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},r.prototype._resizeCenter=function(){"%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?this.xcenter=parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:this.xcenter=parseFloat(this.defaultXCenter),"%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?this.ycenter=parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.ycenter=parseFloat(this.defaultYCenter)},r.prototype.setCameraPosition=function(e){void 0!==e&&(void 0!==e.horizontal&&void 0!==e.vertical&&this.camera.setArmRotation(e.horizontal,e.vertical),void 0!==e.distance&&this.camera.setArmLength(e.distance),this.redraw())},r.prototype.getCameraPosition=function(){var e=this.camera.getArmRotation();return e.distance=this.camera.getArmLength(),e},r.prototype._readData=function(e){this._dataInitialize(e,this.style),this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataTable),this._redrawFilter()},r.prototype.setData=function(e){this._readData(e),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},r.prototype.setOptions=function(e){var t=void 0;if(this.animationStop(),void 0!==e){if(void 0!==e.width&&(this.width=e.width),void 0!==e.height&&(this.height=e.height),void 0!==e.xCenter&&(this.defaultXCenter=e.xCenter),void 0!==e.yCenter&&(this.defaultYCenter=e.yCenter),void 0!==e.filterLabel&&(this.filterLabel=e.filterLabel),void 0!==e.legendLabel&&(this.legendLabel=e.legendLabel),void 0!==e.xLabel&&(this.xLabel=e.xLabel),void 0!==e.yLabel&&(this.yLabel=e.yLabel),void 0!==e.zLabel&&(this.zLabel=e.zLabel),void 0!==e.xValueLabel&&(this.xValueLabel=e.xValueLabel),void 0!==e.yValueLabel&&(this.yValueLabel=e.yValueLabel),void 0!==e.zValueLabel&&(this.zValueLabel=e.zValueLabel),void 0!==e.style){var n=this._getStyleNumber(e.style);-1!==n&&(this.style=n)}void 0!==e.showGrid&&(this.showGrid=e.showGrid),void 0!==e.showPerspective&&(this.showPerspective=e.showPerspective),void 0!==e.showShadow&&(this.showShadow=e.showShadow),void 0!==e.tooltip&&(this.showTooltip=e.tooltip),void 0!==e.showAnimationControls&&(this.showAnimationControls=e.showAnimationControls),void 0!==e.keepAspectRatio&&(this.keepAspectRatio=e.keepAspectRatio),void 0!==e.verticalRatio&&(this.verticalRatio=e.verticalRatio),void 0!==e.animationInterval&&(this.animationInterval=e.animationInterval),void 0!==e.animationPreload&&(this.animationPreload=e.animationPreload),void 0!==e.animationAutoStart&&(this.animationAutoStart=e.animationAutoStart),void 0!==e.xBarWidth&&(this.defaultXBarWidth=e.xBarWidth),void 0!==e.yBarWidth&&(this.defaultYBarWidth=e.yBarWidth),void 0!==e.xMin&&(this.defaultXMin=e.xMin),void 0!==e.xStep&&(this.defaultXStep=e.xStep),void 0!==e.xMax&&(this.defaultXMax=e.xMax),void 0!==e.yMin&&(this.defaultYMin=e.yMin),void 0!==e.yStep&&(this.defaultYStep=e.yStep),void 0!==e.yMax&&(this.defaultYMax=e.yMax),void 0!==e.zMin&&(this.defaultZMin=e.zMin),void 0!==e.zStep&&(this.defaultZStep=e.zStep),void 0!==e.zMax&&(this.defaultZMax=e.zMax),void 0!==e.valueMin&&(this.defaultValueMin=e.valueMin),void 0!==e.valueMax&&(this.defaultValueMax=e.valueMax),void 0!==e.cameraPosition&&(t=e.cameraPosition),void 0!==t?(this.camera.setArmRotation(t.horizontal,t.vertical),this.camera.setArmLength(t.distance)):(this.camera.setArmRotation(1,.5),this.camera.setArmLength(1.7))}this._setBackgroundColor(e&&e.backgroundColor),this.setSize(this.width,this.height),this.dataTable&&this.setData(this.dataTable),this.animationAutoStart&&this.dataFilter&&this.animationStart()},r.prototype.redraw=function(){if(void 0===this.dataPoints)throw"Error: graph data not initialized";this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this.style===r.STYLE.GRID||this.style===r.STYLE.SURFACE?this._redrawDataGrid():this.style===r.STYLE.LINE?this._redrawDataLine():this.style===r.STYLE.BAR||this.style===r.STYLE.BARCOLOR||this.style===r.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot(),this._redrawInfo(),this._redrawLegend()},r.prototype._redrawClear=function(){var e=this.frame.canvas,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)},r.prototype._redrawLegend=function(){var e;if(this.style===r.STYLE.DOTCOLOR||this.style===r.STYLE.DOTSIZE){var t,n,i=.02*this.frame.clientWidth;this.style===r.STYLE.DOTSIZE?(t=i/2,n=i/2+2*i):(t=20,n=20);var s=Math.max(.25*this.frame.clientHeight,100),o=this.margin,u=this.frame.clientWidth-this.margin,a=u-n,f=o+s}var l=this.frame.canvas,c=l.getContext("2d");if(c.lineWidth=1,c.font="14px arial",this.style===r.STYLE.DOTCOLOR){var h=0,p=s;for(e=h;p>e;e++){var d=(e-h)/(p-h),g=240*d,y=this._hsv2rgb(g,1,1);c.strokeStyle=y,c.beginPath(),c.moveTo(a,o+e),c.lineTo(u,o+e),c.stroke()}c.strokeStyle=this.colorAxis,c.strokeRect(a,o,n,s)}if(this.style===r.STYLE.DOTSIZE&&(c.strokeStyle=this.colorAxis,c.fillStyle=this.colorDot,c.beginPath(),c.moveTo(a,o),c.lineTo(u,o),c.lineTo(u-n+t,f),c.lineTo(a,f),c.closePath(),c.fill(),c.stroke()),this.style===r.STYLE.DOTCOLOR||this.style===r.STYLE.DOTSIZE){var b=5,w=new v(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,!0);for(w.start(),w.getCurrent()<this.valueMin&&w.next();!w.end();)e=f-(w.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*s,c.beginPath(),c.moveTo(a-b,e),c.lineTo(a,e),c.stroke(),c.textAlign="right",c.textBaseline="middle",c.fillStyle=this.colorAxis,c.fillText(w.getCurrent(),a-2*b,e),w.next();c.textAlign="right",c.textBaseline="top";var E=this.legendLabel;c.fillText(E,u,f+this.margin)}},r.prototype._redrawFilter=function(){if(this.frame.filter.innerHTML="",this.dataFilter){var e={visible:this.showAnimationControls},t=new d(this.frame.filter,e);this.frame.filter.slider=t,this.frame.filter.style.padding="10px",t.setValues(this.dataFilter.values),t.setPlayInterval(this.animationInterval);var n=this,r=function(){var e=t.getIndex();n.dataFilter.selectValue(e),n.dataPoints=n.dataFilter._getDataPoints(),n.redraw()};t.setOnChangeCallback(r)}else this.frame.filter.slider=void 0},r.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},r.prototype._redrawInfo=function(){if(this.dataFilter){var e=this.frame.canvas,t=e.getContext("2d");t.font="14px arial",t.lineStyle="gray",t.fillStyle="gray",t.textAlign="left",t.textBaseline="top";var n=this.margin,r=this.margin;t.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),n,r)}},r.prototype._redrawAxis=function(){var e,t,n,r,i,s,o,u,a,f,c,h,p,d=this.frame.canvas,g=d.getContext("2d");g.font=24/this.camera.getArmLength()+"px arial";var y=.025/this.scale.x,b=.025/this.scale.y,w=5/this.camera.getArmLength(),E=this.camera.getArmRotation().horizontal;for(g.lineWidth=1,r=void 0===this.defaultXStep,n=new v(this.xMin,this.xMax,this.xStep,r),n.start(),n.getCurrent()<this.xMin&&n.next();!n.end();){var S=n.getCurrent();this.showGrid?(e=this._convert3Dto2D(new l(S,this.yMin,this.zMin)),t=this._convert3Dto2D(new l(S,this.yMax,this.zMin)),g.strokeStyle=this.colorGrid,g.beginPath(),g.moveTo(e.x,e.y),g.lineTo(t.x,t.y),g.stroke()):(e=this._convert3Dto2D(new l(S,this.yMin,this.zMin)),t=this._convert3Dto2D(new l(S,this.yMin+y,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(e.x,e.y),g.lineTo(t.x,t.y),g.stroke(),e=this._convert3Dto2D(new l(S,this.yMax,this.zMin)),t=this._convert3Dto2D(new l(S,this.yMax-y,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(e.x,e.y),g.lineTo(t.x,t.y),g.stroke()),o=Math.cos(E)>0?this.yMin:this.yMax,i=this._convert3Dto2D(new l(S,o,this.zMin)),Math.cos(2*E)>0?(g.textAlign="center",g.textBaseline="top",i.y+=w):Math.sin(2*E)<0?(g.textAlign="right",g.textBaseline="middle"):(g.textAlign="left",g.textBaseline="middle"),g.fillStyle=this.colorAxis,g.fillText("  "+this.xValueLabel(n.getCurrent())+"  ",i.x,i.y),n.next()}for(g.lineWidth=1,r=void 0===this.defaultYStep,n=new v(this.yMin,this.yMax,this.yStep,r),n.start(),n.getCurrent()<this.yMin&&n.next();!n.end();)this.showGrid?(e=this._convert3Dto2D(new l(this.xMin,n.getCurrent(),this.zMin)),t=this._convert3Dto2D(new l(this.xMax,n.getCurrent(),this.zMin)),g.strokeStyle=this.colorGrid,g.beginPath(),g.moveTo(e.x,e.y),g.lineTo(t.x,t.y),g.stroke()):(e=this._convert3Dto2D(new l(this.xMin,n.getCurrent(),this.zMin)),t=this._convert3Dto2D(new l(this.xMin+b,n.getCurrent(),this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(e.x,e.y),g.lineTo(t.x,t.y),g.stroke(),e=this._convert3Dto2D(new l(this.xMax,n.getCurrent(),this.zMin)),t=this._convert3Dto2D(new l(this.xMax-b,n.getCurrent(),this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(e.x,e.y),g.lineTo(t.x,t.y),g.stroke()),s=Math.sin(E)>0?this.xMin:this.xMax,i=this._convert3Dto2D(new l(s,n.getCurrent(),this.zMin)),Math.cos(2*E)<0?(g.textAlign="center",g.textBaseline="top",i.y+=w):Math.sin(2*E)>0?(g.textAlign="right",g.textBaseline="middle"):(g.textAlign="left",g.textBaseline="middle"),g.fillStyle=this.colorAxis,g.fillText("  "+this.yValueLabel(n.getCurrent())+"  ",i.x,i.y),n.next();for(g.lineWidth=1,r=void 0===this.defaultZStep,n=new v(this.zMin,this.zMax,this.zStep,r),n.start(),n.getCurrent()<this.zMin&&n.next(),s=Math.cos(E)>0?this.xMin:this.xMax,o=Math.sin(E)<0?this.yMin:this.yMax;!n.end();)e=this._convert3Dto2D(new l(s,o,n.getCurrent())),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(e.x,e.y),g.lineTo(e.x-w,e.y),g.stroke(),g.textAlign="right",g.textBaseline="middle",g.fillStyle=this.colorAxis,g.fillText(this.zValueLabel(n.getCurrent())+" ",e.x-5,e.y),n.next();g.lineWidth=1,e=this._convert3Dto2D(new l(s,o,this.zMin)),t=this._convert3Dto2D(new l(s,o,this.zMax)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(e.x,e.y),g.lineTo(t.x,t.y),g.stroke(),g.lineWidth=1,h=this._convert3Dto2D(new l(this.xMin,this.yMin,this.zMin)),p=this._convert3Dto2D(new l(this.xMax,this.yMin,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(h.x,h.y),g.lineTo(p.x,p.y),g.stroke(),h=this._convert3Dto2D(new l(this.xMin,this.yMax,this.zMin)),p=this._convert3Dto2D(new l(this.xMax,this.yMax,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(h.x,h.y),g.lineTo(p.x,p.y),g.stroke(),g.lineWidth=1,e=this._convert3Dto2D(new l(this.xMin,this.yMin,this.zMin)),t=this._convert3Dto2D(new l(this.xMin,this.yMax,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(e.x,e.y),g.lineTo(t.x,t.y),g.stroke(),e=this._convert3Dto2D(new l(this.xMax,this.yMin,this.zMin)),t=this._convert3Dto2D(new l(this.xMax,this.yMax,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(e.x,e.y),g.lineTo(t.x,t.y),g.stroke();var x=this.xLabel;x.length>0&&(c=.1/this.scale.y,s=(this.xMin+this.xMax)/2,o=Math.cos(E)>0?this.yMin-c:this.yMax+c,i=this._convert3Dto2D(new l(s,o,this.zMin)),Math.cos(2*E)>0?(g.textAlign="center",g.textBaseline="top"):Math.sin(2*E)<0?(g.textAlign="right",g.textBaseline="middle"):(g.textAlign="left",g.textBaseline="middle"),g.fillStyle=this.colorAxis,g.fillText(x,i.x,i.y));var T=this.yLabel;T.length>0&&(f=.1/this.scale.x,s=Math.sin(E)>0?this.xMin-f:this.xMax+f,o=(this.yMin+this.yMax)/2,i=this._convert3Dto2D(new l(s,o,this.zMin)),Math.cos(2*E)<0?(g.textAlign="center",g.textBaseline="top"):Math.sin(2*E)>0?(g.textAlign="right",g.textBaseline="middle"):(g.textAlign="left",g.textBaseline="middle"),g.fillStyle=this.colorAxis,g.fillText(T,i.x,i.y));var N=this.zLabel;N.length>0&&(a=30,s=Math.cos(E)>0?this.xMin:this.xMax,o=Math.sin(E)<0?this.yMin:this.yMax,u=(this.zMin+this.zMax)/2,i=this._convert3Dto2D(new l(s,o,u)),g.textAlign="right",g.textBaseline="middle",g.fillStyle=this.colorAxis,g.fillText(N,i.x-a,i.y))},r.prototype._hsv2rgb=function(e,t,n){var r,i,s,o,u,a;switch(o=n*t,u=Math.floor(e/60),a=o*(1-Math.abs(e/60%2-1)),u){case 0:r=o,i=a,s=0;break;case 1:r=a,i=o,s=0;break;case 2:r=0,i=o,s=a;break;case 3:r=0,i=a,s=o;break;case 4:r=a,i=0,s=o;break;case 5:r=o,i=0,s=a;break;default:r=0,i=0,s=0}return"RGB("+parseInt(255*r)+","+parseInt(255*i)+","+parseInt(255*s)+")"},r.prototype._redrawDataGrid=function(){var e,t,n,i,s,o,u,a,f,c,h,p,d,v=this.frame.canvas,m=v.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(s=0;s<this.dataPoints.length;s++){var g=this._convertPointToTranslation(this.dataPoints[s].point),y=this._convertTranslationToScreen(g);this.dataPoints[s].trans=g,this.dataPoints[s].screen=y;var b=this._convertPointToTranslation(this.dataPoints[s].bottom);this.dataPoints[s].dist=this.showPerspective?b.length():-b.z}var w=function(e,t){return t.dist-e.dist};if(this.dataPoints.sort(w),this.style===r.STYLE.SURFACE){for(s=0;s<this.dataPoints.length;s++)if(e=this.dataPoints[s],t=this.dataPoints[s].pointRight,n=this.dataPoints[s].pointTop,i=this.dataPoints[s].pointCross,void 0!==e&&void 0!==t&&void 0!==n&&void 0!==i){if(this.showGrayBottom||this.showShadow){var E=l.subtract(i.trans,e.trans),S=l.subtract(n.trans,t.trans),x=l.crossProduct(E,S),T=x.length();o=x.z>0}else o=!0;o?(d=(e.point.z+t.point.z+n.point.z+i.point.z)/4,c=240*(1-(d-this.zMin)*this.scale.z/this.verticalRatio),h=1,this.showShadow?(p=Math.min(1+x.x/T/2,1),u=this._hsv2rgb(c,h,p),a=u):(p=1,u=this._hsv2rgb(c,h,p),a=this.colorAxis)):(u="gray",a=this.colorAxis),f=.5,m.lineWidth=f,m.fillStyle=u,m.strokeStyle=a,m.beginPath(),m.moveTo(e.screen.x,e.screen.y),m.lineTo(t.screen.x,t.screen.y),m.lineTo(i.screen.x,i.screen.y),m.lineTo(n.screen.x,n.screen.y),m.closePath(),m.fill(),m.stroke()}}else for(s=0;s<this.dataPoints.length;s++)e=this.dataPoints[s],t=this.dataPoints[s].pointRight,n=this.dataPoints[s].pointTop,void 0!==e&&(f=this.showPerspective?2/-e.trans.z:2*-(this.eye.z/this.camera.getArmLength())),void 0!==e&&void 0!==t&&(d=(e.point.z+t.point.z)/2,c=240*(1-(d-this.zMin)*this.scale.z/this.verticalRatio),m.lineWidth=f,m.strokeStyle=this._hsv2rgb(c,1,1),m.beginPath(),m.moveTo(e.screen.x,e.screen.y),m.lineTo(t.screen.x,t.screen.y),m.stroke()),void 0!==e&&void 0!==n&&(d=(e.point.z+n.point.z)/2,c=240*(1-(d-this.zMin)*this.scale.z/this.verticalRatio),m.lineWidth=f,m.strokeStyle=this._hsv2rgb(c,1,1),m.beginPath(),m.moveTo(e.screen.x,e.screen.y),m.lineTo(n.screen.x,n.screen.y),m.stroke())}},r.prototype._redrawDataDot=function(){var e,t=this.frame.canvas,n=t.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(e=0;e<this.dataPoints.length;e++){var i=this._convertPointToTranslation(this.dataPoints[e].point),s=this._convertTranslationToScreen(i);this.dataPoints[e].trans=i,this.dataPoints[e].screen=s;var o=this._convertPointToTranslation(this.dataPoints[e].bottom);this.dataPoints[e].dist=this.showPerspective?o.length():-o.z}var u=function(e,t){return t.dist-e.dist};this.dataPoints.sort(u);var a=.02*this.frame.clientWidth;for(e=0;e<this.dataPoints.length;e++){var f=this.dataPoints[e];if(this.style===r.STYLE.DOTLINE){var l=this._convert3Dto2D(f.bottom);n.lineWidth=1,n.strokeStyle=this.colorGrid,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(f.screen.x,f.screen.y),n.stroke()}var c;c=this.style===r.STYLE.DOTSIZE?a/2+2*a*(f.point.value-this.valueMin)/(this.valueMax-this.valueMin):a;var h;h=this.showPerspective?c/-f.trans.z:c*-(this.eye.z/this.camera.getArmLength()),0>h&&(h=0);var p,d,v;this.style===r.STYLE.DOTCOLOR?(p=240*(1-(f.point.value-this.valueMin)*this.scale.value),d=this._hsv2rgb(p,1,1),v=this._hsv2rgb(p,1,.8)):this.style===r.STYLE.DOTSIZE?(d=this.colorDot,v=this.colorDotBorder):(p=240*(1-(f.point.z-this.zMin)*this.scale.z/this.verticalRatio),d=this._hsv2rgb(p,1,1),v=this._hsv2rgb(p,1,.8)),n.lineWidth=1,n.strokeStyle=v,n.fillStyle=d,n.beginPath(),n.arc(f.screen.x,f.screen.y,h,0,2*Math.PI,!0),n.fill(),n.stroke()}}},r.prototype._redrawDataBar=function(){var e,t,n,i,s=this.frame.canvas,o=s.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(e=0;e<this.dataPoints.length;e++){var u=this._convertPointToTranslation(this.dataPoints[e].point),a=this._convertTranslationToScreen(u);this.dataPoints[e].trans=u,this.dataPoints[e].screen=a;var f=this._convertPointToTranslation(this.dataPoints[e].bottom);this.dataPoints[e].dist=this.showPerspective?f.length():-f.z}var c=function(e,t){return t.dist-e.dist};this.dataPoints.sort(c);var h=this.xBarWidth/2,p=this.yBarWidth/2;for(e=0;e<this.dataPoints.length;e++){var d,v,m,g=this.dataPoints[e];this.style===r.STYLE.BARCOLOR?(d=240*(1-(g.point.value-this.valueMin)*this.scale.value),v=this._hsv2rgb(d,1,1),m=this._hsv2rgb(d,1,.8)):this.style===r.STYLE.BARSIZE?(v=this.colorDot,m=this.colorDotBorder):(d=240*(1-(g.point.z-this.zMin)*this.scale.z/this.verticalRatio),v=this._hsv2rgb(d,1,1),m=this._hsv2rgb(d,1,.8)),this.style===r.STYLE.BARSIZE&&(h=this.xBarWidth/2*((g.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2),p=this.yBarWidth/2*((g.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2));var y=this,b=g.point,w=[{point:new l(b.x-h,b.y-p,b.z)},{point:new l(b.x+h,b.y-p,b.z)},{point:new l(b.x+h,b.y+p,b.z)},{point:new l(b.x-h,b.y+p,b.z)}],E=[{point:new l(b.x-h,b.y-p,this.zMin)},{point:new l(b.x+h,b.y-p,this.zMin)},{point:new l(b.x+h,b.y+p,this.zMin)},{point:new l(b.x-h,b.y+p,this.zMin)}];w.forEach(function(e){e.screen=y._convert3Dto2D(e.point)}),E.forEach(function(e){e.screen=y._convert3Dto2D(e.point)});var S=[{corners:w,center:l.avg(E[0].point,E[2].point)},{corners:[w[0],w[1],E[1],E[0]],center:l.avg(E[1].point,E[0].point)},{corners:[w[1],w[2],E[2],E[1]],center:l.avg(E[2].point,E[1].point)},{corners:[w[2],w[3],E[3],E[2]],center:l.avg(E[3].point,E[2].point)},{corners:[w[3],w[0],E[0],E[3]],center:l.avg(E[0].point,E[3].point)}];for(g.surfaces=S,t=0;t<S.length;t++){n=S[t];var x=this._convertPointToTranslation(n.center);n.dist=this.showPerspective?x.length():-x.z}for(S.sort(function(e,t){var n=t.dist-e.dist;return n?n:e.corners===w?1:t.corners===w?-1:0}),o.lineWidth=1,o.strokeStyle=m,o.fillStyle=v,t=2;t<S.length;t++)n=S[t],i=n.corners,o.beginPath(),o.moveTo(i[3].screen.x,i[3].screen.y),o.lineTo(i[0].screen.x,i[0].screen.y),o.lineTo(i[1].screen.x,i[1].screen.y),o.lineTo(i[2].screen.x,i[2].screen.y),o.lineTo(i[3].screen.x,i[3].screen.y),o.fill(),o.stroke()}}},r.prototype._redrawDataLine=function(){var e,t,n=this.frame.canvas,r=n.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(t=0;t<this.dataPoints.length;t++){var i=this._convertPointToTranslation(this.dataPoints[t].point),s=this._convertTranslationToScreen(i);this.dataPoints[t].trans=i,this.dataPoints[t].screen=s}for(this.dataPoints.length>0&&(e=this.dataPoints[0],r.lineWidth=1,r.strokeStyle="blue",r.beginPath(),r.moveTo(e.screen.x,e.screen.y)),t=1;t<this.dataPoints.length;t++)e=this.dataPoints[t],r.lineTo(e.screen.x,e.screen.y);this.dataPoints.length>0&&r.stroke()}},r.prototype._onMouseDown=function(e){if(e=e||window.event,this.leftButtonDown&&this._onMouseUp(e),this.leftButtonDown=e.which?1===e.which:1===e.button,this.leftButtonDown||this.touchDown){this.startMouseX=i(e),this.startMouseY=s(e),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var t=this;this.onmousemove=function(e){t._onMouseMove(e)},this.onmouseup=function(e){t._onMouseUp(e)},f.addEventListener(document,"mousemove",t.onmousemove),f.addEventListener(document,"mouseup",t.onmouseup),f.preventDefault(e)}},r.prototype._onMouseMove=function(e){e=e||window.event;var t=parseFloat(i(e))-this.startMouseX,n=parseFloat(s(e))-this.startMouseY,r=this.startArmRotation.horizontal+t/200,o=this.startArmRotation.vertical+n/200,u=4,a=Math.sin(u/360*2*Math.PI);Math.abs(Math.sin(r))<a&&(r=Math.round(r/Math.PI)*Math.PI-.001),Math.abs(Math.cos(r))<a&&(r=(Math.round(r/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(o))<a&&(o=Math.round(o/Math.PI)*Math.PI),Math.abs(Math.cos(o))<a&&(o=(Math.round(o/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(r,o),this.redraw();var l=this.getCameraPosition();this.emit("cameraPositionChange",l),f.preventDefault(e)},r.prototype._onMouseUp=function(e){this.frame.style.cursor="auto",this.leftButtonDown=!1,f.removeEventListener(document,"mousemove",this.onmousemove),f.removeEventListener(document,"mouseup",this.onmouseup),f.preventDefault(e)},r.prototype._onTooltip=function(e){var t=300,n=this.frame.getBoundingClientRect(),r=i(e)-n.left,o=s(e)-n.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var u=this._dataPointFromXY(r,o);u!==this.tooltip.dataPoint&&(u?this._showTooltip(u):this._hideTooltip())}else{var a=this;this.tooltipTimeout=setTimeout(function(){a.tooltipTimeout=null;var e=a._dataPointFromXY(r,o);e&&a._showTooltip(e)},t)}}},r.prototype._onTouchStart=function(e){this.touchDown=!0;var t=this;this.ontouchmove=function(e){t._onTouchMove(e)},this.ontouchend=function(e){t._onTouchEnd(e)},f.addEventListener(document,"touchmove",t.ontouchmove),f.addEventListener(document,"touchend",t.ontouchend),this._onMouseDown(e)},r.prototype._onTouchMove=function(e){this._onMouseMove(e)},r.prototype._onTouchEnd=function(e){this.touchDown=!1,f.removeEventListener(document,"touchmove",this.ontouchmove),f.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(e)},r.prototype._onWheel=function(e){e||(e=window.event);var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t){var n=this.camera.getArmLength(),r=n*(1-t/10);this.camera.setArmLength(r),this.redraw(),this._hideTooltip()}var i=this.getCameraPosition();this.emit("cameraPositionChange",i),f.preventDefault(e)},r.prototype._insideTriangle=function(e,t){function n(e){return e>0?1:0>e?-1:0}var r=t[0],i=t[1],s=t[2],o=n((i.x-r.x)*(e.y-r.y)-(i.y-r.y)*(e.x-r.x)),u=n((s.x-i.x)*(e.y-i.y)-(s.y-i.y)*(e.x-i.x)),a=n((r.x-s.x)*(e.y-s.y)-(r.y-s.y)*(e.x-s.x));return!(0!=o&&0!=u&&o!=u||0!=u&&0!=a&&u!=a||0!=o&&0!=a&&o!=a)},r.prototype._dataPointFromXY=function(e,t){var n,i=100,s=null,o=null,u=null,a=new c(e,t);if(this.style===r.STYLE.BAR||this.style===r.STYLE.BARCOLOR||this.style===r.STYLE.BARSIZE)for(n=this.dataPoints.length-1;n>=0;n--){s=this.dataPoints[n];var f=s.surfaces;if(f)for(var l=f.length-1;l>=0;l--){var h=f[l],p=h.corners,d=[p[0].screen,p[1].screen,p[2].screen],v=[p[2].screen,p[3].screen,p[0].screen];if(this._insideTriangle(a,d)||this._insideTriangle(a,v))return s}}else for(n=0;n<this.dataPoints.length;n++){s=this.dataPoints[n];var m=s.screen;if(m){var g=Math.abs(e-m.x),y=Math.abs(t-m.y),b=Math.sqrt(g*g+y*y);(null===u||u>b)&&i>b&&(u=b,o=s)}}return o},r.prototype._showTooltip=function(e){var t,n,r;this.tooltip?(t=this.tooltip.dom.content,n=this.tooltip.dom.line,r=this.tooltip.dom.dot):(t=document.createElement("div"),t.style.position="absolute",t.style.padding="10px",t.style.border="1px solid #4d4d4d",t.style.color="#1a1a1a",t.style.background="rgba(255,255,255,0.7)",t.style.borderRadius="2px",t.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",n=document.createElement("div"),n.style.position="absolute",n.style.height="40px",n.style.width="0",n.style.borderLeft="1px solid #4d4d4d",r=document.createElement("div"),r.style.position="absolute",r.style.height="0",r.style.width="0",r.style.border="5px solid #4d4d4d",r.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:t,line:n,dot:r}}),this._hideTooltip(),this.tooltip.dataPoint=e,"function"==typeof this.showTooltip?t.innerHTML=this.showTooltip(e.point):t.innerHTML="<table><tr><td>x:</td><td>"+e.point.x+"</td></tr><tr><td>y:</td><td>"+e.point.y+"</td></tr><tr><td>z:</td><td>"+e.point.z+"</td></tr></table>",t.style.left="0",t.style.top="0",this.frame.appendChild(t),this.frame.appendChild(n),this.frame.appendChild(r);var i=t.offsetWidth,s=t.offsetHeight,o=n.offsetHeight,u=r.offsetWidth,a=r.offsetHeight,f=e.screen.x-i/2;f=Math.min(Math.max(f,10),this.frame.clientWidth-10-i),n.style.left=e.screen.x+"px",n.style.top=e.screen.y-o+"px",t.style.left=f+"px",t.style.top=e.screen.y-o-s+"px",r.style.left=e.screen.x-u/2+"px",r.style.top=e.screen.y-a/2+"px"},r.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var e in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(e)){var t=this.tooltip.dom[e];t&&t.parentNode&&t.parentNode.removeChild(t)}}},e.exports=r},function(e,t){function n(e,t){this.x=void 0!==e?e:0,this.y=void 0!==t?t:0}e.exports=n},function(e,t){function n(e){return e?r(e):void 0}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){function n(e,t,n){this.x=void 0!==e?e:0,this.y=void 0!==t?t:0,this.z=void 0!==n?n:0}n.subtract=function(e,t){var r=new n;return r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r},n.add=function(e,t){var r=new n;return r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r},n.avg=function(e,t){return new n((e.x+t.x)/2,(e.y+t.y)/2,(e.z+t.z)/2)},n.crossProduct=function(e,t){var r=new n;return r.x=e.y*t.z-e.z*t.y,r.y=e.z*t.x-e.x*t.z,r.z=e.x*t.y-e.y*t.x,r},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},e.exports=n},function(e,t,n){function r(){this.armLocation=new i,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraLocation=new i,this.cameraRotation=new i(.5*Math.PI,0,0),this.calculateCameraOrientation()}var i=n(14);r.prototype.setArmLocation=function(e,t,n){this.armLocation.x=e,this.armLocation.y=t,this.armLocation.z=n,this.calculateCameraOrientation()},r.prototype.setArmRotation=function(e,t){void 0!==e&&(this.armRotation.horizontal=e),void 0!==t&&(this.armRotation.vertical=t,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),(void 0!==e||void 0!==t)&&this.calculateCameraOrientation()},r.prototype.getArmRotation=function(){var e={};return e.horizontal=this.armRotation.horizontal,e.vertical=this.armRotation.vertical,e},r.prototype.setArmLength=function(e){void 0!==e&&(this.armLength=e,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.calculateCameraOrientation())},r.prototype.getArmLength=function(){return this.armLength},r.prototype.getCameraLocation=function(){return this.cameraLocation},r.prototype.getCameraRotation=function(){return this.cameraRotation},r.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal},e.exports=r},function(e,t,n){function r(e,t,n){this.data=e,this.column=t,this.graph=n,this.index=void 0,this.value=void 0,this.values=n.getDistinctValues(e.get(),this.column),this.values.sort(function(e,t){return e>t?1:t>e?-1:0}),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,n.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var i=n(10);r.prototype.isLoaded=function(){return this.loaded},r.prototype.getLoadedProgress=function(){for(var e=this.values.length,t=0;this.dataPoints[t];)t++;return Math.round(t/e*100)},r.prototype.getLabel=function(){return this.graph.filterLabel},r.prototype.getColumn=function(){return this.column},r.prototype.getSelectedValue=function(){return void 0===this.index?void 0:this.values[this.index]},r.prototype.getValues=function(){return this.values},r.prototype.getValue=function(e){if(e>=this.values.length)throw"Error: index out of range";return this.values[e]},r.prototype._getDataPoints=function(e){if(void 0===e&&(e=this.index),void 0===e)return[];var t;if(this.dataPoints[e])t=this.dataPoints[e];else{var n={};n.column=this.column,n.value=this.values[e];var r=(new i(this.data,{filter:function(e){return e[n.column]==n.value}})).get();t=this.graph._getDataPoints(r),this.dataPoints[e]=t}return t},r.prototype.setOnLoadCallback=function(e){this.onLoadCallback=e},r.prototype.selectValue=function(e){if(e>=this.values.length)throw"Error: index out of range";this.index=e,this.value=this.values[e]},r.prototype.loadInBackground=function(e){void 0===e&&(e=0);var t=this.graph.frame;if(e<this.values.length){this._getDataPoints(e),void 0===t.progress&&(t.progress=document.createElement("DIV"),t.progress.style.position="absolute",t.progress.style.color="gray",t.appendChild(t.progress));var n=this.getLoadedProgress();t.progress.innerHTML="Loading animation... "+n+"%",t.progress.style.bottom="60px",t.progress.style.left="10px";var r=this;setTimeout(function(){r.loadInBackground(e+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==t.progress&&(t.removeChild(t.progress),t.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},e.exports=r},function(e,t,n){function r(e,t){if(void 0===e)throw"Error: No container element defined";if(this.container=e,this.visible=t&&void 0!=t.visible?t.visible:!0,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var n=this;this.frame.slide.onmousedown=function(e){n._onMouseDown(e)},this.frame.prev.onclick=function(e){n.prev(e)},this.frame.play.onclick=function(e){n.togglePlay(e)},this.frame.next.onclick=function(e){n.next(e)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var i=n(1);r.prototype.prev=function(){var e=this.getIndex();e>0&&(e--,this.setIndex(e))},r.prototype.next=function(){var e=this.getIndex();e<this.values.length-1&&(e++,this.setIndex(e))},r.prototype.playNext=function(){var e=new Date,t=this.getIndex();t<this.values.length-1?(t++,this.setIndex(t)):this.playLoop&&(t=0,this.setIndex(t));var n=new Date,r=n-e,i=Math.max(this.playInterval-r,0),s=this;this.playTimeout=setTimeout(function(){s.playNext()},i)},r.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},r.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},r.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},r.prototype.setOnChangeCallback=function(e){this.onChangeCallback=e},r.prototype.setPlayInterval=function(e){this.playInterval=e},r.prototype.getPlayInterval=function(e){return this.playInterval},r.prototype.setPlayLoop=function(e){this.playLoop=e},r.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},r.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var e=this.indexToLeft(this.index);this.frame.slide.style.left=e+"px"}},r.prototype.setValues=function(e){this.values=e,this.values.length>0?this.setIndex(0):this.index=void 0},r.prototype.setIndex=function(e){if(!(e<this.values.length))throw"Error: index out of range";this.index=e,this.redraw(),this.onChange()},r.prototype.getIndex=function(){return this.index},r.prototype.get=function(){return this.values[this.index]},r.prototype._onMouseDown=function(e){var t=e.which?1===e.which:1===e.button;if(t){this.startClientX=e.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var n=this;this.onmousemove=function(e){n._onMouseMove(e)},this.onmouseup=function(e){n._onMouseUp(e)},i.addEventListener(document,"mousemove",this.onmousemove),i.addEventListener(document,"mouseup",this.onmouseup),i.preventDefault(e)}},r.prototype.leftToIndex=function(e){var t=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,n=e-3,r=Math.round(n/t*(this.values.length-1));return 0>r&&(r=0),r>this.values.length-1&&(r=this.values.length-1),r},r.prototype.indexToLeft=function(e){var t=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,n=e/(this.values.length-1)*t,r=n+3;return r},r.prototype._onMouseMove=function(e){var t=e.clientX-this.startClientX,n=this.startSlideX+t,r=this.leftToIndex(n);this.setIndex(r),i.preventDefault()},r.prototype._onMouseUp=function(e){this.frame.style.cursor="auto",i.removeEventListener(document,"mousemove",this.onmousemove),i.removeEventListener(document,"mouseup",this.onmouseup),i.preventDefault()},e.exports=r},function(e,t){function n(e,t,n,r){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(e,t,n,r)}n.prototype.setRange=function(e,t,n,r){this._start=e?e:0,this._end=t?t:0,this.setStep(n,r)},n.prototype.setStep=function(e,t){void 0===e||0>=e||(void 0!==t&&(this.prettyStep=t),this.prettyStep===!0?this._step=n.calculatePrettyStep(e):this._step=e)},n.calculatePrettyStep=function(e){var t=function(e){return Math.log(e)/Math.LN10},n=Math.pow(10,Math.round(t(e))),r=2*Math.pow(10,Math.round(t(e/2))),i=5*Math.pow(10,Math.round(t(e/5))),s=n;return Math.abs(r-e)<=Math.abs(s-e)&&(s=r),Math.abs(i-e)<=Math.abs(s-e)&&(s=i),0>=s&&(s=1),s},n.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},n.prototype.getStep=function(){return this._step},n.prototype.start=function(){this._current=this._start-this._start%this._step},n.prototype.next=function(){this._current+=this._step},n.prototype.end=function(){return this._current>this._end},e.exports=n},function(e,t,n){function r(e,t,n,a){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(n)||n instanceof s||n instanceof o)&&n instanceof Object){var c=a;a=n,n=c}var p=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},width:null,height:null,maxHeight:null,minHeight:null},this.options=i.deepExtend({},this.defaultOptions),this._create(e),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return p.timeAxis.step.scale},getStep:function(){return p.timeAxis.step.step},toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}},this.range=new u(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new f(this.body),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new l(this.body),this.components.push(this.currentTime),this.itemSet=new h(this.body),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.on("tap",function(e){p.emit("click",p.getEventProperties(e))}),this.on("doubletap",function(e){p.emit("doubleClick",p.getEventProperties(e))}),this.dom.root.oncontextmenu=function(e){p.emit("contextmenu",p.getEventProperties(e))},a&&this.setOptions(a),n&&this.setGroups(n),t?this.setItems(t):this._redraw()}var i=(n(13),n(23),n(1)),s=n(8),o=n(10),u=n(27),a=n(30),f=n(41),l=n(20),c=n(44),h=n(31),p=n(45),d=n(47)["default"],v=n(47).printStyle,m=n(48).allOptions,g=n(48).configureOptions;r.prototype=new a,r.prototype._createConfigurator=function(){return new p(this,this.dom.container,g)},r.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},r.prototype.setOptions=function(e){var t=d.validate(e,m);if(t===!0&&console.log("%cErrors have been found in the supplied options object.",v),a.prototype.setOptions.call(this,e),"type"in e&&e.type!==this.options.type){this.options.type=e.type;var n=this.itemsData;if(n){var r=this.getSelection();this.setItems(null),this.setItems(n),this.setSelection(r)}}},r.prototype.setItems=function(e){var t,n=null==this.itemsData;if(t=e?e instanceof s||e instanceof o?e:new s(e,{type:{start:"Date",end:"Date"}}):null,this.itemsData=t,this.itemSet&&this.itemSet.setItems(t),n)if(void 0!=this.options.start||void 0!=this.options.end){if(void 0==this.options.start||void 0==this.options.end)var r=this.getItemRange();var i=void 0!=this.options.start?this.options.start:r.min,u=void 0!=this.options.end?this.options.end:r.max;this.setWindow(i,u,{animation:!1})}else this.fit({animation:!1})},r.prototype.setGroups=function(e){var t;t=e?e instanceof s||e instanceof o?e:new s(e):null,this.groupsData=t,this.itemSet.setGroups(t)},r.prototype.setData=function(e){e&&e.groups&&this.setGroups(e.groups),e&&e.items&&this.setItems(e.items)},r.prototype.setSelection=function(e,t){this.itemSet&&this.itemSet.setSelection(e),t&&t.focus&&this.focus(e,t)},r.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},r.prototype.focus=function(e,t){if(this.itemsData&&void 0!=e){var n=Array.isArray(e)?e:[e],r=this.itemsData.getDataSet().get(n,{type:{start:"Date",end:"Date"}}),i=null,s=null;if(r.forEach(function(e){var t=e.start.valueOf(),n="end"in e?e.end.valueOf():e.start.valueOf();(null===i||i>t)&&(i=t),(null===s||n>s)&&(s=n)}),null!==i&&null!==s){var o=(i+s)/2,u=Math.max(this.range.end-this.range.start,1.1*(s-i)),a=t&&void 0!==t.animation?t.animation:!0;this.range.setRange(o-u/2,o+u/2,a)}}},r.prototype.fit=function(e){var t=e&&void 0!==e.animation?e.animation:!0,n=this.getItemRange();this.range.setRange(n.min,n.max,t)},r.prototype.getItemRange=function(){var e=this,t=this.getDataRange(),n=t.min,r=t.max,s=null,o=null;if(null!=n&&null!=r){var u,a,f,l,c;!function(){var t=function(e){return i.convert(e.data.start,"Date").valueOf()},h=function(e){var t=void 0!=e.data.end?e.data.end:e.data.start;return i.convert(t,"Date").valueOf()};u=r-n,0>=u&&(u=10),a=u/e.props.center.width,i.forEach(e.itemSet.items,function(e){e.show();var i=t(e),u=h(e),f=new Date(i-(e.getWidthLeft()+10)*a),l=new Date(u+(e.getWidthRight()+10)*a);n>f&&(n=f,s=e),l>r&&(r=l,o=e)}.bind(e)),s&&o&&(f=s.getWidthLeft()+10,l=o.getWidthRight()+10,c=e.props.center.width-f-l,c>0&&(n=t(s)-f*u/c,r=h(o)+l*u/c))}()}return{min:null!=n?new Date(n):null,max:null!=r?new Date(r):null}},r.prototype.getDataRange=function(){var e=null,t=null,n=this.itemsData&&this.itemsData.getDataSet();return n&&n.forEach(function(n){var r=i.convert(n.start,"Date").valueOf(),s=i.convert(void 0!=n.end?n.end:n.start,"Date").valueOf();(null===e||e>r)&&(e=r),(null===t||s>t)&&(t=r)}),{min:null!=e?new Date(e):null,max:null!=t?new Date(t):null}},r.prototype.getEventProperties=function(e){var t=e.center?e.center.x:e.clientX,n=e.center?e.center.y:e.clientY,r=t-i.getAbsoluteLeft(this.dom.centerContainer),s=n-i.getAbsoluteTop(this.dom.centerContainer),o=this.itemSet.itemFromTarget(e),u=this.itemSet.groupFromTarget(e),a=c.customTimeFromTarget(e),f=this.itemSet.options.snap||null,l=this.body.util.getScale(),h=this.body.util.getStep(),p=this._toTime(r),d=f?f(p,l,h):p,v=i.getTarget(e),m=null;return null!=o?m="item":null!=a?m="custom-time":i.hasParent(v,this.timeAxis.dom.foreground)?m="axis":this.timeAxis2&&i.hasParent(v,this.timeAxis2.dom.foreground)?m="axis":i.hasParent(v,this.itemSet.dom.labelSet)?m="group-label":i.hasParent(v,this.currentTime.bar)?m="current-time":i.hasParent(v,this.dom.center)&&(m="background"),{event:e,item:o?o.id:null,group:u?u.groupId:null,what:m,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:r,y:s,time:p,snappedTime:d}},e.exports=r},function(e,t,n){function r(e,t){this.body=e,this.defaultOptions={showCurrentTime:!0,locales:u,locale:"en"},this.options=i.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(t)}var i=n(1),s=n(21),o=n(2),u=n(22);r.prototype=new s,r.prototype._create=function(){var e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e},r.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},r.prototype.setOptions=function(e){e&&i.selectiveExtend(["showCurrentTime","locale","locales"],this.options,e)},r.prototype.redraw=function(){if(this.options.showCurrentTime){var e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar),this.start());var t=new Date((new Date).valueOf()+this.offset),n=this.body.util.toScreen(t),r=this.options.locales[this.options.locale];r||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline.html#Localization"),this.warned=!0),r=this.options.locales.en);var i=r.current+" "+r.time+": "+o(t).format("dddd, MMMM Do YYYY, H:mm:ss");i=i.charAt(0).toUpperCase()+i.substring(1),this.bar.style.left=n+"px",this.bar.title=i}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},r.prototype.start=function(){function e(){t.stop();var n=t.body.range.conversion(t.body.domProps.center.width).scale,r=1/n/10;30>r&&(r=30),r>1e3&&(r=1e3),t.redraw(),t.currentTimeTimer=setTimeout(e,r)}var t=this;e()},r.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},r.prototype.setCurrentTime=function(e){var t=i.convert(e,"Date").valueOf(),n=(new Date).valueOf();this.offset=t-n,this.redraw()},r.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},e.exports=r},function(e,t){function n(e,t){this.options=null,this.props=null}n.prototype.setOptions=function(e){e&&util.extend(this.options,e)},n.prototype.redraw=function(){return!1},n.prototype.destroy=function(){},n.prototype._isResized=function(){var e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e},e.exports=n},function(e,t){t.en={current:"current",time:"time"},t.en_EN=t.en,t.en_US=t.en,t.nl={current:"huidige",time:"tijd"},t.nl_NL=t.nl,t.nl_BE=t.nl},function(e,t,n){if("undefined"!=typeof window){var r=n(24),i=window.Hammer||n(25);e.exports=r(i,{preventDefault:"mouse"})}else e.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(e,t,n){var r,i,s;!function(n){i=[],r=n,s="function"==typeof r?r.apply(t,i):r,void 0===s||!(e.exports=s)}(function(){var e=null;return function t(n,r){function i(e){return e.match(/[^ ]+/g)}function s(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}var n=!1;t.stopPropagation=function(){n=!0},t.firstTarget=e;for(var r=e;r&&!n;){var i=r.hammer&&r.hammer._handlers[t.type];if(i)for(var s=0;s<i.length&&!n;s++)i[s](t);r=r.parentNode}}var o=r||{preventDefault:!1};if(n.Manager){var u=n,a=function(e,n){var r=Object.create(o);return n&&u.extend(r,n),t(new u(e,r),r)};return u.extend(a,u),a.Manager=function(e,n){var r=Object.create(o);return n&&u.extend(r,n),t(new u.Manager(e,r),r)},a}var f=Object.create(n),l=n.element;return l.hammer=f,n.on("hammer.input",function(t){(o.preventDefault===!0||o.preventDefault===t.pointerType)&&t.preventDefault(),t.isFirst&&(e=t.target)}),f._handlers={},f.on=function(e,t){return i(e).forEach(function(e){var r=f._handlers[e];r||(f._handlers[e]=r=[],n.on(e,s)),r.push(t)}),f},f.off=function(e,t){return i(e).forEach(function(e){var r=f._handlers[e];r&&(r=t?r.filter(function(e){return e!==t}):[],r.length>0?f._handlers[e]=r:(n.off(e,s),delete f._handlers[e]))}),f},f.emit=function(t,r){e=r.target,n.emit(t,r)},f.destroy=function(){delete n.element.hammer,f._handlers={},n.destroy()},f}})},function(e,t,n){var r;!function(s,u,a,f){function l(e,t,n){return setTimeout(m(e,n),t)}function c(e,t,n){return Array.isArray(e)?(h(e,n[t],n),!0):!1}function h(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==f)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function p(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===f)&&(e[r[i]]=t[r[i]]),i++;return e}function d(e,t){return p(e,t,!0)}function v(e,t,n){var r,i=t.prototype;r=e.prototype=Object.create(i),r.constructor=e,r._super=i,n&&p(r,n)}function m(e,t){return function(){return e.apply(t,arguments)}}function g(e,t){return typeof e==mt?e.apply(t?t[0]||f:f,t):e}function y(e,t){return e===f?t:e}function b(e,t,n){h(x(t),function(t){e.addEventListener(t,n,!1)})}function w(e,t,n){h(x(t),function(t){e.removeEventListener(t,n,!1)})}function E(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function S(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function T(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function N(e){return Array.prototype.slice.call(e,0)}function C(e,t,n){for(var r=[],i=[],s=0;s<e.length;){var o=t?e[s][t]:e[s];T(i,o)<0&&r.push(e[s]),i[s]=o,s++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function k(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),s=0;s<dt.length;){if(n=dt[s],r=n?n+i:t,r in e)return r;s++}return f}function L(){return wt++}function A(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function O(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){g(e.options.enable,[e])&&n.handler(t)},this.init()}function M(e){var t,n=e.options.inputClass;return new(t=n?n:xt?X:Tt?J:St?Q:W)(e,_)}function _(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,s=t&Ot&&r-i===0,o=t&(_t|Dt)&&r-i===0;n.isFirst=!!s,n.isFinal=!!o,s&&(e.session={}),n.eventType=t,D(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function D(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=B(t)),i>1&&!n.firstMultiple?n.firstMultiple=B(t):1===i&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,u=o?o.center:s.center,a=t.center=j(r);t.timeStamp=bt(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=R(u,a),t.distance=q(u,a),P(n,t),t.offsetDirection=I(t.deltaX,t.deltaY),t.scale=o?z(o.pointers,r):1,t.rotation=o?U(o.pointers,r):0,H(n,t);var f=e.element;E(t.srcEvent.target,f)&&(f=t.srcEvent.target),t.target=f}function P(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},s=e.prevInput||{};(t.eventType===Ot||s.eventType===_t)&&(i=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function H(e,t){var n,r,i,s,o=e.lastInterval||t,u=t.timeStamp-o.timeStamp;if(t.eventType!=Dt&&(u>At||o.velocity===f)){var a=o.deltaX-t.deltaX,l=o.deltaY-t.deltaY,c=F(u,a,l);r=c.x,i=c.y,n=yt(c.x)>yt(c.y)?c.x:c.y,s=I(a,l),e.lastInterval=t}else n=o.velocity,r=o.velocityX,i=o.velocityY,s=o.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=s}function B(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:gt(e.pointers[n].clientX),clientY:gt(e.pointers[n].clientY)},n++;return{timeStamp:bt(),pointers:t,center:j(t),deltaX:e.deltaX,deltaY:e.deltaY}}function j(e){var t=e.length;if(1===t)return{x:gt(e[0].clientX),y:gt(e[0].clientY)};for(var n=0,r=0,i=0;t>i;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:gt(n/t),y:gt(r/t)}}function F(e,t,n){return{x:t/e||0,y:n/e||0}}function I(e,t){return e===t?Pt:yt(e)>=yt(t)?e>0?Ht:Bt:t>0?jt:Ft}function q(e,t,n){n||(n=Ut);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function R(e,t,n){n||(n=Ut);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function U(e,t){return R(t[1],t[0],zt)-R(e[1],e[0],zt)}function z(e,t){return q(t[0],t[1],zt)/q(e[0],e[1],zt)}function W(){this.evEl=Xt,this.evWin=Vt,this.allow=!0,this.pressed=!1,O.apply(this,arguments)}function X(){this.evEl=Kt,this.evWin=Qt,O.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function V(){this.evTarget=Yt,this.evWin=Zt,this.started=!1,O.apply(this,arguments)}function $(e,t){var n=N(e.touches),r=N(e.changedTouches);return t&(_t|Dt)&&(n=C(n.concat(r),"identifier",!0)),[n,r]}function J(){this.evTarget=tn,this.targetIds={},O.apply(this,arguments)}function K(e,t){var n=N(e.touches),r=this.targetIds;if(t&(Ot|Mt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,s,o=N(e.changedTouches),u=[],a=this.target;if(s=n.filter(function(e){return E(e.target,a)}),t===Ot)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&u.push(o[i]),t&(_t|Dt)&&delete r[o[i].identifier],i++;return u.length?[C(s.concat(u),"identifier",!0),u]:void 0}function Q(){O.apply(this,arguments);var e=m(this.handler,this);this.touch=new J(this.manager,e),this.mouse=new W(this.manager,e)}function G(e,t){this.manager=e,this.set(t)}function Y(e){if(S(e,an))return an;var t=S(e,fn),n=S(e,ln);return t&&n?fn+" "+ln:t||n?t?fn:ln:S(e,un)?un:on}function Z(e){this.id=L(),this.manager=null,this.options=d(e||{},this.defaults),this.options.enable=y(this.options.enable,!0),this.state=cn,this.simultaneous={},this.requireFail=[]}function et(e){return e&mn?"cancel":e&dn?"end":e&pn?"move":e&hn?"start":""}function tt(e){return e==Ft?"down":e==jt?"up":e==Ht?"left":e==Bt?"right":""}function nt(e,t){var n=t.manager;return n?n.get(e):e}function rt(){Z.apply(this,arguments)}function it(){rt.apply(this,arguments),this.pX=null,this.pY=null}function st(){rt.apply(this,arguments)}function ot(){Z.apply(this,arguments),this._timer=null,this._input=null}function ut(){rt.apply(this,arguments)}function at(){rt.apply(this,arguments)}function ft(){Z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function lt(e,t){return t=t||{},t.recognizers=y(t.recognizers,lt.defaults.preset),new ct(e,t)}function ct(e,t){t=t||{},this.options=d(t,lt.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=M(this),this.touchAction=new G(this,this.options.touchAction),ht(this,!0),h(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ht(e,t){var n=e.element;h(e.options.cssProps,function(e,r){n.style[k(n.style,r)]=t?e:""})}function pt(e,t){var n=u.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var dt=["","webkit","moz","MS","ms","o"],vt=u.createElement("div"),mt="function",gt=Math.round,yt=Math.abs,bt=Date.now,wt=1,Et=/mobile|tablet|ip(ad|hone|od)|android/i,St="ontouchstart"in s,xt=k(s,"PointerEvent")!==f,Tt=St&&Et.test(navigator.userAgent),Nt="touch",Ct="pen",kt="mouse",Lt="kinect",At=25,Ot=1,Mt=2,_t=4,Dt=8,Pt=1,Ht=2,Bt=4,jt=8,Ft=16,It=Ht|Bt,qt=jt|Ft,Rt=It|qt,Ut=["x","y"],zt=["clientX","clientY"];O.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(A(this.element),this.evWin,this.domHandler)}};var Wt={mousedown:Ot,mousemove:Mt,mouseup:_t},Xt="mousedown",Vt="mousemove mouseup";v(W,O,{handler:function(e){var t=Wt[e.type];t&Ot&&0===e.button&&(this.pressed=!0),t&Mt&&1!==e.which&&(t=_t),this.pressed&&this.allow&&(t&_t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:kt,srcEvent:e}))}});var $t={pointerdown:Ot,pointermove:Mt,pointerup:_t,pointercancel:Dt,pointerout:Dt},Jt={2:Nt,3:Ct,4:kt,5:Lt},Kt="pointerdown",Qt="pointermove pointerup pointercancel";s.MSPointerEvent&&(Kt="MSPointerDown",Qt="MSPointerMove MSPointerUp MSPointerCancel"),v(X,O,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=$t[r],s=Jt[e.pointerType]||e.pointerType,o=s==Nt,u=T(t,e.pointerId,"pointerId");i&Ot&&(0===e.button||o)?0>u&&(t.push(e),u=t.length-1):i&(_t|Dt)&&(n=!0),0>u||(t[u]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),n&&t.splice(u,1))}});var Gt={touchstart:Ot,touchmove:Mt,touchend:_t,touchcancel:Dt},Yt="touchstart",Zt="touchstart touchmove touchend touchcancel";v(V,O,{handler:function(e){var t=Gt[e.type];if(t===Ot&&(this.started=!0),this.started){var n=$.call(this,e,t);t&(_t|Dt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Nt,srcEvent:e})}}});var en={touchstart:Ot,touchmove:Mt,touchend:_t,touchcancel:Dt},tn="touchstart touchmove touchend touchcancel";v(J,O,{handler:function(e){var t=en[e.type],n=K.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Nt,srcEvent:e})}}),v(Q,O,{handler:function(e,t,n){var r=n.pointerType==Nt,i=n.pointerType==kt;if(r)this.mouse.allow=!1;else if(i&&!this.mouse.allow)return;t&(_t|Dt)&&(this.mouse.allow=!0),this.callback(e,t,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var nn=k(vt.style,"touchAction"),rn=nn!==f,sn="compute",on="auto",un="manipulation",an="none",fn="pan-x",ln="pan-y";G.prototype={set:function(e){e==sn&&(e=this.compute()),rn&&(this.manager.element.style[nn]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return h(this.manager.recognizers,function(t){g(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Y(e.join(" "))},preventDefaults:function(e){if(!rn){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var r=this.actions,i=S(r,an),s=S(r,ln),o=S(r,fn);return i||s&&n&It||o&&n&qt?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var cn=1,hn=2,pn=4,dn=8,vn=dn,mn=16,gn=32;Z.prototype={defaults:{},set:function(e){return p(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(c(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=nt(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return c(e,"dropRecognizeWith",this)?this:(e=nt(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(c(e,"requireFailure",this))return this;var t=this.requireFail;return e=nt(e,this),-1===T(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(c(e,"dropRequireFailure",this))return this;e=nt(e,this);var t=T(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(n.options.event+(t?et(r):""),e)}var n=this,r=this.state;dn>r&&t(!0),t(),r>=dn&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):void (this.state=gn)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(gn|cn)))return!1;e++}return!0},recognize:function(e){var t=p({},e);return g(this.options.enable,[this,t])?(this.state&(vn|mn|gn)&&(this.state=cn),this.state=this.process(t),void (this.state&(hn|pn|dn|mn)&&this.tryEmit(t))):(this.reset(),void (this.state=gn))},process:function(e){},getTouchAction:function(){},reset:function(){}},v(rt,Z,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(hn|pn),i=this.attrTest(e);return r&&(n&Dt||!i)?t|mn:r||i?n&_t?t|dn:t&hn?t|pn:hn:gn}}),v(it,rt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Rt},getTouchAction:function(){var e=this.options.direction,t=[];return e&It&&t.push(ln),e&qt&&t.push(fn),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,s=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&It?(i=0===s?Pt:0>s?Ht:Bt,n=s!=this.pX,r=Math.abs(e.deltaX)):(i=0===o?Pt:0>o?jt:Ft,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return rt.prototype.attrTest.call(this,e)&&(this.state&hn||!(this.state&hn)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=tt(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),v(st,rt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[an]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&hn)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),v(ot,Z,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[on]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(_t|Dt)&&!i)this.reset();else if(e.eventType&Ot)this.reset(),this._timer=l(function(){this.state=vn,this.tryEmit()},t.time,this);else if(e.eventType&_t)return vn;return gn},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===vn&&(e&&e.eventType&_t?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=bt(),this.manager.emit(this.options.event,this._input)))}}),v(ut,rt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[an]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&hn)}}),v(at,rt,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:It|qt,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(It|qt)?t=e.velocity:n&It?t=e.velocityX:n&qt&&(t=e.velocityY),this._super.attrTest.call(this,e)&&n&e.direction&&e.distance>this.options.threshold&&yt(t)>this.options.velocity&&e.eventType&_t},emit:function(e){var t=tt(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),v(ft,Z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[un]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&Ot&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=_t)return this.failTimeout();var s=this.pTime?e.timeStamp-this.pTime<t.interval:!0,o=!this.pCenter||q(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,o&&s?this.count+=1:this.count=1,this._input=e;var u=this.count%t.taps;if(0===u)return this.hasRequireFailures()?(this._timer=l(function(){this.state=vn,this.tryEmit()},t.interval,this),hn):vn}return gn},failTimeout:function(){return this._timer=l(function(){this.state=gn},this.options.interval,this),gn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==vn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),lt.VERSION="2.0.4",lt.defaults={domEvents:!1,touchAction:sn,enable:!0,inputTarget:null,inputClass:null,preset:[[ut,{enable:!1}],[st,{enable:!1},["rotate"]],[at,{direction:It}],[it,{direction:It},["swipe"]],[ft],[ft,{event:"doubletap",taps:2},["tap"]],[ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var yn=1,bn=2;ct.prototype={set:function(e){return p(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?bn:yn},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&vn)&&(i=t.curRecognizer=null);for(var s=0;s<r.length;)n=r[s],t.stopped===bn||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(hn|pn|dn)&&(i=t.curRecognizer=n),s++}},get:function(e){if(e instanceof Z)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(c(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(c(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(T(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return h(x(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return h(x(e),function(e){t?n[e].splice(T(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&pt(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&ht(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},p(lt,{INPUT_START:Ot,INPUT_MOVE:Mt,INPUT_END:_t,INPUT_CANCEL:Dt,STATE_POSSIBLE:cn,STATE_BEGAN:hn,STATE_CHANGED:pn,STATE_ENDED:dn,STATE_RECOGNIZED:vn,STATE_CANCELLED:mn,STATE_FAILED:gn,DIRECTION_NONE:Pt,DIRECTION_LEFT:Ht,DIRECTION_RIGHT:Bt,DIRECTION_UP:jt,DIRECTION_DOWN:Ft,DIRECTION_HORIZONTAL:It,DIRECTION_VERTICAL:qt,DIRECTION_ALL:Rt,Manager:ct,Input:O,TouchAction:G,TouchInput:J,MouseInput:W,PointerEventInput:X,TouchMouseInput:Q,SingleTouchInput:V,Recognizer:Z,AttrRecognizer:rt,Tap:ft,Pan:it,Swipe:at,Pinch:st,Rotate:ut,Press:ot,on:b,off:w,each:h,merge:d,extend:p,inherit:v,bindFn:m,prefixed:k}),"function"==mt&&n(26)?(r=function(){return lt}.call(t,n,t,e),r===f||!(e.exports=r)):"undefined"!=typeof e&&e.exports?e.exports=lt:s[a]=lt}(window,document,"Hammer")},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){function r(e,t){var n=u().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=n.clone().add(-3,"days").valueOf(),this.end=n.clone().add(4,"days").valueOf(),this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={start:null,end:null,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10},this.options=o.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.setOptions(t)}function i(e){if("horizontal"!=e&&"vertical"!=e)throw new TypeError('Unknown direction "'+e+'". Choose "horizontal" or "vertical".')}function s(e,t){return{x:e.x-o.getAbsoluteLeft(t),y:e.y-o.getAbsoluteTop(t)}}var o=n(1),u=(n(28),n(2)),a=n(21),f=n(29);r.prototype=new a,r.prototype.setOptions=function(e){if(e){var t=["direction","min","max","zoomMin","zoomMax","moveable","zoomable","activate","hiddenDates"];o.selectiveExtend(t,this.options,e),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}},r.prototype.setRange=function(e,t,n,r){r!==!0&&(r=!1);var i=void 0!=e?o.convert(e,"Date").valueOf():null,s=void 0!=t?o.convert(t,"Date").valueOf():null;if(this._cancelAnimation(),n){var u=this,a=this.start,l=this.end,c="object"==typeof n&&"duration"in n?n.duration:500,h="object"==typeof n&&"easingFunction"in n?n.easingFunction:"easeInOutQuad",p=o.easingFunctions[h];if(!p)throw new Error("Unknown easing function "+JSON.stringify(h)+". Choose from: "+Object.keys(o.easingFunctions).join(", "));var v=(new Date).valueOf(),m=!1,g=function w(){if(!u.props.touch.dragging){var e=(new Date).valueOf(),t=e-v,n=p(t/c),o=t>c,h=o||null===i?i:a+(i-a)*n,g=o||null===s?s:l+(s-l)*n;y=u._applyRange(h,g),f.updateHiddenDates(u.body,u.options.hiddenDates),m=m||y,y&&u.body.emitter.emit("rangechange",{start:new Date(u.start),end:new Date(u.end),byUser:r}),o?m&&u.body.emitter.emit("rangechanged",{start:new Date(u.start),end:new Date(u.end),byUser:r}):u.animationTimer=setTimeout(w,20)}};return g()}var y=this._applyRange(i,s);if(f.updateHiddenDates(this.body,this.options.hiddenDates),y){var b={start:new Date(this.start),end:new Date(this.end),byUser:r};this.body.emitter.emit("rangechange",b),this.body.emitter.emit("rangechanged",b)}},r.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},r.prototype._applyRange=function(e,t){var n,r=null!=e?o.convert(e,"Date").valueOf():this.start,i=null!=t?o.convert(t,"Date").valueOf():this.end,s=null!=this.options.max?o.convert(this.options.max,"Date").valueOf():null,u=null!=this.options.min?o.convert(this.options.min,"Date").valueOf():null;if(isNaN(r)||null===r)throw new Error('Invalid start "'+e+'"');if(isNaN(i)||null===i)throw new Error('Invalid end "'+t+'"');if(r>i&&(i=r),null!==u&&u>r&&(n=u-r,r+=n,i+=n,null!=s&&i>s&&(i=s)),null!==s&&i>s&&(n=i-s,r-=n,i-=n,null!=u&&u>r&&(r=u)),null!==this.options.zoomMin){var a=parseFloat(this.options.zoomMin);0>a&&(a=0),a>i-r&&(this.end-this.start===a&&r>this.start&&i<this.end?(r=this.start,i=this.end):(n=a-(i-r),r-=n/2,i+=n/2))}if(null!==this.options.zoomMax){var f=parseFloat(this.options.zoomMax);0>f&&(f=0),i-r>f&&(this.end-this.start===f&&r<this.start&&i>this.end?(r=this.start,i=this.end):(n=i-r-f,r+=n/2,i-=n/2))}var l=this.start!=r||this.end!=i;return r>=this.start&&r<=this.end||i>=this.start&&i<=this.end||this.start>=r&&this.start<=i||this.end>=r&&this.end<=i||this.body.emitter.emit("checkRangedItems"),this.start=r,this.end=i,l},r.prototype.getRange=function(){return{start:this.start,end:this.end}},r.prototype.conversion=function(e,t){return r.conversion(this.start,this.end,e,t)},r.conversion=function(e,t,n,r){return void 0===r&&(r=0),0!=n&&t-e!=0?{offset:e,scale:n/(t-e-r)}:{offset:0,scale:1}},r.prototype._onDragStart=function(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},r.prototype._onDrag=function(e){if(this.options.moveable&&this.props.touch.allowDragging){var t=this.options.direction;i(t);var n="horizontal"==t?e.deltaX:e.deltaY;n-=this.deltaDifference;var r=this.props.touch.end-this.props.touch.start,s=f.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);r-=s;var o="horizontal"==t?this.body.domProps.center.width:this.body.domProps.center.height,u=-n/o*r,a=this.props.touch.start+u,l=this.props.touch.end+u,c=f.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-n,!0),h=f.snapAwayFromHidden(this.body.hiddenDates,l,this.previousDelta-n,!0);if(c!=a||h!=l)return this.deltaDifference+=n,this.props.touch.start=c,this.props.touch.end=h,void this._onDrag(e);this.previousDelta=n,this._applyRange(a,l),this.body.emitter.emit("rangechange",{start:new Date(this.start),end:new Date(this.end),byUser:!0})}},r.prototype._onDragEnd=function(e){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0}))},r.prototype._onMouseWheel=function(e){if(this.options.zoomable&&this.options.moveable){var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t){var n;n=0>t?1-t/5:1/(1+t/5);var r=s({x:e.clientX,y:e.clientY},this.body.dom.center),i=this._pointerToDate(r);this.zoom(n,i,t)}e.preventDefault()}},r.prototype._onTouch=function(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0},r.prototype._onPinch=function(e){if(this.options.zoomable&&this.options.moveable){this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=s(e.center,this.body.dom.center));var t=1/(e.scale+this.scaleOffset),n=this._pointerToDate(this.props.touch.center),r=f.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),i=f.getHiddenDurationBefore(this.body.hiddenDates,this,n),o=r-i,u=n-i+(this.props.touch.start-(n-i))*t,a=n+o+(this.props.touch.end-(n+o))*t;this.startToFront=0>=1-t,this.endToFront=0>=t-1;var l=f.snapAwayFromHidden(this.body.hiddenDates,u,1-t,!0),c=f.snapAwayFromHidden(this.body.hiddenDates,a,t-1,!0);(l!=u||c!=a)&&(this.props.touch.start=l,this.props.touch.end=c,this.scaleOffset=1-e.scale,u=l,a=c),this.setRange(u,a,!1,!0),this.startToFront=!1,this.endToFront=!0}},r.prototype._pointerToDate=function(e){var t,n=this.options.direction;if(i(n),"horizontal"==n)return this.body.util.toTime(e.x).valueOf();var r=this.body.domProps.center.height;return t=this.conversion(r),e.y/t.scale+t.offset},r.prototype.zoom=function(e,t,n){null==t&&(t=(this.start+this.end)/2);var r=f.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),i=f.getHiddenDurationBefore(this.body.hiddenDates,this,t),s=r-i,o=t-i+(this.start-(t-i))*e,u=t+s+(this.end-(t+s))*e;this.startToFront=n>0?!1:!0,this.endToFront=-n>0?!1:!0;var a=f.snapAwayFromHidden(this.body.hiddenDates,o,n,!0),l=f.snapAwayFromHidden(this.body.hiddenDates,u,-n,!0);(a!=o||l!=u)&&(o=a,u=l),this.setRange(o,u,!1,!0),this.startToFront=!1,this.endToFront=!0},r.prototype.move=function(e){var t=this.end-this.start,n=this.start+t*e,r=this.end+t*e;this.start=n,this.end=r},r.prototype.moveTo=function(e){var t=(this.start+this.end)/2,n=t-e,r=this.start-n,i=this.end-n;this.setRange(r,i)},e.exports=r},function(e,t,n){n(23),t.onTouch=function(e,t){t.inputHandler=function(e){e.isFirst&&!r&&(t(e),r=!0,setTimeout(function(){r=!1},0))},e.on("hammer.input",t.inputHandler)};var r=!1;t.onRelease=function(e,t){return t.inputHandler=function(e){e.isFinal&&!i&&(t(e),i=!0,setTimeout(function(){i=!1},0))},e.on("hammer.input",t.inputHandler)};var i=!1;t.offTouch=function(e,t){e.off("hammer.input",t.inputHandler)},t.offRelease=t.offTouch},function(e,t,n){var r=n(2);t.convertHiddenOptions=function(e,t){if(e.hiddenDates=[],t&&1==Array.isArray(t)){for(var n=0;n<t.length;n++)if(void 0===t[n].repeat){var i={};i.start=r(t[n].start).toDate().valueOf(),i.end=r(t[n].end).toDate().valueOf(),e.hiddenDates.push(i)}e.hiddenDates.sort(function(e,t){return e.start-t.start})}},t.updateHiddenDates=function(e,n){if(n&&void 0!==e.domProps.centerContainer.width){t.convertHiddenOptions(e,n);for(var i=r(e.range.start),s=r(e.range.end),u=e.range.end-e.range.start,a=u/e.domProps.centerContainer.width,f=0;f<n.length;f++)if(void 0!==n[f].repeat){var l=r(n[f].start),c=r(n[f].end);if("Invalid Date"==l._d)throw new Error("Supplied start date is not valid: "+n[f].start);if("Invalid Date"==c._d)throw new Error("Supplied end date is not valid: "+n[f].end);var h=c-l;if(h>=4*a){var p=0,d=s.clone();switch(n[f].repeat){case"daily":l.day()!=c.day()&&(p=1),l.dayOfYear(i.dayOfYear()),l.year(i.year()),l.subtract(7,"days"),c.dayOfYear(i.dayOfYear()),c.year(i.year()),c.subtract(7-p,"days"),d.add(1,"weeks");break;case"weekly":var v=c.diff(l,"days"),m=l.day();l.date(i.date()),l.month(i.month()),l.year(i.year()),c=l.clone(),l.day(m),c.day(m),c.add(v,"days"),l.subtract(1,"weeks"),c.subtract(1,"weeks"),d.add(1,"weeks");break;case"monthly":l.month()!=c.month()&&(p=1),l.month(i.month()),l.year(i.year()),l.subtract(1,"months"),c.month(i.month()),c.year(i.year()),c.subtract(1,"months"),c.add(p,"months"),d.add(1,"months");break;case"yearly":l.year()!=c.year()&&(p=1),l.year(i.year()),l.subtract(1,"years"),c.year(i.year()),c.subtract(1,"years"),c.add(p,"years"),d.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[f].repeat)}for(;d>l;)switch(e.hiddenDates.push({start:l.valueOf(),end:c.valueOf()}),n[f].repeat){case"daily":l.add(1,"days"),c.add(1,"days");break;case"weekly":l.add(1,"weeks"),c.add(1,"weeks");break;case"monthly":l.add(1,"months"),c.add(1,"months");break;case"yearly":l.add(1,"y"),c.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[f].repeat)}e.hiddenDates.push({start:l.valueOf(),end:c.valueOf()})}}t.removeDuplicates(e);var g=t.isHidden(e.range.start,e.hiddenDates),y=t.isHidden(e.range.end,e.hiddenDates),b=e.range.start,w=e.range.end;1==g.hidden&&(b=1==e.range.startToFront?g.startDate-1:g.endDate+1),1==y.hidden&&(w=1==e.range.endToFront?y.startDate-1:y.endDate+1),(1==g.hidden||1==y.hidden)&&e.range._applyRange(b,w)}},t.removeDuplicates=function(e){for(var t=e.hiddenDates,n=[],r=0;r<t.length;r++)for(var i=0;i<t.length;i++)r!=i&&1!=t[i].remove&&1!=t[r].remove&&(t[i].start>=t[r].start&&t[i].end<=t[r].end?t[i].remove=!0:t[i].start>=t[r].start&&t[i].start<=t[r].end?(t[r].end=t[i].end,t[i].remove=!0):t[i].end>=t[r].start&&t[i].end<=t[r].end&&(t[r].start=t[i].start,t[i].remove=!0));for(var r=0;r<t.length;r++)t[r].remove!==!0&&n.push(t[r]);e.hiddenDates=n,e.hiddenDates.sort(function(e,t){return e.start-t.start})},t.printDates=function(e){for(var t=0;t<e.length;t++)console.log(t,new Date(e[t].start),new Date(e[t].end),e[t].start,e[t].end,e[t].remove)},t.stepOverHiddenDates=function(e,t){for(var n=!1,i=e.current.valueOf(),s=0;s<e.hiddenDates.length;s++){var u=e.hiddenDates[s].start,a=e.hiddenDates[s].end;if(i>=u&&a>i){n=!0;break}}if(1==n&&i<e._end.valueOf()&&i!=t){var f=r(t),l=r(a);f.year()!=l.year()?e.switchedYear=!0:f.month()!=l.month()?e.switchedMonth=!0:f.dayOfYear()!=l.dayOfYear()&&(e.switchedDay=!0),e.current=l.toDate()}},t.toScreen=function(e,n,r){if(0==e.body.hiddenDates.length){var i=e.range.conversion(r);return(n.valueOf()-i.offset)*i.scale}var s=t.isHidden(n,e.body.hiddenDates);1==s.hidden&&(n=s.startDate);var o=t.getHiddenDurationBetween(e.body.hiddenDates,e.range.start,e.range.end);n=t.correctTimeForHidden(e.body.hiddenDates,e.range,n);var i=e.range.conversion(r,o);return(n.valueOf()-i.offset)*i.scale},t.toTime=function(e,n,r){if(0==e.body.hiddenDates.length){var i=e.range.conversion(r);return new Date(n/i.scale+i.offset)}var s=t.getHiddenDurationBetween(e.body.hiddenDates,e.range.start,e.range.end),o=e.range.end-e.range.start-s,u=o*n/r,a=t.getAccumulatedHiddenDuration(e.body.hiddenDates,e.range,u),f=new Date(a+u+e.range.start);return f},t.getHiddenDurationBetween=function(e,t,n){for(var r=0,i=0;i<e.length;i++){var s=e[i].start,o=e[i].end;s>=t&&n>o&&(r+=o-s)}return r},t.correctTimeForHidden=function(e,n,i){return i=r(i).toDate().valueOf(),i-=t.getHiddenDurationBefore(e,n,i)},t.getHiddenDurationBefore=function(e,t,n){var i=0;n=r(n).toDate().valueOf();for(var s=0;s<e.length;s++){var u=e[s].start,a=e[s].end;u>=t.start&&a<t.end&&n>=a&&(i+=a-u)}return i},t.getAccumulatedHiddenDuration=function(e,t,n){for(var r=0,i=0,s=t.start,o=0;o<e.length;o++){var u=e[o].start,a=e[o].end;if(u>=t.start&&a<t.end){if(i+=u-s,s=a,i>=n)break;r+=a-u}}return r},t.snapAwayFromHidden=function(e,n,r,i){var s=t.isHidden(n,e);return 1==s.hidden?0>r?1==i?s.startDate-(s.endDate-n)-1:s.startDate-1:1==i?s.endDate+(n-s.startDate)+1:s.endDate+1:n},t.isHidden=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].start,i=t[n].end;if(e>=r&&i>e)return{hidden:!0,startDate:r,endDate:i}}return{hidden:!1,startDate:r,endDate:i}}},function(e,t,n){function r(){}var i=n(13),s=n(23),o=n(28),u=n(1),a=(n(8),n(10),n(27),n(31),n(41)),f=n(42),l=n(29),c=n(44);i(r.prototype),r.prototype._create=function(e){function t(e){n.isActive()&&n.emit("mousewheel",e)}this.dom={},this.dom.container=e,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.on("rangechange",this.redraw.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("pan",this._onDrag.bind(this));var n=this;this.on("change",function(e){e&&1==e.queue?n._redrawTimer||(n._redrawTimer=setTimeout(function(){n._redrawTimer=null,n._redraw()},0)):n._redraw()}),this.hammer=new s(this.dom.root),this.hammer.get("pinch").set({enable:!0}),this.listeners={};var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];if(r.forEach(function(e){var t=function(t){n.isActive()&&n.emit(e,t)};n.hammer.on(e,t),n.listeners[e]=t}),o.onTouch(this.hammer,function(e){n.emit("touch",e)}.bind(this)),o.onRelease(this.hammer,function(e){n.emit("release",e)}.bind(this)),this.dom.root.addEventListener("mousewheel",t),this.dom.root.addEventListener("DOMMouseScroll",t),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.customTimes=[],this.touch={},this.redrawCount=0,!e)throw new Error("No container provided");e.appendChild(this.dom.root)},r.prototype.setOptions=function(e){if(e){var t=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates"];if(u.selectiveExtend(t,this.options,e),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation={item:e.orientation,axis:e.orientation}:"object"==typeof e.orientation&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var n=this.timeAxis2=new a(this.body);n.setOptions=function(e){var t=e?u.extend({},e):{};t.orientation="top",a.prototype.setOptions.call(n,t)},this.components.push(n)}}else if(this.timeAxis2){var r=this.components.indexOf(this.timeAxis2);-1!==r&&this.components.splice(r,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("hiddenDates"in this.options&&l.convertHiddenOptions(this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new f(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in e)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(t){return t.setOptions(e)}),"configure"in e){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);var i=u.deepExtend({},this.options);this.components.forEach(function(e){u.deepExtend(i,e.options)}),this.configurator.setModuleOptions({global:i})}this._redraw()},r.prototype.isActive=function(){return!this.activator||this.activator.active},r.prototype.destroy=function(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var e in this.listeners)this.listeners.hasOwnProperty(e)&&delete this.listeners[e];this.listeners=null,this.hammer=null,this.components.forEach(function(e){return e.destroy()}),this.body=null},r.prototype.setCustomTime=function(e,t){var n=this.customTimes.filter(function(e){return t===e.options.id});if(0===n.length)throw new Error("No custom time bar found with id "+JSON.stringify(t));n.length>0&&n[0].setCustomTime(e)},r.prototype.getCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));return t[0].getCustomTime()},r.prototype.addCustomTime=function(e,t){var n=void 0!==e?u.convert(e,"Date").valueOf():new Date,r=this.customTimes.some(function(e){return e.options.id===t});if(r)throw new Error("A custom time with id "+JSON.stringify(t)+" already exists");var i=new c(this.body,{time:n,id:t});return this.customTimes.push(i),this.components.push(i),this.redraw(),t},r.prototype.removeCustomTime=function(e){var t=this.customTimes.filter(function(t){return t.options.id===e});if(0===t.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));t.forEach(function(e){this.customTimes.splice(this.customTimes.indexOf(e),1),this.components.splice(this.components.indexOf(e),1),e.destroy()}.bind(this))},r.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},r.prototype.fit=function(e){var t=this.getDataRange();if(null!==t.min||null!==t.max){var n=t.max-t.min,r=new Date(t.min.valueOf()-.01*n),i=new Date(t.max.valueOf()+.01*n),s=e&&void 0!==e.animation?e.animation:!0;this.range.setRange(r,i,s)}},r.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},r.prototype.setWindow=function(e,t,n){var r;if(1==arguments.length){var i=arguments[0];r=void 0!==i.animation?i.animation:!0,this.range.setRange(i.start,i.end,r)}else r=n&&void 0!==n.animation?n.animation:!0,this.range.setRange(e,t,r)},r.prototype.moveTo=function(e,t){var n=this.range.end-this.range.start,r=u.convert(e,"Date").valueOf(),i=r-n/2,s=r+n/2,o=t&&void 0!==t.animation?t.animation:!0;this.range.setRange(i,s,o)},r.prototype.getWindow=function(){var e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}},r.prototype.redraw=function(){this._redraw()},r.prototype._redraw=function(){var e=!1,t=this.options,n=this.props,r=this.dom;if(r){l.updateHiddenDates(this.body,this.options.hiddenDates),"top"==t.orientation?(u.addClassName(r.root,"vis-top"),u.removeClassName(r.root,"vis-bottom")):(u.removeClassName(r.root,"vis-top"),u.addClassName(r.root,"vis-bottom")),r.root.style.maxHeight=u.option.asSize(t.maxHeight,""),r.root.style.minHeight=u.option.asSize(t.minHeight,""),r.root.style.width=u.option.asSize(t.width,""),n.border.left=(r.centerContainer.offsetWidth-r.centerContainer.clientWidth)/2,n.border.right=n.border.left,n.border.top=(r.centerContainer.offsetHeight-r.centerContainer.clientHeight)/2,n.border.bottom=n.border.top;var i=r.root.offsetHeight-r.root.clientHeight,s=r.root.offsetWidth-r.root.clientWidth;0===r.centerContainer.clientHeight&&(n.border.left=n.border.top,n.border.right=n.border.left),0===r.root.clientHeight&&(s=i),n.center.height=r.center.offsetHeight,n.left.height=r.left.offsetHeight,n.right.height=r.right.offsetHeight,n.top.height=r.top.clientHeight||-n.border.top,n.bottom.height=r.bottom.clientHeight||-n.border.bottom;var o=Math.max(n.left.height,n.center.height,n.right.height),a=n.top.height+o+n.bottom.height+i+n.border.top+n.border.bottom;r.root.style.height=u.option.asSize(t.height,a+"px"),n.root.height=r.root.offsetHeight,n.background.height=n.root.height-i;var f=n.root.height-n.top.height-n.bottom.height-i;n.centerContainer.height=f,n.leftContainer.height=f,n.rightContainer.height=n.leftContainer.height,n.root.width=r.root.offsetWidth,n.background.width=n.root.width-s,n.left.width=r.leftContainer.clientWidth||-n.border.left,n.leftContainer.width=n.left.width,n.right.width=r.rightContainer.clientWidth||-n.border.right,n.rightContainer.width=n.right.width;var c=n.root.width-n.left.width-n.right.width-s;n.center.width=c,n.centerContainer.width=c,n.top.width=c,n.bottom.width=c,r.background.style.height=n.background.height+"px",r.backgroundVertical.style.height=n.background.height+"px",r.backgroundHorizontal.style.height=n.centerContainer.height+"px",r.centerContainer.style.height=n.centerContainer.height+"px",r.leftContainer.style.height=n.leftContainer.height+"px",r.rightContainer.style.height=n.rightContainer.height+"px",r.background.style.width=n.background.width+"px",r.backgroundVertical.style.width=n.centerContainer.width+"px",r.backgroundHorizontal.style.width=n.background.width+"px",r.centerContainer.style.width=n.center.width+"px",r.top.style.width=n.top.width+"px",r.bottom.style.width=n.bottom.width+"px",r.background.style.left="0",r.background.style.top="0",r.backgroundVertical.style.left=n.left.width+n.border.left+"px",r.backgroundVertical.style.top="0",r.backgroundHorizontal.style.left="0",r.backgroundHorizontal.style.top=n.top.height+"px",r.centerContainer.style.left=n.left.width+"px",r.centerContainer.style.top=n.top.height+"px",r.leftContainer.style.left="0",r.leftContainer.style.top=n.top.height+"px",r.rightContainer.style.left=n.left.width+n.center.width+"px",r.rightContainer.style.top=n.top.height+"px",r.top.style.left=n.left.width+"px",r.top.style.top="0",r.bottom.style.left=n.left.width+"px",r.bottom.style.top=n.top.height+n.centerContainer.height+"px",this._updateScrollTop();var h=this.props.scrollTop;"top"!=t.orientation.item&&(h+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),r.center.style.left="0",r.center.style.top=h+"px",r.left.style.left="0",r.left.style.top=h+"px",r.right.style.left="0",r.right.style.top=h+"px";var p=0==this.props.scrollTop?"hidden":"",d=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";if(r.shadowTop.style.visibility=p,r.shadowBottom.style.visibility=d,r.shadowTopLeft.style.visibility=p,r.shadowBottomLeft.style.visibility=d,r.shadowTopRight.style.visibility=p,r.shadowBottomRight.style.visibility=d,this.components.forEach(function(t){e=t.redraw()||e}),e){var v=3;this.redrawCount<v?(this.redrawCount++,this._redraw()):console.log("WARNING: infinite loop in redraw?"),this.redrawCount=0}}},r.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},r.prototype.setCurrentTime=function(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)},r.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},r.prototype._toTime=function(e){return l.toTime(this,e,this.props.center.width)},r.prototype._toGlobalTime=function(e){return l.toTime(this,e,this.props.root.width)},r.prototype._toScreen=function(e){return l.toScreen(this,e,this.props.center.width)},r.prototype._toGlobalScreen=function(e){return l.toScreen(this,e,this.props.root.width)},r.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},r.prototype._startAutoResize=function(){var e=this;this._stopAutoResize(),this._onResize=function(){return 1!=e.options.autoResize?void e._stopAutoResize():void (e.dom.root&&(e.dom.root.offsetWidth!=e.props.lastWidth||e.dom.root.offsetHeight!=e.props.lastHeight)&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight,e.emit("change")))},u.addEventListener(window,"resize",this._onResize),this.watchTimer=setInterval(this._onResize,1e3)},r.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),u.removeEventListener(window,"resize",this._onResize),this._onResize=null},r.prototype._onTouch=function(e){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},r.prototype._onPinch=function(e){this.touch.allowDragging=!1},r.prototype._onDrag=function(e){if(this.touch.allowDragging){var t=e.deltaY,n=this._getScrollTop(),r=this._setScrollTop(this.touch.initialScrollTop+t);r!=n&&(this._redraw(),this.emit("verticalDrag"))}},r.prototype._setScrollTop=function(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop},r.prototype._updateScrollTop=function(){var e=Math.min(this.props.centerContainer.height-this.props.center.height,0);return e!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.props.scrollTop},r.prototype._getScrollTop=function(){return this.props.scrollTop},r.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},e.exports=r},function(e,t,n){function r(e,t){this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,groupOrder:null,selectable:!0,multiselect:!1,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},snap:a.snap,onAdd:function(e,t){t(e)},onUpdate:function(e,t){t(e)},onMove:function(e,t){t(e)},onRemove:function(e,t){t(e)},onMoving:function(e,t){t(e)},margin:{item:{horizontal:10,vertical:10},axis:20}},this.options=s.extend({},this.defaultOptions),this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;var n=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(e,t,r){n._onAdd(t.items)},update:function(e,t,r){n._onUpdate(t.items)},remove:function(e,t,r){n._onRemove(t.items)}},this.groupListeners={add:function(e,t,r){n._onAddGroups(t.items)},update:function(e,t,r){n._onUpdateGroups(t.items)},remove:function(e,t,r){n._onRemoveGroups(t.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.touchParams={},this._create(),this.setOptions(t)}var i=n(23),s=n(1),o=n(8),u=n(10),a=n(36),f=n(21),l=n(32),c=n(37),h=n(38),p=n(39),d=n(34),v=n(40),m="__ungrouped__",g="__background__";r.prototype=new f,r.types={background:v,box:h,range:d,point:p},r.prototype._create=function(){var e=document.createElement("div");e.className="vis-itemset",e["timeline-itemset"]=this,this.dom.frame=e;var t=document.createElement("div");t.className="vis-background",e.appendChild(t),this.dom.background=t;var n=document.createElement("div");n.className="vis-foreground",e.appendChild(n),this.dom.foreground=n;var r=document.createElement("div");r.className="vis-axis",this.dom.axis=r;var s=document.createElement("div");s.className="vis-labelset",this.dom.labelSet=s,this._updateUngrouped();var o=new c(g,null,this);o.show(),this.groups[g]=o,this.hammer=new i(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(e){e.isFirst&&this._onTouch(e)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.show()},r.prototype.setOptions=function(e){if(e){var t=["type","align","order","stack","selectable","multiselect","groupOrder","dataAttributes","template","hide","snap"];s.selectiveExtend(t,this.options,e),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation.item="top"===e.orientation?"top":"bottom":"object"==typeof e.orientation&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&("number"==typeof e.margin?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):"object"==typeof e.margin&&(s.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&("number"==typeof e.margin.item?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):"object"==typeof e.margin.item&&s.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),"editable"in e&&("boolean"==typeof e.editable?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable):"object"==typeof e.editable&&s.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,e.editable));var n=function(t){var n=e[t];if(n){if(!(n instanceof Function))throw new Error("option "+t+" must be a function "+t+"(item, callback)");this.options[t]=n}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving"].forEach(n),this.markDirty()}},r.prototype.markDirty=function(e){this.groupIds=[],this.stackDirty=!0,e&&e.refreshItems&&s.forEach(this.items,function(e){e.dirty=!0,e.displayed&&e.redraw()})},r.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},r.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},r.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)},r.prototype.setSelection=function(e){var t,n,r,i;for(void 0==e&&(e=[]),Array.isArray(e)||(e=[e]),t=0,n=this.selection.length;n>t;t++)r=this.selection[t],i=this.items[r],i&&i.unselect();for(this.selection=[],t=0,n=e.length;n>t;t++)r=e[t],i=this.items[r],i&&(this.selection.push(r),i.select())},r.prototype.getSelection=function(){return this.selection.concat([])},r.prototype.getVisibleItems=function(){var e=this.body.range.getRange(),t=this.body.util.toScreen(e.start),n=this.body.util.toScreen(e.end),r=[];for(var i in this.groups)if(this.groups.hasOwnProperty(i))for(var s=this.groups[i],o=s.visibleItems,u=0;u<o.length;u++){var a=o[u];a.left<n&&a.left+a.width>t&&r.push(a.id)}return r},r.prototype._deselect=function(e){for(var t=this.selection,n=0,r=t.length;r>n;n++)if(t[n]==e){t.splice(n,1);break}},r.prototype.redraw=function(){var e=this.options.margin,t=this.body.range,n=s.option.asSize,r=this.options,i=r.orientation.item,o=!1,u=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,u.className="vis-itemset",o=this._orderGroups()||o;var a=t.end-t.start,f=a!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;f&&(this.stackDirty=!0),this.lastVisibleInterval=a,this.props.lastWidth=this.props.width;var l=this.stackDirty,c=this._firstGroup(),h={item:e.item,axis:e.axis},p={item:e.item,axis:e.item.vertical/2},d=0,v=e.axis+e.item.vertical;return this.groups[g].redraw(t,p,l),s.forEach(this.groups,function(e){var n=e==c?h:p,r=e.redraw(t,n,l);o=r||o,d+=e.height}),d=Math.max(d,v),this.stackDirty=!1,u.style.height=n(d),this.props.width=u.offsetWidth,this.props.height=d,this.dom.axis.style.top=n("top"==i?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.dom.axis.style.left="0",o=this._isResized()||o},r.prototype._firstGroup=function(){var e="top"==this.options.orientation.item?0:this.groupIds.length-1,t=this.groupIds[e],n=this.groups[t]||this.groups[m];return n||null},r.prototype._updateUngrouped=function(){var e,t,n=this.groups[m];this.groups[g];if(this.groupsData){if(n){n.hide(),delete this.groups[m];for(t in this.items)if(this.items.hasOwnProperty(t)){e=this.items[t],e.parent&&e.parent.remove(e);var r=this._getGroupId(e.data),i=this.groups[r];i&&i.add(e)||e.hide()}}}else if(!n){var s=null,o=null;n=new l(s,o,this),this.groups[m]=n;for(t in this.items)this.items.hasOwnProperty(t)&&(e=this.items[t],n.add(e));n.show()}},r.prototype.getLabelSet=function(){return this.dom.labelSet},r.prototype.setItems=function(e){var t,n=this,r=this.itemsData;if(e){if(!(e instanceof o||e instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=e}else this.itemsData=null;if(r&&(s.forEach(this.itemListeners,function(e,t){r.off(t,e)}),t=r.getIds(),this._onRemove(t)),this.itemsData){var i=this.id;s.forEach(this.itemListeners,function(e,t){n.itemsData.on(t,e,i)}),t=this.itemsData.getIds(),this._onAdd(t),this._updateUngrouped()}},r.prototype.getItems=function(){return this.itemsData},r.prototype.setGroups=function(e){var t,n=this;if(this.groupsData&&(s.forEach(this.groupListeners,function(e,t){n.groupsData.off(t,e)}),t=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(t)),e){if(!(e instanceof o||e instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=e}else this.groupsData=null;if(this.groupsData){var r=this.id;s.forEach(this.groupListeners,function(e,t){n.groupsData.on(t,e,r)}),t=this.groupsData.getIds(),this._onAddGroups(t)}this._updateUngrouped(),this._order(),this.body.emitter.emit("change",{queue:!0})},r.prototype.getGroups=function(){return this.groupsData},r.prototype.removeItem=function(e){var t=this.itemsData.get(e),n=this.itemsData.getDataSet();t&&this.options.onRemove(t,function(t){t&&n.remove(e)})},r.prototype._getType=function(e){return e.type||this.options.type||(e.end?"range":"box")},r.prototype._getGroupId=function(e){var t=this._getType(e);return"background"==t&&void 0==e.group?g:this.groupsData?e.group:m},r.prototype._onUpdate=function(e){var t=this;e.forEach(function(e){var n,i=t.itemsData.get(e,t.itemOptions),s=t.items[e],o=t._getType(i),u=r.types[o];if(s&&(u&&s instanceof u?t._updateItem(s,i):(n=s.selected,t._removeItem(s),s=null)),!s){if(!u)throw"rangeoverflow"==o?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+o+'"');s=new u(i,t.conversion,t.options),s.id=e,t._addItem(s),n&&(this.selection.push(e),s.select())}}.bind(this)),this._order(),this.stackDirty=!0,this.body.emitter.emit("change",{queue:!0})},r.prototype._onAdd=r.prototype._onUpdate,r.prototype._onRemove=function(e){var t=0,n=this;e.forEach(function(e){var r=n.items[e];r&&(t++,n._removeItem(r))}),t&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("change",{queue:!0}))},r.prototype._order=function(){s.forEach(this.groups,function(e){e.order()})},r.prototype._onUpdateGroups=function(e){this._onAddGroups(e)},r.prototype._onAddGroups=function(e){var t=this;e.forEach(function(e){var n=t.groupsData.get(e),r=t.groups[e];if(r)r.setData(n);else{if(e==m||e==g)throw new Error("Illegal group id. "+e+" is a reserved id.");var i=Object.create(t.options);s.extend(i,{height:null}),r=new l(e,n,t),t.groups[e]=r;for(var o in t.items)if(t.items.hasOwnProperty(o)){var u=t.items[o];u.data.group==e&&r.add(u)}r.order(),r.show()}}),this.body.emitter.emit("change",{queue:!0})},r.prototype._onRemoveGroups=function(e){var t=this.groups;e.forEach(function(e){var n=t[e];n&&(n.hide(),delete t[e])}),this.markDirty(),this.body.emitter.emit("change",{queue:!0})},r.prototype._orderGroups=function(){if(this.groupsData){var e=this.groupsData.getIds({order:this.options.groupOrder}),t=!s.equalArray(e,this.groupIds);if(t){var n=this.groups;e.forEach(function(e){n[e].hide()}),e.forEach(function(e){n[e].show()}),this.groupIds=e}return t}return!1},r.prototype._addItem=function(e){this.items[e.id]=e;var t=this._getGroupId(e.data),n=this.groups[t];n&&n.add(e)},r.prototype._updateItem=function(e,t){var n=e.data.group,r=e.data.subgroup;if(e.setData(t),n!=e.data.group||r!=e.data.subgroup){var i=this.groups[n];i&&i.remove(e);var s=this._getGroupId(e.data),o=this.groups[s];o&&o.add(e)}},r.prototype._removeItem=function(e){e.hide(),delete this.items[e.id];var t=this.selection.indexOf(e.id);-1!=t&&this.selection.splice(t,1),e.parent&&e.parent.remove(e)},r.prototype._constructByEndArray=function(e){for(var t=[],n=0;n<e.length;n++)e[n]instanceof d&&t.push(e[n]);return t},r.prototype._onTouch=function(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null},r.prototype._onDragStart=function(e){var t,n=this.touchParams.item||null,r=this;if(n&&n.selected){if(!this.options.editable.updateTime&&!this.options.editable.updateGroup&&!n.editable)return;if(n.editable===!1)return;var i=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem;i?(t={item:i,initialX:e.center.x,dragLeft:!0,data:s.extend({},n.data)},this.touchParams.itemProps=[t]):o?(t={item:o,initialX:e.center.x,dragRight:!0,data:s.extend({},n.data)},this.touchParams.itemProps=[t]):this.touchParams.itemProps=this.getSelection().map(function(t){var n=r.items[t],i={item:n,initialX:e.center.x,data:s.extend({},n.data)};return i}),e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)},r.prototype._onDragStartAddItem=function(e){var t=this.options.snap||null,n=s.getAbsoluteLeft(this.dom.frame),r=e.center.x-n-10,i=this.body.util.toTime(r),o=this.body.util.getScale(),u=this.body.util.getStep(),a=t?t(i,o,u):a,f=a,l={type:"range",start:a,end:f,content:"new item"},c=s.randomUUID();l[this.itemsData._fieldId]=c;var h=this.groupFromTarget(e);h&&(l.group=h.groupId);var p=new d(l,this.conversion,this.options);p.id=c,p.data=l,this._addItem(p);var v={item:p,dragRight:!0,initialX:e.center.x,data:s.extend({},l)};this.touchParams.itemProps=[v],e.stopPropagation()},r.prototype._onDrag=function(e){if(this.touchParams.itemProps){e.stopPropagation();var t=this,n=this.options.snap||null,r=this.body.dom.root.offsetLeft+this.body.domProps.left.width,i=this.body.util.getScale(),o=this.body.util.getStep();this.touchParams.itemProps.forEach(function(u){var a=t.body.util.toTime(e.center.x-r),f=t.body.util.toTime(u.initialX-r),l=a-f,c=s.extend({},u.item.data);if(u.item.editable!==!1){var h=t.options.editable.updateTime||u.item.editable===!0;if(h)if(u.dragLeft){if(void 0!=c.start){var p=s.convert(u.data.start,"Date"),d=new Date(p.valueOf()+l);c.start=n?n(d,i,o):d}}else if(u.dragRight){if(void 0!=c.end){var v=s.convert(u.data.end,"Date"),m=new Date(v.valueOf()+l);c.end=n?n(m,i,o):m}}else if(void 0!=c.start){var p=s.convert(u.data.start,"Date").valueOf(),d=new Date(p+l);if(void 0!=c.end){var v=s.convert(u.data.end,"Date"),g=v.valueOf()-p.valueOf();c.start=n?n(d,i,o):d,c.end=new Date(c.start.valueOf()+g)}else c.start=n?n(d,i,o):d}var y=t.options.editable.updateGroup||u.item.editable===!0;if(y&&!u.dragLeft&&!u.dragRight&&void 0!=c.group){var b=t.groupFromTarget(e);b&&(c.group=b.groupId)}t.options.onMoving(c,function(e){e&&u.item.setData(e)})}}),this.stackDirty=!0,this.body.emitter.emit("change")}},r.prototype._moveToGroup=function(e,t){var n=this.groups[t];if(n&&n.groupId!=e.data.group){var r=e.parent;r.remove(e),r.order(),n.add(e),n.order(),e.data.group=n.groupId}},r.prototype._onDragEnd=function(e){if(this.touchParams.itemProps){e.stopPropagation();var t=[],n=this,r=this.itemsData.getDataSet(),i=this.touchParams.itemProps;this.touchParams.itemProps=null,i.forEach(function(e){var i=e.item.id,o=null!=n.itemsData.get(i,n.itemOptions);if(o){var u=s.extend({},e.item.data);n.options.onMove(u,function(s){s?(s[r._fieldId]=i,t.push(s)):(e.item.setData(e.data),n.stackDirty=!0,n.body.emitter.emit("change"))})}else n.options.onAdd(e.item.data,function(t){n._removeItem(e.item),t&&n.itemsData.getDataSet().add(t),n.stackDirty=!0,n.body.emitter.emit("change")})}),t.length&&r.update(t)}},r.prototype._onSelectItem=function(e){if(this.options.selectable){var t=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),n=e.srcEvent&&e.srcEvent.shiftKey;if(t||n)return void this._onMultiSelectItem(e);var r=this.getSelection(),i=this.itemFromTarget(e),s=i?[i.id]:[];this.setSelection(s);var o=this.getSelection();(o.length>0||r.length>0)&&this.body.emitter.emit("select",{items:o,event:e})}},r.prototype._onAddItem=function(e){if(this.options.selectable&&this.options.editable.add){var t=this,n=this.options.snap||null,r=this.itemFromTarget(e);if(e.stopPropagation(),r){var i=t.itemsData.get(r.id);this.options.onUpdate(i,function(e){e&&t.itemsData.getDataSet().update(e)})}else{var o=s.getAbsoluteLeft(this.dom.frame),u=e.center.x-o,a=this.body.util.toTime(u),f=this.body.util.getScale(),l=this.body.util.getStep(),c={start:n?n(a,f,l):a,content:"new item"};if("range"===this.options.type){var h=this.body.util.toTime(u+this.props.width/5);c.end=n?n(h,f,l):h}c[this.itemsData._fieldId]=s.randomUUID();var p=this.groupFromTarget(e);p&&(c.group=p.groupId),this.options.onAdd(c,function(e){e&&t.itemsData.getDataSet().add(e)})}}},r.prototype._onMultiSelectItem=function(e){if(this.options.selectable){var t=this.itemFromTarget(e);if(t){var n=this.options.multiselect?this.getSelection():[],i=e.srcEvent&&e.srcEvent.shiftKey||!1;if(i&&this.options.multiselect){n.push(t.id);var s=r._getItemRange(this.itemsData.get(n,this.itemOptions));n=[];for(var o in this.items)if(this.items.hasOwnProperty(o)){var u=this.items[o],a=u.data.start,f=void 0!==u.data.end?u.data.end:a;a>=s.min&&f<=s.max&&!(u instanceof v)&&n.push(u.id)}}else{var l=n.indexOf(t.id);-1==l?n.push(t.id):n.splice(l,1)}this.setSelection(n),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}},r._getItemRange=function(e){var t=null,n=null;return e.forEach(function(e){(null==n||e.start<n)&&(n=e.start),void 0!=e.end?(null==t||e.end>t)&&(t=e.end):(null==t||e.start>t)&&(t=e.start)}),{min:n,max:t}},r.prototype.itemFromTarget=function(e){for(var t=e.target;t;){if(t.hasOwnProperty("timeline-item"))return t["timeline-item"];t=t.parentNode}return null},r.prototype.groupFromTarget=function(e){for(var t=e.center?e.center.y:e.clientY,n=0;n<this.groupIds.length;n++){var r=this.groupIds[n],i=this.groups[r],o=i.dom.foreground,u=s.getAbsoluteTop(o);if(t>u&&t<u+o.offsetHeight)return i;if("top"===this.options.orientation.item){if(n===this.groupIds.length-1&&t>u)return i}else if(0===n&&t<u+o.offset)return i}return null},r.itemSetFromTarget=function(e){for(var t=e.target;t;){if(t.hasOwnProperty("timeline-itemset"))return t["timeline-itemset"];t=t.parentNode}return null},e.exports=r},function(e,t,n){function r(e,t,n){this.groupId=e,this.subgroups={},this.subgroupIndex=0,this.subgroupOrderer=t&&t.subgroupOrder,this.itemSet=n,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var r=this;this.itemSet.body.emitter.on("checkRangedItems",function(){r.checkRangedItems=!0}),this._create(),this.setData(t)}var i=n(1),s=n(33);n(34),r.prototype._create=function(){var e=document.createElement("div");e.className="vis-label",this.dom.label=e;var t=document.createElement("div");t.className="vis-inner",e.appendChild(t),this.dom.inner=t;var n=document.createElement("div");n.className="vis-group",n["timeline-group"]=this,this.dom.foreground=n,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.innerHTML="?",this.dom.background.appendChild(this.dom.marker)},r.prototype.setData=function(e){var t=e&&e.content;t instanceof Element?this.dom.inner.appendChild(t):void 0!==t&&null!==t?this.dom.inner.innerHTML=t:this.dom.inner.innerHTML=this.groupId||"",this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?i.removeClassName(this.dom.inner,"vis-hidden"):i.addClassName(this.dom.inner,"vis-hidden");var n=e&&e.className||null;n!=this.className&&(this.className&&(i.removeClassName(this.dom.label,this.className),i.removeClassName(this.dom.foreground,this.className),i.removeClassName(this.dom.background,this.className),i.removeClassName(this.dom.axis,this.className)),i.addClassName(this.dom.label,n),i.addClassName(this.dom.foreground,n),i.addClassName(this.dom.background,n),i.addClassName(this.dom.axis,n),this.className=n),this.style&&(i.removeCssText(this.dom.label,"vis-"+this.style),this.style=null),e&&e.style&&(i.addCssText(this.dom.label,"vis-"+e.style),this.style=e.style)},r.prototype.getLabelWidth=function(){return this.props.label.width},r.prototype.redraw=function(e,t,n){var r=!1,o=this.dom.marker.clientHeight;if(o!=this.lastMarkerHeight&&(this.lastMarkerHeight=o,i.forEach(this.items,function(e){e.dirty=!0,e.displayed&&e.redraw()}),n=!0),"function"==typeof this.itemSet.options.order){if(n){var u=this,a=!1;i.forEach(this.items,function(e){e.displayed||(e.redraw(),u.visibleItems.push(e)),e.repositionX(a)});var f=this.orderedItems.byStart.slice().sort(function(e,t){return u.itemSet.options.order(e.data,t.data)});s.stack(f,t,!0)}this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,e)}else this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,e),this.itemSet.options.stack?s.stack(this.visibleItems,t,n):s.nostack(this.visibleItems,t,this.subgroups);var l=this._calculateHeight(t),c=this.dom.foreground;this.top=c.offsetTop,this.left=c.offsetLeft,this.width=c.offsetWidth,r=i.updateProperty(this,"height",l)||r,r=i.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||r,r=i.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||r,this.dom.background.style.height=l+"px",this.dom.foreground.style.height=l+"px",this.dom.label.style.height=l+"px";for(var h=0,p=this.visibleItems.length;p>h;h++){var d=this.visibleItems[h];d.repositionY(t)}return r},r.prototype._calculateHeight=function(e){var t,n=this.visibleItems;this.resetSubgroups();var r=this;if(n.length>0){var s=n[0].top,o=n[0].top+n[0].height;if(i.forEach(n,function(e){s=Math.min(s,e.top),o=Math.max(o,e.top+e.height),void 0!==e.data.subgroup&&(r.subgroups[e.data.subgroup].height=Math.max(r.subgroups[e.data.subgroup].height,e.height),r.subgroups[e.data.subgroup].visible=!0)}),s>e.axis){var u=s-e.axis;o-=u,i.forEach(n,function(e){e.top-=u})}t=o+e.item.vertical/2}else t=0;return t=Math.max(t,this.props.label.height)},r.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},r.prototype.hide=function(){var e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);var t=this.dom.foreground;t.parentNode&&t.parentNode.removeChild(t);var n=this.dom.background;n.parentNode&&n.parentNode.removeChild(n);var r=this.dom.axis;r.parentNode&&r.parentNode.removeChild(r)},r.prototype.add=function(e){if(this.items[e.id]=e,e.setParent(this),void 0!==e.data.subgroup&&(void 0===this.subgroups[e.data.subgroup]&&(this.subgroups[e.data.subgroup]={height:0,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),this.subgroups[e.data.subgroup].items.push(e)),this.orderSubgroups(),-1==this.visibleItems.indexOf(e)){var t=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,t)}},r.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var e=[];if("string"==typeof this.subgroupOrderer){for(var t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort(function(e,t){return e.sortField-t.sortField})}else if("function"==typeof this.subgroupOrderer){for(var t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(var n=0;n<e.length;n++)this.subgroups[e[n].subgroup].index=n}},r.prototype.resetSubgroups=function(){for(var e in this.subgroups)this.subgroups.hasOwnProperty(e)&&(this.subgroups[e].visible=!1)},r.prototype.remove=function(e){delete this.items[e.id],e.setParent(null);var t=this.visibleItems.indexOf(e);-1!=t&&this.visibleItems.splice(t,1)},r.prototype.removeFromDataSet=function(e){this.itemSet.removeItem(e.id)},r.prototype.order=function(){for(var e=i.toArray(this.items),t=[],n=[],r=0;r<e.length;r++)void 0!==e[r].data.end&&n.push(e[r]),t.push(e[r]);this.orderedItems={byStart:t,byEnd:n},s.orderByStart(this.orderedItems.byStart),s.orderByEnd(this.orderedItems.byEnd)},r.prototype._updateVisibleItems=function(e,t,n){var r,s,o=[],u={},a=(n.end-n.start)/4,f=n.start-a,l=n.end+a,c=function(e){return f>e?-1:l>=e?0:1};if(t.length>0)for(s=0;s<t.length;s++)this._checkIfVisibleWithReference(t[s],o,u,n);var h=i.binarySearchCustom(e.byStart,c,"data","start");if(this._traceVisible(h,e.byStart,o,u,function(e){return e.data.start<f||e.data.start>l}),1==this.checkRangedItems)for(this.checkRangedItems=!1,s=0;s<e.byEnd.length;s++)this._checkIfVisibleWithReference(e.byEnd[s],o,u,n);else{var p=i.binarySearchCustom(e.byEnd,c,"data","end");this._traceVisible(p,e.byEnd,o,u,function(e){return e.data.end<f||e.data.end>l})}for(s=0;s<o.length;s++)r=o[s],r.displayed||r.show(),r.repositionX();return o},r.prototype._traceVisible=function(e,t,n,r,i){var s,o;if(-1!=e){for(o=e;o>=0&&(s=t[o],!i(s));o--)void 0===r[s.id]&&(r[s.id]=!0,n.push(s));for(o=e+1;o<t.length&&(s=t[o],!i(s));o++)void 0===r[s.id]&&(r[s.id]=!0,n.push(s))}},r.prototype._checkIfVisible=function(e,t,n){e.isVisible(n)?(e.displayed||e.show(),e.repositionX(),t.push(e)):e.displayed&&e.hide()},r.prototype._checkIfVisibleWithReference=function(e,t,n,r){e.isVisible(r)?void 0===n[e.id]&&(n[e.id]=!0,t.push(e)):e.displayed&&e.hide()},e.exports=r},function(e,t){var n=.001;t.orderByStart=function(e){e.sort(function(e,t){return e.data.start-t.data.start})},t.orderByEnd=function(e){e.sort(function(e,t){var n="end"in e.data?e.data.end:e.data.start,r="end"in t.data?t.data.end:t.data.start;return n-r})},t.stack=function(e,n,r){var i,s;if(r)for(i=0,s=e.length;s>i;i++)e[i].top=null;for(i=0,s=e.length;s>i;i++){var o=e[i];if(o.stack&&null===o.top){o.top=n.axis;do{for(var u=null,a=0,f=e.length;f>a;a++){var l=e[a];if(null!==l.top&&l!==o&&l.stack&&t.collision(o,l,n.item)){u=l;break}}null!=u&&(o.top=u.top+u.height+n.item.vertical)}while(u)}}},t.nostack=function(e,t,n){var r,i,s;for(r=0,i=e.length;i>r;r++)if(void 0!==e[r].data.subgroup){s=t.axis;for(var o in n)n.hasOwnProperty(o)&&1==n[o].visible&&n[o].index<n[e[r].data.subgroup].index&&(s+=n[o].height+t.item.vertical);e[r].top=s}else e[r].top=t.axis},t.collision=function(e,t,r){return e.left-r.horizontal+n<t.left+t.width&&e.left+e.width+r.horizontal-n>t.left&&e.top-r.vertical+n<t.top+t.height&&e.top+e.height+r.vertical-n>t.top}},function(e,t,n){function r(e,t,n){if(this.props={content:{width:0}},this.overflow=!1,e){if(void 0==e.start)throw new Error('Property "start" missing in item '+e.id);if(void 0==e.end)throw new Error('Property "end" missing in item '+e.id)}i.call(this,e,t,n)}var i=(n(23),n(35));r.prototype=new i(null,null,null),r.prototype.baseClassName="vis-item vis-range",r.prototype.isVisible=function(e){return this.data.start<e.end&&this.data.end>e.start},r.prototype.redraw=function(){var e=this.dom;if(e||(this.dom={},e=this.dom,e.box=document.createElement("div"),e.frame=document.createElement("div"),e.frame.className="vis-item-overflow",e.box.appendChild(e.frame),e.content=document.createElement("div"),e.content.className="vis-item-content",e.frame.appendChild(e.content),e.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!e.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(e.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var n=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(n?" vis-editable":" vis-readonly");e.box.className=this.baseClassName+r,this.overflow="hidden"!==window.getComputedStyle(e.frame).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1}this._repaintDeleteButton(e.box),this._repaintDragLeft(),this._repaintDragRight()},r.prototype.show=function(){this.displayed||this.redraw()},r.prototype.hide=function(){if(this.displayed){var e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}},r.prototype.repositionX=function(e){var t,n,r=this.parent.width,i=this.conversion.toScreen(this.data.start),s=this.conversion.toScreen(this.data.end);(void 0===e||e===!0)&&(-r>i&&(i=-r),s>2*r&&(s=2*r));var o=Math.max(s-i,1);switch(this.overflow?(this.left=i,this.width=o+this.props.content.width,n=this.props.content.width):(this.left=i,this.width=o,n=Math.min(s-i,this.props.content.width)),this.dom.box.style.left=this.left+"px",this.dom.box.style.width=o+"px",this.options.align){case"left":this.dom.content.style.left="0";break;case"right":this.dom.content.style.left=Math.max(o-n,0)+"px";break;case"center":this.dom.content.style.left=Math.max((o-n)/2,0)+"px";break;default:t=this.overflow?s>0?Math.max(-i,0):-n:0>i?-i:0,this.dom.content.style.left=t+"px"}},r.prototype.repositionY=function(){var e=this.options.orientation.item,t=this.dom.box;"top"==e?t.style.top=this.top+"px":t.style.top=this.parent.height-this.top-this.height+"px"},r.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},r.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},e.exports=r},function(e,t,n){function r(e,t,n){this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=t||{},this.options=n||{},this.selected=!1,this.displayed=!1,this.dirty=!0,this.top=null,this.left=null,this.width=null,this.height=null,this.editable=null,this.data&&this.data.hasOwnProperty("editable")&&"boolean"==typeof this.data.editable&&(this.editable=e.editable)}var i=n(23),s=n(1);r.prototype.stack=!0,r.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},r.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},r.prototype.setData=function(e){var t=void 0!=e.group&&this.data.group!=e.group;t&&this.parent.itemSet._moveToGroup(this,e.group),e.hasOwnProperty("editable")&&"boolean"==typeof e.editable&&(this.editable=e.editable),this.data=e,this.dirty=!0,this.displayed&&this.redraw()},r.prototype.setParent=function(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e},r.prototype.isVisible=function(e){return!1},r.prototype.show=function(){return!1},r.prototype.hide=function(){return!1},r.prototype.redraw=function(){},r.prototype.repositionX=function(){},r.prototype.repositionY=function(){},r.prototype._repaintDeleteButton=function(e){var t=(this.options.editable.remove||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&t&&!this.dom.deleteButton){var n=this,r=document.createElement("div");r.className="vis-delete",r.title="Delete this item",(new i(r)).on("tap",function(e){e.stopPropagation(),n.parent.removeFromDataSet(n)}),e.appendChild(r),this.dom.deleteButton=r}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},r.prototype._updateContents=function(e){var t;if(this.options.template){var n=this.parent.itemSet.itemsData.get(this.id);t=this.options.template(n)}else t=this.data.content;var r=this._contentToString(this.content)!==this._contentToString(t);if(r){if(t instanceof Element)e.innerHTML="",e.appendChild(t);else if(void 0!=t)e.innerHTML=t;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=t}},r.prototype._updateTitle=function(e){null!=this.data.title?e.title=this.data.title||"":e.removeAttribute("vis-title")},r.prototype._updateDataAttributes=function(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var t=[];if(Array.isArray(this.options.dataAttributes))t=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;t=Object.keys(this.data)}for(var n=0;n<t.length;n++){var r=t[n],i=this.data[r];null!=i?e.setAttribute("data-"+r,i):e.removeAttribute("data-"+r)}}},r.prototype._updateStyle=function(e){this.style&&(s.removeCssText(e,this.style),this.style=null),this.data.style&&(s.addCssText(e,this.data.style),this.style=this.data.style)},r.prototype._contentToString=function(e){return"string"==typeof e?e:e&&"outerHTML"in e?e.outerHTML:e},r.prototype.getWidthLeft=function(){return 0},r.prototype.getWidthRight=function(){return 0},e.exports=r},function(e,t,n){function r(e,t,n,i){this.current=new Date,this._start=new Date,this._end=new Date,this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,t,n),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=i,void 0===i&&(this.hiddenDates=[]),this.format=r.FORMAT}var i=n(2),s=n(29),o=n(1);r.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},r.prototype.setFormat=function(e){var t=o.deepExtend({},r.FORMAT);this.format=o.deepExtend(t,e)},r.prototype.setRange=function(e,t,n){if(!(e instanceof Date&&t instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=e?new Date(e.valueOf()):new Date,this._end=void 0!=t?new Date(t.valueOf()):new Date,this.autoScale&&this.setMinimumStep(n)},r.prototype.first=function(){this.current=new Date(this._start.valueOf()),this.roundToMinor()},r.prototype.roundToMinor=function(){switch(this.scale){case"year":this.current.setFullYear(this.step*Math.floor(this.current.getFullYear()/this.step)),this.current.setMonth(0);case"month":this.current.setDate(1);case"day":case"weekday":this.current.setHours(0);case"hour":this.current.setMinutes(0);case"minute":this.current.setSeconds(0);case"second":this.current.setMilliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.setMilliseconds(this.current.getMilliseconds()-this.current.getMilliseconds()%this.step);break;case"second":this.current.setSeconds(this.current.getSeconds()-this.current.getSeconds()%this.step);break;case"minute":this.current.setMinutes(this.current.getMinutes()-this.current.getMinutes()%this.step);break;case"hour":this.current.setHours(this.current.getHours()-this.current.getHours()%this.step);break;case"weekday":case"day":this.current.setDate(this.current.getDate()-1-(this.current.getDate()-1)%this.step+1);break;case"month":this.current.setMonth(this.current.getMonth()-this.current.getMonth()%this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()-this.current.getFullYear()%this.step)}},r.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},r.prototype.next=function(){var e=this.current.valueOf();if(this.current.getMonth()<6)switch(this.scale){case"millisecond":this.current=new Date(this.current.valueOf()+this.step);break;case"second":this.current=new Date(this.current.valueOf()+1e3*this.step);break;case"minute":this.current=new Date(this.current.valueOf()+1e3*this.step*60);break;case"hour":this.current=new Date(this.current.valueOf()+1e3*this.step*60*60);var t=this.current.getHours();this.current.setHours(t-t%this.step);break;case"weekday":case"day":this.current.setDate(this.current.getDate()+this.step);break;case"month":this.current.setMonth(this.current.getMonth()+this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()+this.step)}else switch(this.scale){case"millisecond":this.current=new Date(this.current.valueOf()+this.step);break;case"second":this.current.setSeconds(this.current.getSeconds()+this.step);break;case"minute":this.current.setMinutes(this.current.getMinutes()+this.step);break;case"hour":this.current.setHours(this.current.getHours()+this.step);break;case"weekday":case"day":this.current.setDate(this.current.getDate()+this.step);break;case"month":this.current.setMonth(this.current.getMonth()+this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()+this.step)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.getMilliseconds()<this.step&&this.current.setMilliseconds(0);break;case"second":this.current.getSeconds()<this.step&&this.current.setSeconds(0);break;case"minute":this.current.getMinutes()<this.step&&this.current.setMinutes(0);break;case"hour":this.current.getHours()<this.step&&this.current.setHours(0);break;case"weekday":case"day":this.current.getDate()<this.step+1&&this.current.setDate(1);break;case"month":this.current.getMonth()<this.step&&this.current.setMonth(0);break;case"year":}this.current.valueOf()==e&&(this.current=new Date(this._end.valueOf())),s.stepOverHiddenDates(this,e)},r.prototype.getCurrent=function(){return this.current},r.prototype.setScale=function(e){e&&"string"==typeof e.scale&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)},r.prototype.setAutoScale=function(e){this.autoScale=e},r.prototype.setMinimumStep=function(e){if(void 0!=e){var t=31104e6,n=2592e6,r=864e5,i=36e5,s=6e4,o=1e3,u=1;1e3*t>e&&(this.scale="year",this.step=1e3),500*t>e&&(this.scale="year",this.step=500),100*t>e&&(this.scale="year",this.step=100),50*t>e&&(this.scale="year",this.step=50),10*t>e&&(this.scale="year",this.step=10),5*t>e&&(this.scale="year",this.step=5),t>e&&(this.scale="year",this.step=1),3*n>e&&(this.scale="month",this.step=3),n>e&&(this.scale="month",this.step=1),5*r>e&&(this.scale="day",this.step=5),2*r>e&&(this.scale="day",this.step=2),r>e&&(this.scale="day",this.step=1),r/2>e&&(this.scale="weekday",this.step=1),4*i>e&&(this.scale="hour",this.step=4),i>e&&(this.scale="hour",this.step=1),15*s>e&&(this.scale="minute",this.step=15),10*s>e&&(this.scale="minute",this.step=10),5*s>e&&(this.scale="minute",this.step=5),s>e&&(this.scale="minute",this.step=1),15*o>e&&(this.scale="second",this.step=15),10*o>e&&(this.scale="second",this.step=10),5*o>e&&(this.scale="second",this.step=5),o>e&&(this.scale="second",this.step=1),200*u>e&&(this.scale="millisecond",this.step=200),100*u>e&&(this.scale="millisecond",this.step=100),50*u>e&&(this.scale="millisecond",this.step=50),10*u>e&&(this.scale="millisecond",this.step=10),5*u>e&&(this.scale="millisecond",this.step=5),u>e&&(this.scale="millisecond",this.step=1)}},r.snap=function(e,t,n){var r=new Date(e.valueOf());if("year"==t){var i=r.getFullYear()+Math.round(r.getMonth()/12);r.setFullYear(Math.round(i/n)*n),r.setMonth(0),r.setDate(0),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)}else if("month"==t)r.getDate()>15?(r.setDate(1),r.setMonth(r.getMonth()+1)):r.setDate(1),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0);else if("day"==t){switch(n){case 5:case 2:r.setHours(24*Math.round(r.getHours()/24));break;default:r.setHours(12*Math.round(r.getHours()/12))}r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)}else if("weekday"==t){switch(n){case 5:case 2:r.setHours(12*Math.round(r.getHours()/12));break;default:r.setHours(6*Math.round(r.getHours()/6))}r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)}else if("hour"==t){switch(n){case 4:r.setMinutes(60*Math.round(r.getMinutes()/60));break;default:r.setMinutes(30*Math.round(r.getMinutes()/30))}r.setSeconds(0),r.setMilliseconds(0)}else if("minute"==t){switch(n){case 15:case 10:r.setMinutes(5*Math.round(r.getMinutes()/5)),r.setSeconds(0);break;case 5:r.setSeconds(60*Math.round(r.getSeconds()/60));break;default:r.setSeconds(30*Math.round(r.getSeconds()/30))}r.setMilliseconds(0)}else if("second"==t)switch(n){case 15:case 10:r.setSeconds(5*Math.round(r.getSeconds()/5)),r.setMilliseconds(0);break;case 5:r.setMilliseconds(1e3*Math.round(r.getMilliseconds()/1e3));break;default:r.setMilliseconds(500*Math.round(r.getMilliseconds()/500))}else if("millisecond"==t){var s=n>5?n/2:1;r.setMilliseconds(Math.round(r.getMilliseconds()/s)*s)}return r},r.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.switchedYear=!1,this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.switchedMonth=!1,this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.switchedDay=!1,this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}switch(this.scale){case"millisecond":return 0==this.current.getMilliseconds();case"second":return 0==this.current.getSeconds();case"minute":return 0==this.current.getHours()&&0==this.current.getMinutes();case"hour":return 0==this.current.getHours();case"weekday":case"day":return 1==this.current.getDate();case"month":return 0==this.current.getMonth();case"year":return!1;default:return!1}},r.prototype.getLabelMinor=function(e){void 0==e&&(e=this.current);var t=this.format.minorLabels[this.scale];return t&&t.length>0?i(e).format(t):""},r.prototype.getLabelMajor=function(e){void 0==e&&(e=this.current);var t=this.format.majorLabels[this.scale];return t&&t.length>0?i(e).format(t):""},r.prototype.getClassName=function(){function e(e){return e/a%2==0?" vis-even":" vis-odd"}function t(e){return e.isSame(new Date,"day")?" vis-today":e.isSame(i().add(1,"day"),"day")?" vis-tomorrow":e.isSame(i().add(-1,"day"),"day")?" vis-yesterday":""}function n(e){return e.isSame(new Date,"week")?" vis-current-week":""}function r(e){return e.isSame(new Date,"month")?" vis-current-month":""}function s(e){return e.isSame(new Date,"year")?" vis-current-year":""}var o=i(this.current),u=o.locale?o.locale("en"):o.lang("en"),a=this.step;switch(this.scale){case"millisecond":return e(u.milliseconds()).trim();case"second":return e(u.seconds()).trim();case"minute":return e(u.minutes()).trim();case"hour":var f=u.hours();return 4==this.step&&(f=f+"-h"+(f+4)),"vis-h"+f+t(u)+e(u.hours());case"weekday":return"vis-"+u.format("dddd").toLowerCase()+t(u)+n(u)+e(u.date());case"day":var l=u.date(),c=u.format("MMMM").toLowerCase();return"vis-day"+l+" vis-"+c+r(u)+e(l-1);case"month":return"vis-"+u.format("MMMM").toLowerCase()+r(u)+e(u.month());case"year":var h=u.year();return"vis-year"+h+s(u)+e(h);default:return""}},e.exports=r},function(e,t,n){function r(e,t,n){i.call(this,e,t,n),this.width=0,this.height=0,this.top=0,this.left=0}var i=(n(1),n(32));r.prototype=Object.create(i.prototype),r.prototype.redraw=function(e,t,n){var r=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var i=0,s=this.visibleItems.length;s>i;i++){var o=this.visibleItems[i];o.repositionY(t)}return r},r.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},e.exports=r},function(e,t,n){function r(e,t,n){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},e&&void 0==e.start)throw new Error('Property "start" missing in item '+e);i.call(this,e,t,n)}var i=n(35);n(1),r.prototype=new i(null,null,null),r.prototype.isVisible=function(e){var t=(e.end-e.start)/4;return this.data.start>e.start-t&&this.data.start<e.end+t},r.prototype.redraw=function(){var e=this.dom;if(e||(this.dom={},e=this.dom,e.box=document.createElement("DIV"),e.content=document.createElement("DIV"),e.content.className="vis-item-content",e.box.appendChild(e.content),e.line=document.createElement("DIV"),e.line.className="vis-line",e.dot=document.createElement("DIV"),e.dot.className="vis-dot",e.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!e.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(e.box)}if(!e.line.parentNode){var n=this.parent.dom.background;if(!n)throw new Error("Cannot redraw item: parent has no background container element");n.appendChild(e.line)}if(!e.dot.parentNode){var r=this.parent.dom.axis;if(!n)throw new Error("Cannot redraw item: parent has no axis container element");r.appendChild(e.dot)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var i=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,s=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");e.box.className="vis-item vis-box"+s,e.line.className="vis-item vis-line"+s,e.dot.className="vis-item vis-dot"+s,this.props.dot.height=e.dot.offsetHeight,this.props.dot.width=e.dot.offsetWidth,this.props.line.width=e.line.offsetWidth,this.width=e.box.offsetWidth,this.height=e.box.offsetHeight,this.dirty=!1}this._repaintDeleteButton(e.box)},r.prototype.show=function(){this.displayed||this.redraw()},r.prototype.hide=function(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}},r.prototype.repositionX=function(){var e=this.conversion.toScreen(this.data.start),t=this.options.align;"right"==t?this.left=e-this.width:"left"==t?this.left=e:this.left=e-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=e-this.props.line.width/2+"px",this.dom.dot.style.left=e-this.props.dot.width/2+"px"},r.prototype.repositionY=function(){var e=this.options.orientation.item,t=this.dom.box,n=this.dom.line,r=this.dom.dot;if("top"==e)t.style.top=(this.top||0)+"px",n.style.top="0",n.style.height=this.parent.top+this.top+1+"px",n.style.bottom="";else{var i=this.parent.itemSet.props.height,s=i-this.parent.top-this.parent.height+this.top;t.style.top=(this.parent.height-this.top-this.height||0)+"px",n.style.top=i-s+"px",n.style.bottom="0"}r.style.top=-this.props.dot.height/2+"px"},r.prototype.getWidthLeft=function(){return this.width/2},r.prototype.getWidthRight=function(){return this.width/2},e.exports=r},function(e,t,n){function r(e,t,n){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}},e&&void 0==e.start)throw new Error('Property "start" missing in item '+e);i.call(this,e,t,n)}var i=n(35);r.prototype=new i(null,null,null),r.prototype.isVisible=function(e){var t=(e.end-e.start)/4;return this.data.start>e.start-t&&this.data.start<e.end+t},r.prototype.redraw=function(){var e=this.dom;if(e||(this.dom={},e=this.dom,e.point=document.createElement("div"),e.content=document.createElement("div"),e.content.className="vis-item-content",e.point.appendChild(e.content),e.dot=document.createElement("div"),e.point.appendChild(e.dot),e.point["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!e.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(e.point)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var n=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,r=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(n?" vis-editable":" vis-readonly");e.point.className="vis-item vis-point"+r,e.dot.className="vis-item vis-dot"+r,this.props.dot.width=e.dot.offsetWidth,this.props.dot.height=e.dot.offsetHeight,this.props.content.height=e.content.offsetHeight,e.content.style.marginLeft=2*this.props.dot.width+"px",e.dot.style.top=(this.height-this.props.dot.height)/2+"px",e.dot.style.left=this.props.dot.width/2+"px",this.width=e.point.offsetWidth,this.height=e.point.offsetHeight,this.dirty=!1}this._repaintDeleteButton(e.point)},r.prototype.show=function(){this.displayed||this.redraw()},r.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},r.prototype.repositionX=function(){var e=this.conversion.toScreen(this.data.start);this.left=e-this.props.dot.width,this.dom.point.style.left=this.left+"px"},r.prototype.repositionY=function(){var e=this.options.orientation.item,t=this.dom.point;"top"==e?t.style.top=this.top+"px":t.style.top=this.parent.height-this.top-this.height+"px"},r.prototype.getWidthLeft=function(){return this.props.dot.width},r.prototype.getWidthRight=function(){return this.width-this.props.dot.width},e.exports=r},function(e,t,n){function r(e,t,n){if(this.props={content:{width:0}},this.overflow=!1,e){if(void 0==e.start)throw new Error('Property "start" missing in item '+e.id);if(void 0==e.end)throw new Error('Property "end" missing in item '+e.id)}i.call(this,e,t,n)}var i=(n(23),n(35)),s=n(37),o=n(34);r.prototype=new i(null,null,null),r.prototype.baseClassName="vis-item vis-background",r.prototype.stack=!1,r.prototype.isVisible=function(e){return this.data.start<e.end&&this.data.end>e.start},r.prototype.redraw=function(){var e=this.dom;if(e||(this.dom={},e=this.dom,e.box=document.createElement("div"),e.frame=document.createElement("div"),e.frame.className="vis-item-overflow",e.box.appendChild(e.frame),e.content=document.createElement("div"),e.content.className="vis-item-content",e.frame.appendChild(e.content),this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!e.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(e.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var n=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");e.box.className=this.baseClassName+n,this.overflow="hidden"!==window.getComputedStyle(e.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1}},r.prototype.show=o.prototype.show,r.prototype.hide=o.prototype.hide,r.prototype.repositionX=o.prototype.repositionX,r.prototype.repositionY=function(e){var t="top"===this.options.orientation.item;this.dom.content.style.top=t?"":"0",this.dom.content.style.bottom=t?"0":"";var n;if(void 0!==this.data.subgroup){var r=this.data.subgroup,i=this.parent.subgroups,o=i[r].index;if(1==t){n=this.parent.subgroups[r].height+e.item.vertical,n+=0==o?e.axis-.5*e.item.vertical:0;var u=this.parent.top;for(var a in i)i.hasOwnProperty(a)&&1==i[a].visible&&i[a].index<o&&(u+=i[a].height+e.item.vertical);u+=0!=o?e.axis-.5*e.item.vertical:0,this.dom.box.style.top=u+"px",this.dom.box.style.bottom=""}else{var u=this.parent.top,f=0;for(var a in i)if(i.hasOwnProperty(a)&&1==i[a].visible){var l=i[a].height+e.item.vertical;f+=l,i[a].index>o&&(u+=l)}n=this.parent.subgroups[r].height+e.item.vertical,this.dom.box.style.top=this.parent.height-f+u+"px",this.dom.box.style.bottom=""}}else this.parent instanceof s?(n=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.top=t?"0":"",this.dom.box.style.bottom=t?"":"0"):(n=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=n+"px"},e.exports=r},function(e,t,n){function r(e,t){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,format:o.FORMAT,timeAxis:null},this.options=i.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(t)}var i=n(1),s=n(21),o=n(36),u=n(29),a=n(2);r.prototype=new s,r.prototype.setOptions=function(e){e&&(i.selectiveExtend(["showMinorLabels","showMajorLabels","hiddenDates","timeAxis"],this.options,e),i.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&("string"==typeof e.orientation?this.options.orientation.axis=e.orientation:"object"==typeof e.orientation&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&("function"==typeof a.locale?a.locale(e.locale):a.lang(e.locale)))},r.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},r.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},r.prototype.redraw=function(){var e=this.props,t=this.dom.foreground,n=this.dom.background,r="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,i=t.parentNode!==r;this._calculateCharSize();var s=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,o=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;e.minorLabelHeight=s?e.minorCharHeight:0,e.majorLabelHeight=o?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=t.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;var u=t.nextSibling,a=n.nextSibling;return t.parentNode&&t.parentNode.removeChild(t),n.parentNode&&n.parentNode.removeChild(n),t.style.height=this.props.height+"px",this._repaintLabels(),u?r.insertBefore(t,u):r.appendChild(t),a?this.body.dom.backgroundVertical.insertBefore(n,a):this.body.dom.backgroundVertical.appendChild(n),this._isResized()||i},r.prototype._repaintLabels=function(){var e=this.options.orientation.axis,t=i.convert(this.body.range.start,"Number"),n=i.convert(this.body.range.end,"Number"),r=this.body.util.toTime(7*(this.props.minorCharWidth||10)).valueOf(),s=r-u.getHiddenDurationBefore(this.body.hiddenDates,this.body.range,r);s-=this.body.util.toTime(0).valueOf();var a=new o(new Date(t),new Date(n),s,this.body.hiddenDates);this.options.format&&a.setFormat(this.options.format),this.options.timeAxis&&a.setScale(this.options.timeAxis),this.step=a;var f=this.dom;f.redundant.lines=f.lines,f.redundant.majorTexts=f.majorTexts,f.redundant.minorTexts=f.minorTexts,f.lines=[],f.majorTexts=[],f.minorTexts=[];var l,c,h,p,d=0,v=0,m=0,g=void 0,y=0;for(a.first();a.hasNext()&&1e3>y;)y++,l=a.getCurrent(),c=a.isMajor(),p=a.getClassName(),v=d,d=this.body.util.toScreen(l),m=d-v,h&&(h.style.width=m+"px"),this.options.showMinorLabels&&this._repaintMinorText(d,a.getLabelMinor(),e,p),c&&this.options.showMajorLabels?(d>0&&(void 0==g&&(g=d),this._repaintMajorText(d,a.getLabelMajor(),e,p)),h=this._repaintMajorLine(d,e,p)):h=this._repaintMinorLine(d,e,p),a.next();if(this.options.showMajorLabels){var b=this.body.util.toTime(0),w=a.getLabelMajor(b),E=w.length*(this.props.majorCharWidth||10)+10;(void 0==g||g>E)&&this._repaintMajorText(0,w,e,p)}i.forEach(this.dom.redundant,function(e){for(;e.length;){var t=e.pop();t&&t.parentNode&&t.parentNode.removeChild(t)}})},r.prototype._repaintMinorText=function(e,t,n,r){var i=this.dom.redundant.minorTexts.shift();if(!i){var s=document.createTextNode("");i=document.createElement("div"),i.appendChild(s),this.dom.foreground.appendChild(i)}this.dom.minorTexts.push(i),i.childNodes[0].nodeValue=t,i.style.top="top"==n?this.props.majorLabelHeight+"px":"0",i.style.left=e+"px",i.className="vis-text vis-minor "+r},r.prototype._repaintMajorText=function(e,t,n,r){var i=this.dom.redundant.majorTexts.shift();if(!i){var s=document.createTextNode(t);i=document.createElement("div"),i.appendChild(s),this.dom.foreground.appendChild(i)}this.dom.majorTexts.push(i),i.childNodes[0].nodeValue=t,i.className="vis-text vis-major "+r,i.style.top="top"==n?"0":this.props.minorLabelHeight+"px",i.style.left=e+"px"},r.prototype._repaintMinorLine=function(e,t,n){var r=this.dom.redundant.lines.shift();r||(r=document.createElement("div"),this.dom.background.appendChild(r)),this.dom.lines.push(r);var i=this.props;return"top"==t?r.style.top=i.majorLabelHeight+"px":r.style.top=this.body.domProps.top.height+"px",r.style.height=i.minorLineHeight+"px",r.style.left=e-i.minorLineWidth/2+"px",r.className="vis-grid vis-vertical vis-minor "+n,r},r.prototype._repaintMajorLine=function(e,t,n){var r=this.dom.redundant.lines.shift();r||(r=document.createElement("div"),this.dom.background.appendChild(r)),this.dom.lines.push(r);var i=this.props;return"top"==t?r.style.top="0":r.style.top=this.body.domProps.top.height+"px",r.style.left=e-i.majorLineWidth/2+"px",r.style.height=i.majorLineHeight+"px",r.className="vis-grid vis-vertical vis-major "+n,r},r.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth},e.exports=r},function(e,t,n){function r(e){this.active=!1,this.dom={container:e},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=u(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var t=this,n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];n.forEach(function(e){t.hammer.on(e,function(e){e.stopPropagation()})}),document&&document.body&&(this.onClick=function(n){i(n.target,e)||t.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=s(),this.escListener=this.deactivate.bind(this)}function i(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}var s=n(43),o=n(13),u=n(23),a=n(1);o(r.prototype),r.current=null,r.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},r.prototype.activate=function(){r.current&&r.current.deactivate(),r.current=this,this.active=!0,this.dom.overlay.style.display="none",a.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},r.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",a.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},r.prototype._onTapOverlay=function(e){this.activate(),e.stopPropagation()},e.exports=r},function(e,t,n){var r,i,s;!function(n,u){i=[],r=u,s="function"==typeof r?r.apply(t,i):r,void 0===s||!(e.exports=s)}(this,function(){function e(e){var t,n=e&&e.preventDefault||!1,r=e&&e.container||window,i={},s={keydown:{},keyup:{}},o={};for(t=97;122>=t;t++)o[String.fromCharCode(t)]={code:65+(t-97),shift:!1};for(t=65;90>=t;t++)o[String.fromCharCode(t)]={code:t,shift:!0};for(t=0;9>=t;t++)o[""+t]={code:48+t,shift:!1};for(t=1;12>=t;t++)o["F"+t]={code:111+t,shift:!1};for(t=0;9>=t;t++)o["num"+t]={code:96+t,shift:!1};o["num*"]={code:106,shift:!1},o["num+"]={code:107,shift:!1},o["num-"]={code:109,shift:!1},o["num/"]={code:111,shift:!1},o["num."]={code:110,shift:!1},o.left={code:37,shift:!1},o.up={code:38,shift:!1},o.right={code:39,shift:!1},o.down={code:40,shift:!1},o.space={code:32,shift:!1},o.enter={code:13,shift:!1},o.shift={code:16,shift:void 0},o.esc={code:27,shift:!1},o.backspace={code:8,shift:!1},o.tab={code:9,shift:!1},o.ctrl={code:17,shift:!1},o.alt={code:18,shift:!1},o["delete"]={code:46,shift:!1},o.pageup={code:33,shift:!1},o.pagedown={code:34,shift:!1},o["="]={code:187,shift:!1},o["-"]={code:189,shift:!1},o["]"]={code:221,shift:!1},o["["]={code:219,shift:!1};var u=function(e){f(e,"keydown")},a=function(e){f(e,"keyup")},f=function(e,t){if(void 0!==s[t][e.keyCode]){for(var r=s[t][e.keyCode],i=0;i<r.length;i++)void 0===r[i].shift?r[i].fn(e):1==r[i].shift&&1==e.shiftKey?r[i].fn(e):0==r[i].shift&&0==e.shiftKey&&r[i].fn(e);1==n&&e.preventDefault()}};return i.bind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===o[e])throw new Error("unsupported key: "+e);void 0===s[n][o[e].code]&&(s[n][o[e].code]=[]),s[n][o[e].code].push({fn:t,shift:o[e].shift})},i.bindAll=function(e,t){void 0===t&&(t="keydown");for(var n in o)o.hasOwnProperty(n)&&i.bind(n,e,t)},i.getKey=function(e){for(var t in o)if(o.hasOwnProperty(t)){if(1==e.shiftKey&&1==o[t].shift&&e.keyCode==o[t].code)return t;if(0==e.shiftKey&&0==o[t].shift&&e.keyCode==o[t].code)return t;if(e.keyCode==o[t].code&&"shift"==t)return t}return"unknown key, currently not supported"},i.unbind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===o[e])throw new Error("unsupported key: "+e);if(void 0!==t){var r=[],i=s[n][o[e].code];if(void 0!==i)for(var u=0;u<i.length;u++)(i[u].fn!=t||i[u].shift!=o[e].shift)&&r.push(s[n][o[e].code][u]);s[n][o[e].code]=r}else s[n][o[e].code]=[]},i.reset=function(){s={keydown:{},keyup:{}}},i.destroy=function(){s={keydown:{},keyup:{}},r.removeEventListener("keydown",u,!0),r.removeEventListener("keyup",a,!0)},r.addEventListener("keydown",u,!0),r.addEventListener("keyup",a,!0),i}return e})},function(e,t,n){function r(e,t){this.body=e,this.defaultOptions={locales:a,locale:"en",id:void 0},this.options=s.extend({},this.defaultOptions),t&&t.time?this.customTime=t.time:this.customTime=new Date,this.eventParams={},this.setOptions(t),this._create()}var i=n(23),s=n(1),o=n(21),u=n(2),a=n(22);r.prototype=new o,r.prototype.setOptions=function(e){e&&s.selectiveExtend(["locale","locales","id"],this.options,e)},r.prototype._create=function(){var e=document.createElement("div");e["custom-time"]=this,e.className="vis-custom-time "+(this.options.id||""),e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e;var t=document.createElement("div");t.style.position="relative",t.style.top="0px",t.style.left="-10px",t.style.height="100%",t.style.width="20px",e.appendChild(t),this.hammer=new i(t),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this))},r.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},r.prototype.redraw=function(){var e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));var t=this.body.util.toScreen(this.customTime),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline.html#Localization"),this.warned=!0),n=this.options.locales.en);var r=n.time+": "+u(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss");return r=r.charAt(0).toUpperCase()+r.substring(1),this.bar.style.left=t+"px",this.bar.title=r,!1},r.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},r.prototype.setCustomTime=function(e){this.customTime=s.convert(e,"Date"),this.redraw()},r.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},r.prototype._onDragStart=function(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()},r.prototype._onDrag=function(e){if(this.eventParams.dragging){var t=this.body.util.toScreen(this.eventParams.customTime)+e.deltaX,n=this.body.util.toTime(t);this.setCustomTime(n),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf())}),e.stopPropagation()}},r.prototype._onDragEnd=function(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf())}),e.stopPropagation())},r.customTimeFromTarget=function(e){for(var t=e.target;t;){if(t.hasOwnProperty("custom-time"))return t["custom-time"];t=t.parentNode}return null},e.exports=r},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(46),u=r(o),a=n(1),f=function(){function e(t,n,r){var s=void 0===arguments[3]?1:arguments[3];i(this,e),this.parent=t,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.options={},this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},a.extend(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.colorPicker=new u["default"](s),this.wrapper=void 0}return s(e,[{key:"setOptions",value:function(e){if(void 0!==e){var t=!0;"string"==typeof e?this.options.filter=e:e instanceof Array?this.options.filter=e.join():"object"==typeof e?(void 0!==e.container&&(this.options.container=e.container),void 0!==e.filter&&(this.options.filter=e.filter),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)):"boolean"==typeof e?(this.options.filter=!0,t=e):"function"==typeof e&&(this.options.filter=e,t=!0),this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var e=this;this._clean(),this.changedOptions=[];var t=this.options.filter,n=0,r=!1;for(var i in this.configureOptions)this.configureOptions.hasOwnProperty(i)&&(this.allowCreation=!1,r=!1,"function"==typeof t?(r=t(i,[]),r=r||this._handleObject(this.configureOptions[i],[i],!0)):(t===!0||-1!==t.indexOf(i))&&(r=!0),r!==!1&&(this.allowCreation=!0,n>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),n++);this.options.showButton===!0&&!function(){var t=document.createElement("div");t.className="vis-network-configuration button",t.innerHTML="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-network-configuration button hover"},t.onmouseout=function(){t.className="vis-network-configuration button"},e.optionsContainer=document.createElement("div"),e.optionsContainer.className="vis-network-configuration vis-option-container",e.domElements.push(e.optionsContainer),e.domElements.push(t)}(),this._push(),this.colorPicker.insertTo(this.container)}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-network-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e])}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[]}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,n=0;n<e.length;n++){if(void 0===t[e[n]]){t=void 0;break}t=t[e[n]]}return t}},{key:"_makeItem",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];this.allowCreation===!0&&!function(){var n=document.createElement("div");n.className="vis-network-configuration item s"+e.length,r.forEach(function(e){n.appendChild(e)}),t.domElements.push(n)}()}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-network-configuration header",t.innerHTML=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var n=void 0===arguments[2]?!1:arguments[2],r=document.createElement("div");return r.className="vis-network-configuration label s"+t.length,n===!0?r.innerHTML="<i><b>"+e+":</b></i>":r.innerHTML=e+":",r}},{key:"_makeDropdown",value:function(e,t,n){var r=document.createElement("select");r.className="vis-network-configuration select";var i=0;void 0!==t&&-1!==e.indexOf(t)&&(i=e.indexOf(t));for(var s=0;s<e.length;s++){var o=document.createElement("option");o.value=e[s],s===i&&(o.selected="selected"),o.innerHTML=e[s],r.appendChild(o)}var u=this;r.onchange=function(){u._update(this.value,n)};var a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,r)}},{key:"_makeRange",value:function(e,t,n){var r=e[0],i=e[1],s=e[2],o=e[3],u=document.createElement("input");u.className="vis-network-configuration range";try{u.type="range",u.min=i,u.max=s}catch(a){}u.step=o,void 0!==t?(0>t&&i>2*t?u.min=2*t:i>.1*t&&(u.min=t/10),2*t>s&&1!==s&&(u.max=2*t),u.value=t):u.value=r;var f=document.createElement("input");f.className="vis-network-configuration rangeinput",f.value=u.value;var l=this;u.onchange=function(){f.value=this.value,l._update(Number(this.value),n)},u.oninput=function(){f.value=this.value};var c=this._makeLabel(n[n.length-1],n);this._makeItem(n,c,u,f)}},{key:"_makeCheckbox",value:function(e,t,n){var r=document.createElement("input");r.type="checkbox",r.className="vis-network-configuration checkbox",r.checked=e,void 0!==t&&(r.checked=t,t!==e&&("object"==typeof e?t!==e.enabled&&this.changedOptions.push({path:n,value:t}):this.changedOptions.push({path:n,value:t})));var i=this;r.onchange=function(){i._update(this.checked,n)};var s=this._makeLabel(n[n.length-1],n);this._makeItem(n,s,r)}},{key:"_makeTextInput",value:function(e,t,n){var r=document.createElement("input");r.type="text",r.className="vis-network-configuration text",r.value=t,t!==e&&this.changedOptions.push({path:n,value:t});var i=this;r.onchange=function(){i._update(this.value,n)};var s=this._makeLabel(n[n.length-1],n);this._makeItem(n,s,r)}},{key:"_makeColorField",value:function(e,t,n){var r=this,i=e[1],s=document.createElement("div");t=void 0===t?i:t,"none"!==t?(s.className="vis-network-configuration colorBlock",s.style.backgroundColor=t):s.className="vis-network-configuration colorBlock none",t=void 0===t?i:t,s.onclick=function(){r._showColorPicker(t,s,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,s)}},{key:"_showColorPicker",value:function(e,t,n){var r=this,i=t.getBoundingClientRect(),s=document.body.getBoundingClientRect(),o=i.left+i.width+5,u=i.top-s.top+.5*i.height;this.colorPicker.show(o,u),this.colorPicker.setColor(e),this.colorPicker.setCallback(function(e){var i="rgba("+e.r+","+e.g+","+e.b+","+e.a+")";t.style.backgroundColor=i,r._update(i,n)})}},{key:"_handleObject",value:function(e){var t=void 0===arguments[1]?[]:arguments[1],n=void 0===arguments[2]?!1:arguments[2],r=!1,i=this.options.filter,s=!1;for(var o in e)if(e.hasOwnProperty(o)){r=!0;var u=e[o],f=a.copyAndExtendArray(t,o);if("function"==typeof i&&(r=i(o,t),r===!1&&!(u instanceof Array)&&"string"!=typeof u&&"boolean"!=typeof u&&u instanceof Object&&(this.allowCreation=!1,r=this._handleObject(u,f,!0),this.allowCreation=n===!1)),r!==!1){s=!0;var l=this._getValue(f);if(u instanceof Array)this._handleArray(u,l,f);else if("string"==typeof u)this._makeTextInput(u,l,f);else if("boolean"==typeof u)this._makeCheckbox(u,l,f);else if(u instanceof Object){var c=!0;if(-1!==t.indexOf("physics")&&this.moduleOptions.physics.solver!==o&&(c=!1),c===!0)if(void 0!==u.enabled){var p=a.copyAndExtendArray(f,"enabled"),d=this._getValue(p);if(d===!0){var v=this._makeLabel(o,f,!0);this._makeItem(f,v),s=this._handleObject(u,f)||s}else this._makeCheckbox(u,d,f)}else{var v=this._makeLabel(o,f,!0);this._makeItem(f,v),s=this._handleObject(u,f)||s}}else console.error("dont know how to handle",u,o,f)}}return s}},{key:"_handleArray",value:function(e,t,n){"string"==typeof e[0]&&"color"===e[0]?(this._makeColorField(e,t,n),e[1]!==t&&this.changedOptions.push({path:n,value:t})):"string"==typeof e[0]?(this._makeDropdown(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:t})):"number"==typeof e[0]&&(this._makeRange(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:Number(t)}))}},{key:"_update",value:function(e,t){var n=this._constructOptions(e,t);this.parent.setOptions(n)}},{key:"_constructOptions",value:function(e,t){var n=void 0===arguments[2]?{}:arguments[2],r=n;e="true"===e?!0:e,e="false"===e?!1:e;for(var i=0;i<t.length;i++)"global"!==t[i]&&(void 0===r[t[i]]&&(r[t[i]]={}),i!==t.length-1?r=r[t[i]]:r[t[i]]=e);return n}},{key:"_printOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(e,null,2)+"</pre>"}}]),e}();t["default"]=f,e.exports=t["default"]},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(23),o=n(28),u=n(1),a=function(){function e(){var t=void 0===arguments[0]?1:arguments[0];r(this,e),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this._create()}return i(e,[{key:"insertTo",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker callback is not a function.");this.updateCallback=e}},{key:"_isColorString",value:function(e){var t={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};return"string"==typeof e?t[e]:void 0}},{key:"setColor",value:function(e){var t=void 0===arguments[1]?!0:arguments[1];if("none"!==e){var n=void 0,r=this._isColorString(e);if(void 0!==r&&(e=r),u.isString(e)===!0){if(u.isValidRGB(e)===!0){var i=e.substr(4).substr(0,e.length-5).split(",");n={r:i[0],g:i[1],b:i[2],a:1}}else if(u.isValidRGBA(e)===!0){var i=e.substr(5).substr(0,e.length-6).split(",");n={r:i[0],g:i[1],b:i[2],a:i[3]}}else if(u.isValidHex(e)===!0){var s=u.hexToRGB(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){var o=void 0!==e.a?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:o}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(n,t)}}},{key:"show",value:function(e,t){this.applied=!1,this.frame.style.display="block",this.frame.style.top=t+"px",this.frame.style.left=e+"px",this._generateHueCircle()}},{key:"_hide",value:function(){var e=void 0===arguments[0]?!0:arguments[0];e===!0&&(this.previousColor=u.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none"}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){var t=void 0===arguments[1]?!0:arguments[1];t===!0&&(this.initialColor=u.extend({},e)),this.color=e;var n=u.RGBToHSV(e.r,e.g,e.b),r=2*Math.PI,i=this.r*n.s,s=this.centerCoordinates.x+i*Math.sin(r*n.h),o=this.centerCoordinates.y+i*Math.cos(r*n.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=u.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;var n=u.HSVToRGB(t.h,t.s,t.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=void 0===arguments[0]?this.color:arguments[0],t=u.RGBToHSV(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,r,i),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-t.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var e=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(n){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(n){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var r=this;this.opacityRange.onchange=function(){r._setOpacity(this.value)},this.opacityRange.oninput=function(){r._setOpacity(this.value)},this.brightnessRange.onchange=function(){r._setBrightness(this.value)},this.brightnessRange.oninput=function(){r._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new s(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),o.onTouch(this.hammer,function(t){e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,n);var r=void 0,i=void 0,s=void 0,o=void 0;this.centerCoordinates={x:.5*t,y:.5*n},this.r=.49*t;var a=2*Math.PI/360,f=1/360,l=1/this.r,c=void 0;for(s=0;360>s;s++)for(o=0;o<this.r;o++)r=this.centerCoordinates.x+o*Math.sin(a*s),i=this.centerCoordinates.y+o*Math.cos(a*s),c=u.HSVToRGB(s*f,o*l,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(r-.5,i-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,n)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-t.left,r=e.center.y-t.top,i=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,o=n-s,a=r-i,f=Math.atan2(o,a),l=.98*Math.min(Math.sqrt(o*o+a*a),s),c=Math.cos(f)*l+i,h=Math.sin(f)*l+s;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";var p=f/(2*Math.PI);p=0>p?p+1:p;var d=l/this.r,v=u.RGBToHSV(this.color.r,this.color.g,this.color.b);v.h=p,v.s=d;var m=u.HSVToRGB(v.h,v.s,v.v);m.a=this.color.a,this.color=m,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),o=!1,u=void 0,a="background: #FFeeee; color: #dd0000",f=function(){function e(){r(this,e)}return i(e,null,[{key:"validate",value:function(t,n,r){o=!1,u=n;var i=n;return void 0!==r&&(i=n[r]),e.parse(t,i,[]),o}},{key:"parse",value:function(t,n,r){for(var i in t)t.hasOwnProperty(i)&&e.check(i,t,n,r)}},{key:"check",value:function(t,n,r,i){void 0===r[t]&&void 0===r.__any__?e.getSuggestion(t,r,i):void 0===r[t]&&void 0!==r.__any__?"object"===e.getType(n[t])&&void 0!==r.__any__.__type__?e.checkFields(t,n,r,"__any__",r.__any__.__type__,i):e.checkFields(t,n,r,"__any__",r.__any__,i):void 0!==r[t].__type__?e.checkFields(t,n,r,t,r[t].__type__,i):e.checkFields(t,n,r,t,r[t],i)}},{key:"checkFields",value:function(t,n,r,i,u,f){var l=e.getType(n[t]),c=u[l];void 0!==c?"array"===e.getType(c)&&-1===c.indexOf(n[t])?(console.log('%cInvalid option detected in "'+t+'". Allowed values are:'+e.print(c)+' not "'+n[t]+'". '+e.printLocation(f,t),a),o=!0):"object"===l&&"__any__"!==i&&(f=s.copyAndExtendArray(f,t),e.parse(n[t],r[i],f)):void 0===u.any&&(console.log('%cInvalid type received for "'+t+'". Expected: '+e.print(Object.keys(u))+". Received ["+l+'] "'+n[t]+'"'+e.printLocation(f,t),a),o=!0)}},{key:"getType",value:function(e){var t=typeof e;return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":e._isAMomentObject===!0?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(t,n,r){var i=e.findInOptions(t,n,r,!1),s=e.findInOptions(t,u,[],!0),f=8,l=4;void 0!==i.indexMatch?console.log('%cUnknown option detected: "'+t+'" in '+e.printLocation(i.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+'"?\n\n',a):s.distance<=l&&i.distance>s.distance?console.log('%cUnknown option detected: "'+t+'" in '+e.printLocation(i.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+e.printLocation(s.path,s.closestMatch,""),a):i.distance<=f?console.log('%cUnknown option detected: "'+t+'". Did you mean "'+i.closestMatch+'"?'+e.printLocation(i.path,t),a):console.log('%cUnknown option detected: "'+t+'". Did you mean one of these: '+e.print(Object.keys(n))+e.printLocation(r,t),a),o=!0}},{key:"findInOptions",value:function(t,n,r){var i=void 0===arguments[3]?!1:arguments[3],o=1e9,u="",a=[],f=t.toLowerCase(),l=void 0;for(var c in n){var h=void 0;if(void 0!==n[c].__type__&&i===!0){var p=e.findInOptions(t,n[c],s.copyAndExtendArray(r,c));o>p.distance&&(u=p.closestMatch,a=p.path,o=p.distance,l=p.indexMatch)}else-1!==c.toLowerCase().indexOf(f)&&(l=c),h=e.levenshteinDistance(t,c),o>h&&(u=c,a=s.copyArray(r),o=h)}return{closestMatch:u,path:a,distance:o,indexMatch:l}}},{key:"printLocation",value:function(e,t){for(var n=void 0===arguments[2]?"Problem value found at: \n":arguments[2],r="\n\n"+n+"options = {\n",i=0;i<e.length;i++){for(var s=0;i+1>s;s++)r+="  ";r+=e[i]+": {\n"}for(var s=0;s<e.length+1;s++)r+="  ";r+=t+"\n";for(var i=0;i<e.length+1;i++){for(var s=0;s<e.length-i;s++)r+="  ";r+="}\n"}return r+"\n\n"}},{key:"print",value:function(e){return JSON.stringify(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var n,r=[];for(n=0;n<=t.length;n++)r[n]=[n];var i;for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)==e.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}}]),e}();t["default"]=f,t.printStyle=a},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="string",r="boolean",i="number",s="array",o="date",u="object",a="dom",f="moment",l="any",c={configure:{enabled:{"boolean":r},filter:{"boolean":r,"function":"function"},container:{dom:a},__type__:{object:u,"boolean":r,"function":"function"}},align:{string:n},autoResize:{"boolean":r},clickToUse:{"boolean":r},dataAttributes:{string:n,array:s},editable:{add:{"boolean":r,"undefined":"undefined"},remove:{"boolean":r,"undefined":"undefined"},updateGroup:{"boolean":r,"undefined":"undefined"},updateTime:{"boolean":r,"undefined":"undefined"},__type__:{"boolean":r,object:u}},end:{number:i,date:o,string:n,moment:f},format:{minorLabels:{millisecond:{string:n,"undefined":"undefined"},second:{string:n,"undefined":"undefined"},minute:{string:n,"undefined":"undefined"},hour:{string:n,"undefined":"undefined"},weekday:{string:n,"undefined":"undefined"},day:{string:n,"undefined":"undefined"},month:{string:n,"undefined":"undefined"},year:{string:n,"undefined":"undefined"},__type__:{object:u}},majorLabels:{millisecond:{string:n,"undefined":"undefined"},second:{string:n,"undefined":"undefined"},minute:{string:n,"undefined":"undefined"},hour:{string:n,"undefined":"undefined"},weekday:{string:n,"undefined":"undefined"},day:{string:n,"undefined":"undefined"},month:{string:n,"undefined":"undefined"},year:{string:n,"undefined":"undefined"},__type__:{object:u}},__type__:{object:u}},groupOrder:{string:n,"function":"function"},height:{string:n,number:i},hiddenDates:{object:u,array:s},locale:{string:n},locales:{__any__:{any:l},__type__:{object:u}},margin:{axis:{number:i},item:{horizontal:{number:i,"undefined":"undefined"},vertical:{number:i,"undefined":"undefined"},__type__:{object:u,number:i}},__type__:{object:u,number:i}},max:{date:o,number:i,string:n,moment:f},maxHeight:{number:i,string:n},min:{date:o,number:i,string:n,moment:f},minHeight:{number:i,string:n},moveable:{"boolean":r},multiselect:{"boolean":r},onAdd:{"function":"function"},onUpdate:{"function":"function"},onMove:{"function":"function"},onMoving:{"function":"function"},onRemove:{"function":"function"},order:{"function":"function"},orientation:{axis:{string:n,"undefined":"undefined"},item:{string:n,"undefined":"undefined"},__type__:{string:n,object:u}},selectable:{"boolean":r},showCurrentTime:{"boolean":r},showMajorLabels:{"boolean":r},showMinorLabels:{"boolean":r},stack:{"boolean":r},snap:{"function":"function","null":"null"},start:{date:o,number:i,string:n,moment:f},template:{"function":"function"},timeAxis:{scale:{string:n,"undefined":"undefined"},step:{number:i,"undefined":"undefined"},__type__:{object:u}},type:{string:n},width:{string:n,number:i},zoomable:{"boolean":r},zoomMax:{number:i},zoomMin:{number:i},__type__:{object:u}},h={global:{align:["center","left","right"],autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",min:"",minHeight:"",moveable:!1,multiselect:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,start:"",type:["box","point","range","background"],width:"100%",zoomable:!0,zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};t.allOptions=c,t.configureOptions=h},function(e,t,n){function r(e,t,n,r){if(!(Array.isArray(n)||n instanceof s)&&n instanceof Object){var o=r;r=n,n=o}var a=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},width:null,height:null,maxHeight:null,minHeight:null},this.options=i.deepExtend({},this.defaultOptions),this._create(e),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:a._toScreen.bind(a),toGlobalScreen:a._toGlobalScreen.bind(a),toTime:a._toTime.bind(a),toGlobalTime:a._toGlobalTime.bind(a)}},this.range=new u(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new f(this.body),this.components.push(this.timeAxis),this.currentTime=new l(this.body),this.components.push(this.currentTime),this.linegraph=new h(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(e){a.emit("click",a.getEventProperties(e))}),this.on("doubletap",function(e){a.emit("doubleClick",a.getEventProperties(e))}),this.dom.root.oncontextmenu=function(e){a.emit("contextmenu",a.getEventProperties(e))},r&&this.setOptions(r),n&&this.setGroups(n),t?this.setItems(t):this._redraw()}var i=(n(13),n(23),n(1)),s=n(8),o=n(10),u=n(27),a=n(30),f=n(41),l=n(20),c=n(44),h=n(50),p=n(45),d=n(47)["default"],v=n(47).printStyle,m=n(58).allOptions,g=n(58).configureOptions;r.prototype=new a,r.prototype.setOptions=function(e){var t=d.validate(e,m);t===!0&&console.log("%cErrors have been found in the supplied options object.",v),a.prototype.setOptions.call(this,e)},r.prototype.setItems=function(e){var t,n=null==this.itemsData;if(t=e?e instanceof s||e instanceof o?e:new s(e,{type:{start:"Date",end:"Date"}}):null,this.itemsData=t,this.linegraph&&this.linegraph.setItems(t),n)if(void 0!=this.options.start||void 0!=this.options.end){var r=void 0!=this.options.start?this.options.start:null,i=void 0!=this.options.end?this.options.end:null;this.setWindow(r,i,{animation:!1})}else this.fit({animation:!1})},r.prototype.setGroups=function(e){var t;t=e?e instanceof s||e instanceof o?e:new s(e):null,this.groupsData=t,this.linegraph.setGroups(t)},r.prototype.getLegend=function(e,t,n){return void 0===t&&(t=15),void 0===n&&(n=15),void 0!==this.linegraph.groups[e]?this.linegraph.groups[e].getLegend(t,n):"cannot find group:"+e},r.prototype.isGroupVisible=function(e){return void 0!==this.linegraph.groups[e]?this.linegraph.groups[e].visible&&(void 0===this.linegraph.options.groups.visibility[e]||1==this.linegraph.options.groups.visibility[e]):!1},r.prototype.getDataRange=function(){var e=null,t=null;for(var n in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(n)&&1==this.linegraph.groups[n].visible)for(var r=0;r<this.linegraph.groups[n].itemsData.length;r++){var s=this.linegraph.groups[n].itemsData[r],o=i.convert(s.x,"Date").valueOf();e=null==e?o:e>o?o:e,t=null==t?o:o>t?o:t}return{min:null!=e?new Date(e):null,max:null!=t?new Date(t):null}},r.prototype.getEventProperties=function(e){var t=e.center?e.center.x:e.clientX,n=e.center?e.center.y:e.clientY,r=t-i.getAbsoluteLeft(this.dom.centerContainer),s=n-i.getAbsoluteTop(this.dom.centerContainer),o=this._toTime(r),u=c.customTimeFromTarget(e),a=i.getTarget(e),f=null;i.hasParent(a,this.timeAxis.dom.foreground)?f="axis":this.timeAxis2&&i.hasParent(a,this.timeAxis2.dom.foreground)?f="axis":i.hasParent(a,this.linegraph.yAxisLeft.dom.frame)?f="data-axis":i.hasParent(a,this.linegraph.yAxisRight.dom.frame)?f="data-axis":i.hasParent(a,this.linegraph.legendLeft.dom.frame)?f="legend":i.hasParent(a,this.linegraph.legendRight.dom.frame)?f="legend":null!=u?f="custom-time":i.hasParent(a,this.currentTime.bar)?f="current-time":i.hasParent(a,this.dom.center)&&(f="background");var l=[],h=this.linegraph.yAxisLeft,p=this.linegraph.yAxisRight;return h.hidden||l.push(h.screenToValue(s)),p.hidden||l.push(p.screenToValue(s)),{event:e,what:f,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:r,y:s,time:o,value:l}},r.prototype._createConfigurator=function(){return new p(this,this.dom.container,g)},e.exports=r},function(e,t,n){function r(e,t){this.id=i.randomUUID(),this.body=e,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(e){return e},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(e){return e},title:{text:void 0,style:void 0}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},groups:{visibility:{}}},this.options=i.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1;var n=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(e,t,r){n._onAdd(t.items)},update:function(e,t,r){n._onUpdate(t.items)},remove:function(e,t,r){n._onRemove(t.items)}},this.groupListeners={add:function(e,t,r){n._onAddGroups(t.items)},update:function(e,t,r){n._onUpdateGroups(t.items)},remove:function(e,t,r){n._onRemoveGroups(t.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(t),this.groupsUsingDefaultStyles=[0],this.COUNTER=0,this.body.emitter.on("rangechanged",function(){n.lastStart=n.body.range.start,n.svg.style.left=i.option.asSize(-n.props.width),n.redraw.call(n,!0)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.body.emitter.emit("change")}var i=n(1),s=n(7),o=n(8),u=n(10),a=n(21),f=n(51),l=n(53),c=n(57),h=n(56),p=(n(54),"__ungrouped__");r.prototype=new a,r.prototype._create=function(){var e=document.createElement("div");e.className="vis-line-graph",this.dom.frame=e,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",e.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new f(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new f(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new c(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new c(this.body,this.options.legend,"right",this.options.groups),this.show()},r.prototype.setOptions=function(e){if(e){var t=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===e.graphHeight&&void 0!==e.height&&void 0!==this.body.domProps.centerContainer.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==e.graphHeight&&parseInt((e.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),i.selectiveDeepExtend(t,this.options,e),i.mergeOptions(this.options,e,"interpolation"),i.mergeOptions(this.options,e,"drawPoints"),i.mergeOptions(this.options,e,"shaded"),i.mergeOptions(this.options,e,"legend"),e.interpolation&&"object"==typeof e.interpolation&&e.interpolation.parametrization&&("uniform"==e.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==e.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==e.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==e.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(p)&&this.groups[p].setOptions(e)}this.dom.frame&&this.redraw(!0)},r.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},r.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},r.prototype.setItems=function(e){var t,n=this,r=this.itemsData;if(e){if(!(e instanceof o||e instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=e}else this.itemsData=null;if(r&&(i.forEach(this.itemListeners,function(e,t){r.off(t,e)}),t=r.getIds(),this._onRemove(t)),this.itemsData){var s=this.id;i.forEach(this.itemListeners,function(e,t){n.itemsData.on(t,e,s)}),t=this.itemsData.getIds(),this._onAdd(t)}this._updateUngrouped(),this.redraw(!0)},r.prototype.setGroups=function(e){var t,n=this;if(this.groupsData&&(i.forEach(this.groupListeners,function(e,t){n.groupsData.off(t,e)}),t=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(t)),e){if(!(e instanceof o||e instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=e}else this.groupsData=null;if(this.groupsData){var r=this.id;i.forEach(this.groupListeners,function(e,t){n.groupsData.on(t,e,r)}),t=this.groupsData.getIds(),this._onAddGroups(t)}this._onUpdate()},r.prototype._onUpdate=function(e){this._updateUngrouped(),this._updateAllGroupData(),this.redraw(!0)},r.prototype._onAdd=function(e){this._onUpdate(e)},r.prototype._onRemove=function(e){this._onUpdate(e)},r.prototype._onUpdateGroups=function(e){for(var t=0;t<e.length;t++){var n=this.groupsData.get(e[t]);this._updateGroup(n,e[t])}this.redraw(!0)},r.prototype._onAddGroups=function(e){this._onUpdateGroups(e)},r.prototype._onRemoveGroups=function(e){for(var t=0;t<e.length;t++)this.groups.hasOwnProperty(e[t])&&("right"==this.groups[e[t]].options.yAxisOrientation?(this.yAxisRight.removeGroup(e[t]),this.legendRight.removeGroup(e[t]),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(e[t]),this.legendLeft.removeGroup(e[t]),this.legendLeft.redraw()),delete this.groups[e[t]]);this._updateUngrouped(),this.redraw(!0)},r.prototype._updateGroup=function(e,t){this.groups.hasOwnProperty(t)?(this.groups[t].update(e),"right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.updateGroup(t,this.groups[t]),this.legendRight.updateGroup(t,this.groups[t])):(this.yAxisLeft.updateGroup(t,this.groups[t]),this.legendLeft.updateGroup(t,this.groups[t]))):(this.groups[t]=new l(e,t,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.addGroup(t,this.groups[t]),this.legendRight.addGroup(t,this.groups[t])):(this.yAxisLeft.addGroup(t,this.groups[t]),this.legendLeft.addGroup(t,this.groups[t]))),this.legendLeft.redraw(),this.legendRight.redraw()},r.prototype._updateAllGroupData=function(){if(null!=this.itemsData){var e,t={};for(e in this.groups)this.groups.hasOwnProperty(e)&&(t[e]=[]);for(var n in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(n)){var r=this.itemsData._data[n];if(void 0===t[r.group])throw new Error("Cannot find referenced group. Possible reason: items added before groups? Groups need to be added before items, as items refer to groups.");r.x=i.convert(r.x,"Date"),t[r.group].push(r)}for(e in this.groups)this.groups.hasOwnProperty(e)&&this.groups[e].setItems(t[e])}},r.prototype._updateUngrouped=function(){if(this.itemsData&&null!=this.itemsData){var e=0;for(var t in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(t)){var n=this.itemsData._data[t];void 0!=n&&(n.hasOwnProperty("group")?void 0===n.group&&(n.group=p):n.group=p,e=n.group==p?e+1:e)}if(0==e)delete this.groups[p],this.legendLeft.removeGroup(p),this.legendRight.removeGroup(p),this.yAxisLeft.removeGroup(p),this.yAxisRight.removeGroup(p);else{var r={id:p,content:this.options.defaultGroup};this._updateGroup(r,p)}}else delete this.groups[p],this.legendLeft.removeGroup(p),this.legendRight.removeGroup(p),this.yAxisLeft.removeGroup(p),this.yAxisRight.removeGroup(p);this.legendLeft.redraw(),this.legendRight.redraw()},r.prototype.redraw=function(e){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,void 0===this.lastWidth&&this.props.width&&(e=!0),t=this._isResized()||t;var n=this.body.range.end-this.body.range.start,r=n!=this.lastVisibleInterval;if(this.lastVisibleInterval=n,1==t&&(this.svg.style.width=i.option.asSize(3*this.props.width),this.svg.style.left=i.option.asSize(-this.props.width),(-1!=(this.options.height+"").indexOf("%")||1==this.updateSVGheightOnResize)&&(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==r||1==this.abortedGraphUpdate||1==e)t=this._updateGraph()||t;else if(0!=this.lastStart){var s=this.body.range.start-this.lastStart,o=this.body.range.end-this.body.range.start;if(0!=this.props.width){var u=this.props.width/o,a=s*u;this.svg.style.left=-this.props.width-a+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),t},r.prototype._updateGraph=function(){if(s.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var e,t,n={},r={},i={},o=!1,u=[];for(var a in this.groups)this.groups.hasOwnProperty(a)&&(e=this.groups[a],1!=e.visible||void 0!==this.options.groups.visibility[a]&&1!=this.options.groups.visibility[a]||u.push(a));if(u.length>0){var f=this.body.util.toGlobalTime(-this.body.domProps.root.width),l=this.body.util.toGlobalTime(2*this.body.domProps.root.width),c={};for(this._getRelevantData(u,c,f,l),this._applySampling(u,c),t=0;t<u.length;t++)n[u[t]]=this._convertXcoordinates(c[u[t]]);this._getYRanges(u,n,i),o=this._updateYAxis(u,i);var p=5;if(1==o&&this.COUNTER<p)return s.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,this.COUNTER++,this.body.emitter.emit("change"),!0;for(this.COUNTER>p&&console.log("WARNING: there may be an infinite loop in the _updateGraph emitter cycle."),this.COUNTER=0,this.abortedGraphUpdate=!1,t=0;t<u.length;t++)e=this.groups[u[t]],r[u[t]]=this._convertYcoordinates(c[u[t]],e);for(t=0;t<u.length;t++)e=this.groups[u[t]],"bar"!=e.options.style&&e.draw(r[u[t]],e,this.framework);h.draw(u,r,this.framework)}}return s.cleanupElements(this.svgElements),!1},r.prototype._getRelevantData=function(e,t,n,r){var s,o,u,a;if(e.length>0)for(o=0;o<e.length;o++){s=this.groups[e[o]],t[e[o]]=[];var f=t[e[o]];if(1==s.options.sort){var l=Math.max(0,i.binarySearchValue(s.itemsData,n,"x","before"));for(u=l;u<s.itemsData.length;u++)if(a=s.itemsData[u],void 0!==a){if(a.x>r){f.push(a);break}f.push(a)}}else for(u=0;u<s.itemsData.length;u++)a=s.itemsData[u],void 0!==a&&a.x>n&&a.x<r&&f.push(a)}},r.prototype._applySampling=function(e,t){var n;if(e.length>0)for(var r=0;r<e.length;r++)if(n=this.groups[e[r]],1==n.options.sampling){var i=t[e[r]];if(i.length>0){var s=1,o=i.length,u=this.body.util.toGlobalScreen(i[i.length-1].x)-this.body.util.toGlobalScreen(i[0].x),a=o/u;s=Math.min(Math.ceil(.2*o),Math.max(1,Math.round(a)));for(var f=[],l=0;o>l;l+=s)f.push(i[l]);t[e[r]]=f}}},r.prototype._getYRanges=function(e,t,n){var r,i,s,o,u=[],a=[];if(e.length>0){for(s=0;s<e.length;s++)r=t[e[s]],o=this.groups[e[s]].options,r.length>0&&(i=this.groups[e[s]],o.stack===!0&&"bar"===o.style?"left"===o.yAxisOrientation?u=u.concat(i.getData(r)):a=a.concat(i.getData(r)):n[e[s]]=i.getYRange(r,e[s]));h.getStackedYRange(u,n,e,"__barStackLeft","left"),h.getStackedYRange(a,n,e,"__barStackRight","right")}},r.prototype._updateYAxis=function(e,t){var n,r,i=!1,s=!1,o=!1,u=1e9,a=1e9,f=-1e9,l=-1e9;if(e.length>0){for(var c=0;c<e.length;c++){var h=this.groups[e[c]];h&&"right"!=h.options.yAxisOrientation?(s=!0,u=0,f=0):h&&h.options.yAxisOrientation&&(o=!0,a=0,l=0)}for(var c=0;c<e.length;c++)t.hasOwnProperty(e[c])&&t[e[c]].ignore!==!0&&(n=t[e[c]].min,r=t[e[c]].max,"right"!=t[e[c]].yAxisOrientation?(s=!0,u=u>n?n:u,f=r>f?r:f):(o=!0,a=a>n?n:a,l=r>l?r:l));1==s&&this.yAxisLeft.setRange(u,f),1==o&&this.yAxisRight.setRange(a,l)}i=this._toggleAxisVisiblity(s,this.yAxisLeft)||i,i=this._toggleAxisVisiblity(o,this.yAxisRight)||i,1==o&&1==s?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!s,0==this.yAxisRight.master?(1==o?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,i=this.yAxisLeft.redraw()||i,this.yAxisRight.stepPixels=this.yAxisLeft.stepPixels,this.yAxisRight.zeroCrossing=this.yAxisLeft.zeroCrossing,this.yAxisRight.amountOfSteps=this.yAxisLeft.amountOfSteps,i=this.yAxisRight.redraw()||i):i=this.yAxisRight.redraw()||i;for(var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],c=0;c<p.length;c++)-1!=e.indexOf(p[c])&&e.splice(e.indexOf(p[c]),1);return i},r.prototype._toggleAxisVisiblity=function(e,t){var n=!1;return 0==e?t.dom.frame.parentNode&&0==t.hidden&&(t.hide(),n=!0):t.dom.frame.parentNode||1!=t.hidden||(t.show(),n=!0),n},r.prototype._convertXcoordinates=function(e){for(var t,n,r=[],i=this.body.util.toScreen,s=0;s<e.length;s++)t=i(e[s].x)+this.props.width,n=e[s].y,r.push({x:t,y:n});return r},r.prototype._convertYcoordinates=function(e,t){var n,r,i=[],s=this.body.util.toScreen,o=this.yAxisLeft,u=Number(this.svg.style.height.replace("px",""));"right"==t.options.yAxisOrientation&&(o=this.yAxisRight);for(var a=0;a<e.length;a++){var f=e[a].label?e[a].label:null;n=s(e[a].x)+this.props.width,r=Math.round(o.convertValue(e[a].y)),i.push({x:n,y:r,label:f})}return t.setZeroPosition(Math.min(u,o.convertValue(0))),i},e.exports=r},function(e,t,n){function r(e,t,n,r){this.id=i.randomUUID(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!0,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(e){return e},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(e){return e},title:{text:void 0,style:void 0}}},this.linegraphOptions=r,this.linegraphSVG=n,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.range={start:0,end:0},this.options=i.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(t),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.offsetHeight,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create();var s=this;this.body.emitter.on("verticalDrag",function(){s.dom.lineContainer.style.top=s.body.domProps.scrollTop+"px"})}var i=n(1),s=n(7),o=n(21),u=n(52);r.prototype=new o,r.prototype.addGroup=function(e,t){this.groups.hasOwnProperty(e)||(this.groups[e]=t),this.amountOfGroups+=1},r.prototype.updateGroup=function(e,t){this.groups[e]=t},r.prototype.removeGroup=function(e){this.groups.hasOwnProperty(e)&&(delete this.groups[e],this.amountOfGroups-=1)},r.prototype.setOptions=function(e){if(e){var t=!1;this.options.orientation!=e.orientation&&void 0!==e.orientation&&(t=!0);var n=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];i.selectiveExtend(n,this.options,e),this.minWidth=Number((""+this.options.width).replace("px","")),t===!0&&this.dom.frame&&(this.hide(),this.show())}},r.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},r.prototype._redrawGroupIcons=function(){s.prepareElements(this.svgElements);var e,t=this.options.iconWidth,n=15,r=4,i=r+.5*n;e="left"===this.options.orientation?r:this.width-t-r;var o=Object.keys(this.groups);o.sort(function(e,t){return t>e?-1:1});for(var u=0;u<o.length;u++){var a=o[u];this.groups[a].visible!==!0||void 0!==this.linegraphOptions.visibility[a]&&this.linegraphOptions.visibility[a]!==!0||(this.groups[a].drawIcon(e,i,this.svgElements,this.svg,t,n),i+=n+r)}s.cleanupElements(this.svgElements),this.iconsRemoved=!1},r.prototype._cleanupIcons=function(){this.iconsRemoved===!1&&(s.prepareElements(this.svgElements),s.cleanupElements(this.svgElements),this.iconsRemoved=!0)},r.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},r.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},r.prototype.setRange=function(e,t){this.master===!1&&this.options.alignZeros===!0&&-1!=this.zeroCrossing&&e>0&&(e=0),this.range.start=e,this.range.end=t},r.prototype.redraw=function(){var e=!1,t=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var n in this.groups)this.groups.hasOwnProperty(n)&&(this.groups[n].visible!==!0||void 0!==this.linegraphOptions.visibility[n]&&this.linegraphOptions.visibility[n]!==!0||t++);if(0===this.amountOfGroups||0===t)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=this.options.visible===!0?Number((""+this.options.width).replace("px","")):0;var r=this.props,i=this.dom.frame;i.className="vis-data-axis",this._calculateCharSize();var s=this.options.orientation,o=this.options.showMinorLabels,u=this.options.showMajorLabels;r.minorLabelHeight=o?r.minorCharHeight:0,r.majorLabelHeight=u?r.majorCharHeight:0,r.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,r.minorLineHeight=1,r.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,r.majorLineHeight=1,"left"===s?(i.style.top="0",i.style.left="0",i.style.bottom="",i.style.width=this.width+"px",i.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(i.style.top="",i.style.bottom="0",i.style.left="0",i.style.width=this.width+"px",i.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(s)}return e},r.prototype._redrawLabels=function(){var e=!1;s.prepareElements(this.DOMelements.lines),s.prepareElements(this.DOMelements.labels);var t,n=this.options.orientation;if(this.master===!1){var r,i,o,f;-1!==this.zeroCrossing&&this.options.alignZeros===!0?this.range.end>0?(r=this.range.end/this.zeroCrossing,i=this.range.end-this.amountOfSteps*r,o=this.range.end):(r=-1*this.range.start/(this.amountOfSteps-this.zeroCrossing),i=this.range.start,o=this.range.start+r*this.amountOfSteps):(i=this.range.start,o=this.range.end),f=this.stepPixels}else f=this.props.majorCharHeight,i=this.range.start,o=this.range.end;if(this.step=t=new u(i,o,f,this.dom.frame.offsetHeight,this.options[this.options.orientation].range,this.options[this.options.orientation].format,this.master===!1&&this.options.alignZeros),this.master===!0)this.stepPixels=this.dom.frame.offsetHeight/t.marginRange*t.step,this.amountOfSteps=Math.ceil(this.dom.frame.offsetHeight/this.stepPixels);else if(this.options.alignZeros===!0&&-1!==this.zeroCrossing){var l=(t.current-this.zeroCrossing*t.step)/t.step;this.step.shift(l)}this.valueAtBottom=t.marginEnd,this.maxLabelSize=0;for(var c=0,h=0,p=!1;h<this.amountOfSteps;)c=Math.round(h*this.stepPixels),p=t.isMajor(),h>0&&h!==this.amountOfSteps&&((this.options.showMinorLabels&&p===!1||this.master===!1&&this.options.showMinorLabels===!0)&&this._redrawLabel(c-2,t.getCurrent(),n,"vis-y-axis vis-minor",this.props.minorCharHeight),p&&this.options.showMajorLabels&&this.master===!0||this.options.showMinorLabels===!1&&this.master===!1&&p===!0?(c>=0&&this._redrawLabel(c-2,t.getCurrent(),n,"vis-y-axis vis-major",this.props.majorCharHeight),this._redrawLine(c,n,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth)):this._redrawLine(c,n,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth)),this.master===!0&&0===t.current&&(this.zeroCrossing=h),t.next(),h+=1;this.master===!0&&0===t.current&&(this.zeroCrossing=h),this.conversionFactor=this.stepPixels/t.step;var d=0;void 0!==this.options[n].title&&void 0!==this.options[n].title.text&&(d=this.props.titleCharHeight);var v=this.options.icons===!0?Math.max(this.options.iconWidth,d)+this.options.labelOffsetX+15:d+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-v&&this.options.visible===!0?(this.width=this.maxLabelSize+v,this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-v&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+v),this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):(s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),e=!1),e},r.prototype.convertValue=function(e){var t=this.valueAtBottom-e,n=t*this.conversionFactor;return n},r.prototype.screenToValue=function(e){return this.valueAtBottom-e/this.conversionFactor},r.prototype._redrawLabel=function(e,t,n,r,i){var o=s.getDOMElement("div",this.DOMelements.labels,this.dom.frame);o.className=r,o.innerHTML=t,"left"===n?(o.style.left="-"+this.options.labelOffsetX+"px",o.style.textAlign="right"):(o.style.right="-"+this.options.labelOffsetX+"px",o.style.textAlign="left"),o.style.top=e-.5*i+this.options.labelOffsetY+"px",t+="";var u=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<t.length*u&&(this.maxLabelSize=t.length*u)},r.prototype._redrawLine=function(e,t,n,r,i){if(this.master===!0){var o=s.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);o.className=n,o.innerHTML="","left"===t?o.style.left=this.width-r+"px":o.style.right=this.width-r+"px",o.style.width=i+"px",o.style.top=e+"px"}},r.prototype._redrawTitle=function(e){if(s.prepareElements(this.DOMelements.title),void 0!==this.options[e].title&&void 0!==this.options[e].title.text){var t=s.getDOMElement("div",this.DOMelements.title,this.dom.frame);t.className="vis-y-axis vis-title vis-"+e,t.innerHTML=this.options[e].title.text,void 0!==this.options[e].title.style&&i.addCssText(t,this.options[e].title.style),"left"===e?t.style.left=this.props.titleCharHeight+"px":t.style.right=this.props.titleCharHeight+"px",t.style.width=this.height+"px"}s.cleanupElements(this.DOMelements.title)},r.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-minor vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.minorCharHeight=t.clientHeight,this.props.minorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("majorCharHeight"in this.props)){var n=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-major vis-measure",r.appendChild(n),this.dom.frame.appendChild(r),this.props.majorCharHeight=r.clientHeight,this.props.majorCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}if(!("titleCharHeight"in this.props)){var i=document.createTextNode("0"),s=document.createElement("div");s.className="vis-y-axis vis-title vis-measure",s.appendChild(i),this.dom.frame.appendChild(s),this.props.titleCharHeight=s.clientHeight,this.props.titleCharWidth=s.clientWidth,this.dom.frame.removeChild(s)}},e.exports=r},function(e,t){function n(e,t,n,r,i,s,o){this.current=0,this.autoScale=!0,this.stepIndex=0,this.step=1,this.scale=1,this.formattingFunction=s,this.marginStart,this.marginEnd,this.deadSpace=0,this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.alignZeros=o,this.setRange(e,t,n,r,i)}n.prototype.setRange=function(e,t,n,r,i){this._start=void 0===i.min?e:i.min,this._end=void 0===i.max?t:i.max,this._start===this._end&&(this._start=void 0===i.min?this._start-.75:this._start,this._end=void 0===i.max?this._end+1:this._end),this.autoScale===!0&&this.setMinimumStep(n,r),this.setFirst(i)},n.prototype.setMinimumStep=function(e,t){var n=this._end-this._start,r=1.2*n,i=e*(r/t),s=Math.round(Math.log(r)/Math.LN10),o=-1,u=Math.pow(10,s),a=0;0>s&&(a=s);for(var f=!1,l=a;Math.abs(l)<=Math.abs(s);l++){u=Math.pow(10,l);for(var c=0;c<this.minorSteps.length;c++){var h=u*this.minorSteps[c];if(h>=i){f=!0,o=c;break}}if(f===!0)break}this.stepIndex=o,this.scale=u,this.step=u*this.minorSteps[o]},n.prototype.setFirst=function(e){void 0===e&&(e={});var t=void 0===e.min?this._start-2*this.scale*this.minorSteps[this.stepIndex]:e.min,n=void 0===e.max?this._end+this.scale*this.minorSteps[this.stepIndex]:e.max;this.marginEnd=void 0===e.max?this.roundToMinor(n):e.max,this.marginStart=void 0===e.min?this.roundToMinor(t):e.min,this.alignZeros===!0&&(this.marginEnd-this.marginStart)%this.step!=0&&(this.marginEnd+=this.marginEnd%this.step),this.deadSpace=this.roundToMinor(n)-n+this.roundToMinor(t)-t,this.marginRange=this.marginEnd-this.marginStart,this.current=this.marginEnd},n.prototype.roundToMinor=function(e){var t=e-e%(this.scale*this.minorSteps[this.stepIndex]);return e%(this.scale*this.minorSteps[this.stepIndex])>.5*this.scale*this.minorSteps[this.stepIndex]?t+this.scale*this.minorSteps[this.stepIndex]:t},n.prototype.hasNext=function(){return this.current>=this.marginStart},n.prototype.next=function(){var e=this.current;this.current-=this.step,this.current===e&&(this.current=this._end)},n.prototype.previous=function(){this.current+=this.step,this.marginEnd+=this.step,this.marginRange=this.marginEnd-this.marginStart},n.prototype.getCurrent=function(){var e=Math.abs(this.current)<this.step/2?0:this.current,t=e.toPrecision(5);return"function"==typeof this.formattingFunction&&(t=this.formattingFunction(e)),"number"==typeof t?""+t:"string"==typeof t?t:e.toPrecision(5)},n.prototype.isMajor=function(){return this.current%(this.scale*this.majorSteps[this.stepIndex])===0},n.prototype.shift=function(e){if(0>e)for(var t=0;-e>t;t++)this.previous();else if(e>0)for(var t=0;e>t;t++)this.next()},e.exports=n},function(e,t,n){function r(e,t,n,r){this.id=t;var s=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation"];this.options=i.selectiveBridgeObject(s,n),this.usingDefaultStyle=void 0===e.className,this.groupsUsingDefaultStyles=r,this.zeroPosition=0,this.update(e),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===e.visible?!0:e.visible}var i=n(1),s=n(7),o=n(54),u=n(56),a=n(55);r.prototype.setItems=function(e){null!=e?(this.itemsData=e,1==this.options.sort&&this.itemsData.sort(function(e,t){return e.x-t.x})):this.itemsData=[]},r.prototype.setZeroPosition=function(e){this.zeroPosition=e},r.prototype.setOptions=function(e){if(void 0!==e){var t=["sampling","style","sort","yAxisOrientation","barChart"];i.selectiveDeepExtend(t,this.options,e),i.mergeOptions(this.options,e,"interpolation"),i.mergeOptions(this.options,e,"drawPoints"),i.mergeOptions(this.options,e,"shaded"),e.interpolation&&"object"==typeof e.interpolation&&e.interpolation.parametrization&&("uniform"==e.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==e.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}"line"==this.options.style?this.type=new o(this.id,this.options):"bar"==this.options.style?this.type=new u(this.id,this.options):"points"==this.options.style&&(this.type=new a(this.id,this.options))},r.prototype.update=function(e){this.group=e,this.content=e.content||"graph",this.className=e.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===e.visible?!0:e.visible,this.style=e.style,this.setOptions(e.options)},r.prototype.drawIcon=function(e,t,n,r,i,o){var u,a,f=.5*o,l=s.getSVGElement("rect",n,r);if(l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",t-f),l.setAttributeNS(null,"width",i),l.setAttributeNS(null,"height",2*f),l.setAttributeNS(null,"class","vis-outline"),"line"==this.options.style)u=s.getSVGElement("path",n,r),u.setAttributeNS(null,"class",this.className),void 0!==this.style&&u.setAttributeNS(null,"style",this.style),u.setAttributeNS(null,"d","M"+e+","+t+" L"+(e+i)+","+t),1==this.options.shaded.enabled&&(a=s.getSVGElement("path",n,r),"top"==this.options.shaded.orientation?a.setAttributeNS(null,"d","M"+e+", "+(t-f)+"L"+e+","+t+" L"+(e+i)+","+t+" L"+(e+i)+","+(t-f)):a.setAttributeNS(null,"d","M"+e+","+t+" L"+e+","+(t+f)+" L"+(e+i)+","+(t+f)+"L"+(e+i)+","+t),a.setAttributeNS(null,"class",this.className+" vis-icon-fill")),1==this.options.drawPoints.enabled&&s.drawPoint(e+.5*i,t,this,n,r);else{var c=Math.round(.3*i),h=Math.round(.4*o),p=Math.round(.75*o),d=Math.round((i-2*c)/3);s.drawBar(e+.5*c+d,t+f-h-1,c,h,this.className+" vis-bar",n,r,this.style),s.drawBar(e+1.5*c+d+2,t+f-p-1,c,p,this.className+" vis-bar",n,r,this.style)}},r.prototype.getLegend=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return this.drawIcon(0,.5*t,[],n,e,t),{icon:n,label:this.content,orientation:this.options.yAxisOrientation}},r.prototype.getYRange=function(e){return this.type.getYRange(e)},r.prototype.getData=function(e){return this.type.getData(e)},r.prototype.draw=function(e,t,n){this.type.draw(e,t,n)},e.exports=r},function(e,t,n){function r(e,t){this.groupId=e,this.options=t}var i=n(7),s=n(55);r.prototype.getData=function(e){for(var t=[],n=0;n<e.length;n++)t.push({x:e[n].x,y:e[n].y,groupId:this.groupId});return t},r.prototype.getYRange=function(e){for(var t=e[0].y,n=e[0].y,r=0;r<e.length;r++)t=t>e[r].y?e[r].y:t,n=n<e[r].y?e[r].y:n;return{min:t,max:n,yAxisOrientation:this.options.yAxisOrientation}},r.getStackedYRange=function(e,t,n,i,s){if(e.length>0){e.sort(function(e,t){return e.x===t.x?e.groupId<t.groupId?-1:1:e.x-t.x});var u={};r._getDataIntersections(u,e),t[i]=r._getStackedYRange(u,e),t[i].yAxisOrientation=s,n.push(i)}},r._getStackedYRange=function(e,t){for(var n,r=t[0].y,i=t[0].y,s=0;s<t.length;s++)n=t[s].x,void 0===e[n]?(r=r>t[s].y?t[s].y:r,i=i<t[s].y?t[s].y:i):t[s].y<0?e[n].accumulatedNegative+=t[s].y:e[n].accumulatedPositive+=t[s].y;for(var o in e)e.hasOwnProperty(o)&&(r=r>e[o].accumulatedNegative?e[o].accumulatedNegative:r,r=r>e[o].accumulatedPositive?e[o].accumulatedPositive:r,i=i<e[o].accumulatedNegative?e[o].accumulatedNegative:i,i=i<e[o].accumulatedPositive?e[o].accumulatedPositive:i);return{min:r,max:i}},r._getDataIntersections=function(e,t){for(var n,r=0;r<t.length;r++)r+1<t.length&&(n=Math.abs(t[r+1].x-t[r].x)),r>0&&(n=Math.min(n,Math.abs(t[r-1].x-t[r].x))),0===n&&(void 0===e[t[r].x]&&(e[t[r].x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),e[t[r].x].amount+=1)},r.prototype.draw=function(e,t,n){if(null!=e&&e.length>0){var u,a,f=Number(n.svg.style.height.replace("px",""));if(u=i.getSVGElement("path",n.svgElements,n.svg),u.setAttributeNS(null,"class",t.className),void 0!==t.style&&u.setAttributeNS(null,"style",t.style),a=1==t.options.interpolation.enabled?r._catmullRom(e,t):r._linear(e),1==t.options.shaded.enabled){var l,c=i.getSVGElement("path",n.svgElements,n.svg);l="top"==t.options.shaded.orientation?"M"+e[0].x+",0 "+a+"L"+e[e.length-1].x+",0":"M"+e[0].x+","+f+" "+a+"L"+e[e.length-1].x+","+f,c.setAttributeNS(null,"class",t.className+" vis-fill"),void 0!==t.options.shaded.style&&c.setAttributeNS(null,"style",t.options.shaded.style),c.setAttributeNS(null,"d",l)}u.setAttributeNS(null,"d","M"+a),1==t.options.drawPoints.enabled&&s.draw(e,t,n)}},r._catmullRomUniform=function(e){for(var t,n,r,i,s,o,u=Math.round(e[0].x)+","+Math.round(e[0].y)+" ",a=1/6,f=e.length,l=0;f-1>l;l++)t=0==l?e[0]:e[l-1],n=e[l],r=e[l+1],i=f>l+2?e[l+2]:r,s={x:(-t.x+6*n.x+r.x)*a,y:(-t.y+6*n.y+r.y)*a},o={x:(n.x+6*r.x-i.x)*a,y:(n.y+6*r.y-i.y)*a},u+="C"+s.x+","+s.y+" "+o.x+","+o.y+" "+r.x+","+r.y+" ";return u},r._catmullRom=function(e,t){var n=t.options.interpolation.alpha;if(0==n||void 0===n)return this._catmullRomUniform(e);for(var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S=Math.round(e[0].x)+","+Math.round(e[0].y)+" ",x=e.length,T=0;x-1>T;T++)r=0==T?e[0]:e[T-1],i=e[T],s=e[T+1],o=x>T+2?e[T+2]:s,f=Math.sqrt(Math.pow(r.x-i.x,2)+Math.pow(r.y-i.y,2)),l=Math.sqrt(Math.pow(i.x-s.x,2)+Math.pow(i.y-s.y,2)),c=Math.sqrt(Math.pow(s.x-o.x,2)+Math.pow(s.y-o.y,2)),m=Math.pow(c,n),y=Math.pow(c,2*n),g=Math.pow(l,n),b=Math.pow(l,2*n),E=Math.pow(f,n),w=Math.pow(f,2*n),h=2*w+3*E*g+b,p=2*y+3*m*g+b,d=3*E*(E+g),d>0&&(d=1/d),v=3*m*(m+g),v>0&&(v=1/v),u={x:(-b*r.x+h*i.x+w*s.x)*d,y:(-b*r.y+h*i.y+w*s.y)*d},a={x:(y*i.x+p*s.x-b*o.x)*v,y:(y*i.y+p*s.y-b*o.y)*v},0==u.x&&0==u.y&&(u=i),0==a.x&&0==a.y&&(a=s),S+="C"+u.x+","+u.y+" "+a.x+","+a.y+" "+s.x+","+s.y+" ";return S},r._linear=function(e){for(var t="",n=0;n<e.length;n++)t+=0==n?e[n].x+","+e[n].y:" "+e[n].x+","+e[n].y;return t},e.exports=r},function(e,t,n){function r(e,t){this.groupId=e,this.options=t}var i=n(7);r.prototype.getYRange=function(e){for(var t=e[0].y,n=e[0].y,r=0;r<e.length;r++)t=t>e[r].y?e[r].y:t,n=n<e[r].y?e[r].y:n;return{min:t,max:n,yAxisOrientation:this.options.yAxisOrientation}},r.prototype.draw=function(e,t,n,i){r.draw(e,t,n,i)},r.draw=function(e,t,n,r){void 0===r&&(r=0);for(var s=0;s<e.length;s++)i.drawPoint(e[s].x+r,e[s].y,t,n.svgElements,n.svg,e[s].label)},e.exports=r},function(e,t,n){function r(e,t){this.groupId=e,this.options=t}var i=n(7),s=n(55);r.prototype.getYRange=function(e){for(var t=e[0].y,n=e[0].y,r=0;r<e.length;r++)t=t>e[r].y?e[r].y:t,n=n<e[r].y?e[r].y:n;return{min:t,max:n,yAxisOrientation:this.options.yAxisOrientation}},r.prototype.getData=function(e){for(var t=[],n=0;n<e.length;n++)t.push({x:e[n].x,y:e[n].y,groupId:this.groupId});return t},r.draw=function(e,t,n){var u,a,f,l,c,h,p=[],d={},v=0;for(c=0;c<e.length;c++)if(l=n.groups[e[c]],"bar"===l.options.style&&l.visible===!0&&(void 0===n.options.groups.visibility[e[c]]||n.options.groups.visibility[e[c]]===!0))for(h=0;h<t[e[c]].length;h++)p.push({x:t[e[c]][h].x,y:t[e[c]][h].y,groupId:e[c],label:t[e[c]][h].label}),v+=1;if(0!==v)for(p.sort(function(e,t){return e.x===t.x?e.groupId<t.groupId?-1:1:e.x-t.x}),r._getDataIntersections(d,p),c=0;c<p.length;c++){l=n.groups[p[c].groupId];var m=.1*l.options.barChart.width;a=p[c].x;var g=0;if(void 0===d[a])c+1<p.length&&(u=Math.abs(p[c+1].x-a)),c>0&&(u=Math.min(u,Math.abs(p[c-1].x-a))),f=r._getSafeDrawData(u,l,m);else{var y=c+(d[a].amount-d[a].resolved),b=c-(d[a].resolved+1);y<p.length&&(u=Math.abs(p[y].x-a)),b>0&&(u=Math.min(u,Math.abs(p[b].x-a))),f=r._getSafeDrawData(u,l,m),d[a].resolved+=1,l.options.stack===!0?p[c].y<l.zeroPosition?(g=d[a].accumulatedNegative,d[a].accumulatedNegative+=l.zeroPosition-p[c].y):(g=d[a].accumulatedPositive,d[a].accumulatedPositive+=l.zeroPosition-p[c].y):l.options.barChart.sideBySide===!0&&(f.width=f.width/d[a].amount,f.offset+=d[a].resolved*f.width-.5*f.width*(d[a].amount+1),"left"===l.options.barChart.align?f.offset-=.5*f.width:"right"===l.options.barChart.align&&(f.offset+=.5*f.width))}i.drawBar(p[c].x+f.offset,p[c].y-g,f.width,l.zeroPosition-p[c].y,l.className+" vis-bar",n.svgElements,n.svg,l.style),l.options.drawPoints.enabled===!0&&s.draw([p[c]],l,n,f.offset)}},r._getDataIntersections=function(e,t){for(var n,r=0;r<t.length;r++)r+1<t.length&&(n=Math.abs(t[r+1].x-t[r].x)),r>0&&(n=Math.min(n,Math.abs(t[r-1].x-t[r].x))),0===n&&(void 0===e[t[r].x]&&(e[t[r].x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),e[t[r].x].amount+=1)},r._getSafeDrawData=function(e,t,n){var r,i;return e<t.options.barChart.width&&e>0?(r=n>e?n:e,i=0,"left"===t.options.barChart.align?i-=.5*e:"right"===t.options.barChart.align&&(i+=.5*e)):(r=t.options.barChart.width,i=0,"left"===t.options.barChart.align?i-=.5*t.options.barChart.width:"right"===t.options.barChart.align&&(i+=.5*t.options.barChart.width)),{width:r,offset:i}},r.getStackedYRange=function(e,t,n,i,s){if(e.length>0){e.sort(function(e,t){return e.x===t.x?e.groupId<t.groupId?-1:1:e.x-t.x});var u={};r._getDataIntersections(u,e),t[i]=r._getStackedYRange(u,e),t[i].yAxisOrientation=s,n.push(i)}},r._getStackedYRange=function(e,t){for(var n,r=t[0].y,i=t[0].y,s=0;s<t.length;s++)n=t[s].x,void 0===e[n]?(r=r>t[s].y?t[s].y:r,i=i<t[s].y?t[s].y:i):t[s].y<0?e[n].accumulatedNegative+=t[s].y:e[n].accumulatedPositive+=t[s].y;for(var o in e)e.hasOwnProperty(o)&&(r=r>e[o].accumulatedNegative?e[o].accumulatedNegative:r,r=r>e[o].accumulatedPositive?e[o].accumulatedPositive:r,i=i<e[o].accumulatedNegative?e[o].accumulatedNegative:i,i=i<e[o].accumulatedPositive?e[o].accumulatedPositive:i);return{min:r,max:i}},e.exports=r},function(e,t,n){function r(e,t,n,r){this.body=e,this.defaultOptions={enabled:!0,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-left"}},this.side=n,this.options=i.extend({},this.defaultOptions),this.linegraphOptions=r,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.setOptions(t)}var i=n(1),s=n(7),o=n(21);r.prototype=new o,r.prototype.clear=function(){this.groups={},this.amountOfGroups=0},r.prototype.addGroup=function(e,t){this.groups.hasOwnProperty(e)||(this.groups[e]=t),this.amountOfGroups+=1},r.prototype.updateGroup=function(e,t){this.groups[e]=t},r.prototype.removeGroup=function(e){this.groups.hasOwnProperty(e)&&(delete this.groups[e],this.amountOfGroups-=1)},r.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},r.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},r.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},r.prototype.setOptions=function(e){var t=["enabled","orientation","icons","left","right"];i.selectiveDeepExtend(t,this.options,e)},r.prototype.redraw=function(){var e=0,t=Object.keys(this.groups);t.sort(function(e,t){return t>e?-1:1});for(var n=0;n<t.length;n++){var r=t[n];1!=this.groups[r].visible||void 0!==this.linegraphOptions.visibility[r]&&1!=this.linegraphOptions.visibility[r]||e++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==e)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var i=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+i+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());for(var s="",n=0;n<t.length;n++){var r=t[n];1!=this.groups[r].visible||void 0!==this.linegraphOptions.visibility[r]&&1!=this.linegraphOptions.visibility[r]||(s+=this.groups[r].content+"<br />")}this.dom.textArea.innerHTML=s,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},r.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var e=Object.keys(this.groups);e.sort(function(e,t){return t>e?-1:1}),s.prepareElements(this.svgElements);var t=window.getComputedStyle(this.dom.frame).paddingTop,n=Number(t.replace("px","")),r=n,i=this.options.iconSize,o=.75*this.options.iconSize,u=n+.5*o+3;this.svg.style.width=i+5+n+"px";for(var a=0;a<e.length;a++){var f=e[a];1!=this.groups[f].visible||void 0!==this.linegraphOptions.visibility[f]&&1!=this.linegraphOptions.visibility[f]||(this.groups[f].drawIcon(r,u,this.svgElements,this.svg,i,o),u+=o+this.options.iconSpacing)}s.cleanupElements(this.svgElements)}},e.exports=r},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="string",r="boolean",i="number",s="array",o="date",u="object",a="dom",f="moment",l="any",c={configure:{enabled:{"boolean":r},filter:{"boolean":r,"function":"function"},container:{dom:a},__type__:{object:u,"boolean":r,"function":"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:n},sort:{"boolean":r},sampling:{"boolean":r},stack:{"boolean":r},graphHeight:{string:n,number:i},shaded:{enabled:{"boolean":r},orientation:{string:["bottom","top"]},__type__:{"boolean":r,object:u}},style:{string:["line","bar","points"]},barChart:{width:{number:i},sideBySide:{"boolean":r},align:{string:["left","center","right"]},__type__:{object:u}},interpolation:{enabled:{"boolean":r},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:i},__type__:{object:u,"boolean":r}},drawPoints:{enabled:{"boolean":r},size:{number:i},style:{string:["square","circle"]},__type__:{object:u,"boolean":r}},dataAxis:{showMinorLabels:{"boolean":r},showMajorLabels:{"boolean":r},icons:{"boolean":r},width:{string:n,number:i},visible:{"boolean":r},alignZeros:{"boolean":r},left:{range:{min:{number:i},max:{number:i},__type__:{object:u}},format:{"function":"function"},title:{text:{string:n,number:i},style:{string:n},__type__:{object:u}},__type__:{object:u}},right:{range:{min:{number:i},max:{number:i},__type__:{object:u}},format:{"function":"function"},title:{text:{string:n,number:i},style:{string:n},__type__:{object:u}},__type__:{object:u}},__type__:{object:u}},legend:{enabled:{"boolean":r},icons:{"boolean":r},left:{visible:{"boolean":r},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:u}},right:{visible:{"boolean":r},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:u}},__type__:{object:u,"boolean":r}},groups:{visibility:{any:l},__type__:{object:u}},autoResize:{"boolean":r},clickToUse:{"boolean":r},end:{number:i,date:o,string:n,moment:f},format:{minorLabels:{millisecond:{string:n,"undefined":"undefined"},second:{string:n,"undefined":"undefined"},minute:{string:n,"undefined":"undefined"},hour:{string:n,"undefined":"undefined"},weekday:{string:n,"undefined":"undefined"},day:{string:n,"undefined":"undefined"},month:{string:n,"undefined":"undefined"},year:{string:n,"undefined":"undefined"},__type__:{object:u}},majorLabels:{millisecond:{string:n,"undefined":"undefined"},second:{string:n,"undefined":"undefined"},minute:{string:n,"undefined":"undefined"},hour:{string:n,"undefined":"undefined"},weekday:{string:n,"undefined":"undefined"},day:{string:n,"undefined":"undefined"},month:{string:n,"undefined":"undefined"},year:{string:n,"undefined":"undefined"},__type__:{object:u}},__type__:{object:u}},height:{string:n,number:i},hiddenDates:{object:u,array:s},locale:{string:n},locales:{__any__:{any:l},__type__:{object:u}},max:{date:o,number:i,string:n,moment:f},maxHeight:{number:i,string:n},min:{date:o,number:i,string:n,moment:f},minHeight:{number:i,string:n},moveable:{"boolean":r},multiselect:{"boolean":r},orientation:{string:n},showCurrentTime:{"boolean":r},showMajorLabels:{"boolean":r},showMinorLabels:{"boolean":r},start:{date:o,number:i,string:n,moment:f},timeAxis:{scale:{string:n,"undefined":"undefined"},step:{number:i,"undefined":"undefined"},__type__:{object:u}},width:{string:n,number:i},zoomable:{"boolean":r},zoomMax:{number:i},zoomMin:{number:i},__type__:{object:u}},h={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["top","bottom"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};t.allOptions=c,t.configureOptions=h},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){var r=this;if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:q,clickToUse:!1},H.extend(this.options,this.defaultOptions),this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new F(function(){return r.body.emitter.emit("_requestRedraw")}),this.groups=new o["default"],this.canvas=new y["default"](this.body),this.selectionHandler=new T["default"](this.body,this.canvas),this.interactionHandler=new S["default"](this.body,this.canvas,this.selectionHandler),this.view=new w["default"](this.body,this.canvas),this.renderer=new m["default"](this.body,this.canvas),this.physics=new h["default"](this.body),this.layoutEngine=new C["default"](this.body),this.clustering=new d["default"](this.body),this.manipulation=new L["default"](this.body,this.canvas,this.selectionHandler),this.nodesHandler=new a["default"](this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new l["default"](this.body,this.images,this.groups),this.canvas._create(),this.setOptions(n),this.setData(t)}var s=n(60),o=r(s),u=n(61),a=r(u),f=n(81),l=r(f),c=n(88),h=r(c),p=n(97),d=r(p),v=n(99),m=r(v),g=n(100),y=r(g),b=n(101),w=r(b),E=n(102),S=r(E),x=n(105),T=r(x),N=n(106),C=r(N),k=n(107),L=r(k),A=n(45),O=r(A),M=n(47),_=r(M),D=n(108);n(109);var P=n(13),H=(n(23),n(1)),B=(n(8),n(10),n(110)),j=n(111),F=n(112),I=n(42),q=n(113);P(i.prototype),i.prototype.setOptions=function(e){var t=this;if(void 0!==e){var n=_["default"].validate(e,D.allOptions);n===!0&&console.log("%cErrors have been found in the supplied options object.",M.printStyle);var r=["locale","locales","clickToUse"];if(H.selectiveDeepExtend(r,this.options,e),e=this.layoutEngine.setOptions(e.layout,e),this.canvas.setOptions(e),this.groups.setOptions(e.groups),this.nodesHandler.setOptions(e.nodes),this.edgesHandler.setOptions(e.edges),this.physics.setOptions(e.physics),this.manipulation.setOptions(e.manipulation,e,this.options),this.interactionHandler.setOptions(e.interaction),this.renderer.setOptions(e.interaction),this.selectionHandler.setOptions(e.interaction),void 0!==e.groups&&this.body.emitter.emit("refreshNodes"),"configure"in e&&(this.configurator||(this.configurator=new O["default"](this,this.body.container,D.configureOptions,this.canvas.pixelRatio)),this.configurator.setOptions(e.configure)),this.configurator&&this.configurator.options.enabled===!0){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};H.deepExtend(i.nodes,this.nodesHandler.options),H.deepExtend(i.edges,this.edgesHandler.options),H.deepExtend(i.layout,this.layoutEngine.options),H.deepExtend(i.interaction,this.selectionHandler.options),H.deepExtend(i.interaction,this.renderer.options),H.deepExtend(i.interaction,this.interactionHandler.options),H.deepExtend(i.manipulation,this.manipulation.options),H.deepExtend(i.physics,this.physics.options),H.deepExtend(i.global,this.canvas.options),H.deepExtend(i.global,this.options),this.configurator.setModuleOptions(i)}void 0!==e.clickToUse?e.clickToUse===!0?void 0===this.activator&&(this.activator=new I(this.canvas.frame),this.activator.on("change",function(){t.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},i.prototype._updateVisibleIndices=function(){var e=this.body.nodes,t=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var n in e)e.hasOwnProperty(n)&&e[n].options.hidden===!1&&this.body.nodeIndices.push(n);for(var r in t)t.hasOwnProperty(r)&&t[r].options.hidden===!1&&this.body.edgeIndices.push(r)},i.prototype.bindEventListeners=function(){var e=this;this.body.emitter.on("_dataChanged",function(){e._updateVisibleIndices(),e.physics.updatePhysicsData(),e.body.emitter.emit("_requestRedraw"),e.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){e._updateValueRange(e.body.nodes),e._updateValueRange(e.body.edges),e.body.emitter.emit("startSimulation"),e.body.emitter.emit("_requestRedraw")})},i.prototype.setData=function(e){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),e&&e.dot&&(e.nodes||e.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(e&&e.options),e&&e.dot){console.log("The dot property has been depricated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=B.DOTToGraph(e.dot);return void this.setData(t)}if(e&&e.gephi){console.log("The gephi property has been depricated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=j.parseGephi(e.gephi);return void this.setData(n)}this.nodesHandler.setData(e&&e.nodes,!0),this.edgesHandler.setData(e&&e.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("initPhysics")},i.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var e in this.body.nodes)delete this.body.nodes[e];for(var t in this.body.edges)delete this.body.edges[t];H.recursiveDOMDelete(this.body.container)},i.prototype._updateValueRange=function(e){var t,n=void 0,r=void 0,i=0;for(t in e)if(e.hasOwnProperty(t)){var s=e[t].getValue();void 0!==s&&(n=void 0===n?s:Math.min(s,n),r=void 0===r?s:Math.max(s,r),i+=s)}if(void 0!==n&&void 0!==r)for(t in e)e.hasOwnProperty(t)&&e[t].setValueRange(n,r,i)},i.prototype.isActive=function(){return!this.activator||this.activator.active},i.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},i.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},i.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas(this.canvas,arguments)},i.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},i.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},i.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},i.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},i.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},i.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},i.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},i.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},i.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},i.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},i.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},i.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},i.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},i.prototype.editNodeMode=function(){return console.log("Depricated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},i.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},i.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},i.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},i.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},i.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},i.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},i.prototype.getConnectedNodes=function(e){return void 0!==this.body.nodes[e]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},i.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},i.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},i.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},i.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},i.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},i.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},i.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},i.prototype.getNodeAt=function(){var e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},i.prototype.getEdgeAt=function(){var e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},i.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},i.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},i.prototype.unselectAll=function(){return this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments)},i.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},i.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},i.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},i.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},i.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},i.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},i.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},e.exports=i},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),o=function(){function e(){r(this,e),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},s.extend(this.options,this.defaultOptions)}return i(e,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(void 0!==e)for(var n in e)if(e.hasOwnProperty(n)&&-1===t.indexOf(n)){var r=e[n];this.add(n,r)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(e){var t=this.groups[e];if(void 0===t)if(this.options.useDefaultGroups===!1&&this.groupsArray.length>0){var n=this.groupIndex%this.groupsArray.length;this.groupIndex++,t={},t.color=this.groups[this.groupsArray[n]],this.groups[e]=t}else{var n=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,t={},t.color=this.defaultGroups[n],this.groups[e]=t}return t}},{key:"add",value:function(e,t){return this.groups[e]=t,this.groupsArray.push(e),t}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(62),u=r(o),a=n(63),f=r(a),l=n(1),c=n(8),h=n(10),p=function(){function e(t,n,r,s){var o=this;i(this,e),this.body=t,this.images=n,this.groups=r,this.layoutEngine=s,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(e,t){o.add(t.items)},update:function(e,t){o.update(t.items,t.data)},remove:function(e,t){o.remove(t.items)}},this.options={},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"horizontal"},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,level:void 0,mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,n,r){if(t===e)return.5;var i=1/(t-e);return Math.max(0,(r-e)*i)}},shadow:{enabled:!1,size:10,x:5,y:5},shape:"ellipse",size:25,title:void 0,value:void 0,x:void 0,y:void 0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return s(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){delete e.body.functions.createNode,delete e.nodesListeners.add,delete e.nodesListeners.update,delete e.nodesListeners.remove,delete e.nodesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){if(u["default"].parseOptions(this.options,e),void 0!==e.shape)for(var t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&this.body.nodes[t].updateShape();if(void 0!==e.font){f["default"].parseOptions(this.options.font,e);for(var t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(this.body.nodes[t].updateLabelModule(),this.body.nodes[t]._reset())}if(void 0!==e.size)for(var t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&this.body.nodes[t]._reset();(void 0!==e.hidden||void 0!==e.physics)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,n=void 0===arguments[1]?!1:arguments[1],r=this.body.data.nodes;if(e instanceof c||e instanceof h)this.body.data.nodes=e;else if(Array.isArray(e))this.body.data.nodes=new c,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new c}r&&l.forEach(this.nodesListeners,function(e,t){r.off(t,e)}),this.body.nodes={},this.body.data.nodes&&!function(){var e=t;l.forEach(t.nodesListeners,function(t,n){e.body.data.nodes.on(n,t)});var n=t.body.data.nodes.getIds();t.add(n,!0)}(),n===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=void 0===arguments[1]?!1:arguments[1],n=void 0,r=[],i=0;i<e.length;i++){n=e[i];var s=this.body.data.nodes.get(n),o=this.create(s);r.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(r),t===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t){for(var n=this.body.nodes,r=!1,i=0;i<e.length;i++){var s=e[i],o=n[s],u=t[i];void 0!==o?r=o.setOptions(u):(r=!0,o=this.create(u),n[s]=o)}r===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,n=0;n<e.length;n++){var r=e[n];delete t[r]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var t=void 0===arguments[1]?u["default"]:arguments[1];return new t(e,this.body,this.images,this.groups,this.options)}},{key:"refresh",value:function(){var e=this.body.nodes;for(var t in e){var n=void 0;e.hasOwnProperty(t)&&(n=e[t]);var r=this.body.data.nodes._data[t];void 0!==n&&void 0!==r&&(n.setOptions({fixed:!1}),n.setOptions(r))}}},{key:"getPositions",value:function(e){var t={};if(void 0!==e){if(Array.isArray(e)===!0){for(var n=0;n<e.length;n++)if(void 0!==this.body.nodes[e[n]]){var r=this.body.nodes[e[n]];t[e[n]]={x:Math.round(r.x),y:Math.round(r.y)}}}else if(void 0!==this.body.nodes[e]){var r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var i in this.body.nodes)if(this.body.nodes.hasOwnProperty(i)){var r=this.body.nodes[i];t[i]={x:Math.round(r.x),y:Math.round(r.y)}}return t}},{key:"storePositions",value:function(){var e=[],t=this.body.data.nodes.getDataSet();for(var n in t._data)if(t._data.hasOwnProperty(n)){var r=this.body.nodes[n];(t._data[n].x!=Math.round(r.x)||t._data[n].y!=Math.round(r.y))&&e.push({id:n,x:Math.round(r.x),y:Math.round(r.y)})}t.update(e)}},{key:"getBoundingBox",value:function(e){return void 0!==this.body.nodes[e]?this.body.nodes[e].shape.boundingBox:void 0}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var n=this.body.nodes[e],r={},i=0;i<n.edges.length;i++){var s=n.edges[i];s.toId==e?void 0===r[s.fromId]&&(t.push(s.fromId),r[s.fromId]=!0):s.fromId==e&&void 0===r[s.toId]&&(t.push(s.toId),r[s.toId]=!0)}return t}},{key:"getConnectedEdges",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var n=this.body.nodes[e],r=0;r<n.edges.length;r++)t.push(n.edges[r].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}}]),e}();t["default"]=p,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(63),u=r(o),a=n(64),f=r(a),l=n(66),c=r(l),h=n(68),p=r(h),d=n(69),v=r(d),m=n(70),g=r(m),y=n(72),b=r(y),w=n(73),E=r(w),S=n(74),x=r(S),T=n(75),N=r(T),C=n(76),k=r(C),L=n(77),A=r(L),O=n(78),M=r(O),_=n(79),D=r(_),P=n(80),H=r(P),B=n(47),j=(r(B),n(1)),F=function(){function e(t,n,r,s,o){i(this,e),this.options=j.bridgeObject(o),this.body=n,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=s,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new u["default"](this.body,this.options),this.setOptions(t)}return s(e,[{key:"attachEdge",value:function(e){-1===this.edges.indexOf(e)&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t=this.edges.indexOf(e);-1!=t&&this.edges.splice(t,1)}},{key:"togglePhysics",value:function(e){this.options.physics=e}},{key:"setOptions",value:function(t){if(t){if(void 0!==t.id&&(this.id=t.id),void 0===this.id)throw"Node must have an id";if(void 0!==t.x&&(this.x=parseInt(t.x),this.predefinedPosition=!0),void 0!==t.y&&(this.y=parseInt(t.y),this.predefinedPosition=!0),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=parseFloat(t.value)),"number"==typeof t.group||"string"==typeof t.group&&""!=t.group){var n=this.grouplist.get(t.group);j.deepExtend(this.options,n),this.options.color=j.parseColor(this.options.color)}if(e.parseOptions(this.options,t,!0),void 0!==this.options.image&&""!=this.options.image){if(!this.imagelist)throw"No imagelist provided";this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id)}return this.updateShape(),this.updateLabelModule(),this._reset(),void 0!==t.hidden||void 0!==t.physics?!0:!1}}},{key:"updateLabelModule",value:function(){(void 0===this.options.label||null===this.options.label)&&(this.options.label=""),this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(){switch(this.options.shape){case"box":this.shape=new f["default"](this.options,this.body,this.labelModule);break;case"circle":this.shape=new c["default"](this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new p["default"](this.options,this.body,this.labelModule,this.imageObj);break;case"database":this.shape=new v["default"](this.options,this.body,this.labelModule);break;case"diamond":this.shape=new g["default"](this.options,this.body,this.labelModule);break;case"dot":this.shape=new b["default"](this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new E["default"](this.options,this.body,this.labelModule);break;case"icon":this.shape=new x["default"](this.options,this.body,this.labelModule);break;case"image":this.shape=new N["default"](this.options,this.body,this.labelModule,this.imageObj);break;case"square":this.shape=new k["default"](this.options,this.body,this.labelModule);break;case"star":this.shape=new A["default"](this.options,this.body,this.labelModule);break;case"text":this.shape=new M["default"](this.options,this.body,this.labelModule);break;case"triangle":this.shape=new D["default"](this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new H["default"](this.options,this.body,this.labelModule);break;default:this.shape=new E["default"](this.options,this.body,this.labelModule)}this._reset()}},{key:"select",value:function(){this.selected=!0,this._reset()}},{key:"unselect",value:function(){this.selected=!1,this._reset()}},{key:"_reset",value:function(){this.shape.width=void 0,this.shape.height=void 0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var r=this.options.scaling.customScalingFunction(e,t,n,this.options.value),i=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+r*s}this.options.size=this.options.scaling.min+r*i}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize}},{key:"draw",value:function(e){this.shape.draw(e,this.x,this.y,this.selected,this.hover)}},{key:"updateBoundingBox",value:function(){this.shape.updateBoundingBox(this.x,this.y)}},{key:"resize",value:function(e){this.shape.resize(e)}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"parseOptions",value:function(e,t){var n=void 0===arguments[2]?!1:arguments[2],r=["color","font","fixed","shadow"];if(j.selectiveNotDeepExtend(r,e,t,n),j.mergeOptions(e,t,"shadow"),void 0!==t.color&&null!==t.color){var i=j.parseColor(t.color);j.fillIfDefined(e.color,i)}else n===!0&&null===t.color&&(e.color=void 0,delete e.color);void 0!==t.fixed&&null!==t.fixed&&("boolean"==typeof t.fixed?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(void 0!==t.fixed.x&&"boolean"==typeof t.fixed.x&&(e.fixed.x=t.fixed.x),void 0!==t.fixed.y&&"boolean"==typeof t.fixed.y&&(e.fixed.y=t.fixed.y))),void 0!==t.font&&u["default"].parseOptions(e.font,t),void 0!==t.scaling&&j.mergeOptions(e.scaling,t.scaling,"label")}}]),e}();t["default"]=F,e.exports=t["default"]},function(e,t,n){function r(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,s=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(a){i=!0,s=a}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw s}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=function(){function e(t,n){i(this,e),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.setOptions(n),this.size={top:0,left:0,width:0,height:0,yLine:0}}return s(e,[{key:"setOptions",value:function(t){var n=void 0===arguments[1]?!1:arguments[1];this.options=t,void 0!==t.label&&(this.labelDirty=!0),void 0!==t.font&&(e.parseOptions(this.options.font,t,n),"string"==typeof t.font?this.baseSize=this.options.font.size:"object"==typeof t.font&&void 0!==t.font.size&&(this.baseSize=t.font.size))}},{key:"draw",value:function(e,t,n,r){var i=void 0===arguments[4]?"middle":arguments[4];if(void 0!==this.options.label){var s=this.options.font.size*this.body.view.scale;this.options.label&&s<this.options.scaling.label.drawThreshold-1||(this.calculateLabelSize(e,r,t,n,i),this._drawBackground(e),this._drawText(e,r,t,n,i))}}},{key:"_drawBackground",value:function(e){if(void 0!==this.options.font.background&&"none"!==this.options.font.background){e.fillStyle=this.options.font.background;var t=2;switch(this.options.font.align){case"middle":e.fillRect(.5*-this.size.width,.5*-this.size.height,this.size.width,this.size.height);break;case"top":e.fillRect(.5*-this.size.width,-(this.size.height+t),this.size.width,this.size.height);break;case"bottom":e.fillRect(.5*-this.size.width,t,this.size.width,this.size.height);break;default:e.fillRect(this.size.left,this.size.top-.5*t,this.size.width,this.size.height)}}}},{key:"_drawText",value:function(e,t,n,i){var s=void 0===arguments[4]?"middle":arguments[4],o=this.options.font.size,u=o*this.body.view.scale;u>=this.options.scaling.label.maxVisible&&(o=Number(this.options.scaling.label.maxVisible)/this.body.view.scale);var a=this.size.yLine,f=this._getColor(u),l=r(f,2),c=l[0],h=l[1],p=this._setAlignment(e,n,a,s),d=r(p,2);n=d[0],a=d[1],e.font=(t?"bold ":"")+o+"px "+this.options.font.face,e.fillStyle=c,e.textAlign="center",this.options.font.strokeWidth>0&&(e.lineWidth=this.options.font.strokeWidth,e.strokeStyle=h,e.lineJoin="round");for(var v=0;v<this.lineCount;v++)this.options.font.strokeWidth>0&&e.strokeText(this.lines[v],n,a),e.fillText(this.lines[v],n,a),a+=o}},{key:"_setAlignment",value:function(e,t,n,r){if("horizontal"!==this.options.font.align&&this.pointToSelf===!1){t=0,n=0;var i=2;"top"===this.options.font.align?(e.textBaseline="alphabetic",n-=2*i):"bottom"===this.options.font.align?(e.textBaseline="hanging",n+=2*i):e.textBaseline="middle"}else e.textBaseline=r;return[t,n]}},{key:"_getColor",value:function(e){var t=this.options.font.color||"#000000",n=this.options.font.strokeColor||"#ffffff";if(e<=this.options.scaling.label.drawThreshold){var r=Math.max(0,Math.min(1,1-(this.options.scaling.label.drawThreshold-e)));t=o.overrideOpacity(t,r),n=o.overrideOpacity(n,r)}return[t,n]}},{key:"getTextSize",value:function(e){var t=void 0===arguments[1]?!1:arguments[1],n={width:this._processLabel(e,t),height:this.options.font.size*this.lineCount,lineCount:this.lineCount};return n}},{key:"calculateLabelSize",value:function(e,t){var n=void 0===arguments[2]?0:arguments[2],r=void 0===arguments[3]?0:arguments[3],i=void 0===arguments[4]?"middle":arguments[4];this.labelDirty===!0&&(this.size.width=this._processLabel(e,t)),this.size.height=this.options.font.size*this.lineCount,this.size.left=n-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.options.font.size,"hanging"===i&&(this.size.top+=.5*this.options.font.size,this.size.top+=4,this.size.yLine+=4),this.labelDirty=!1}},{key:"_processLabel",value:function(e,t){var n=0,r=[""],i=0;if(void 0!==this.options.label){r=String(this.options.label).split("\n"),i=r.length,e.font=(t?"bold ":"")+this.options.font.size+"px "+this.options.font.face,n=e.measureText(r[0]).width;for(var s=1;i>s;s++){var o=e.measureText(r[s]).width;n=o>n?o:n}}return this.lines=r,this.lineCount=i,n}}],[{key:"parseOptions",value:function(e,t){var n=void 0===arguments[2]?!1:arguments[2];if("string"==typeof t.font){var r=t.font.split(" ");e.size=r[0].replace("px",""),e.face=r[1],e.color=r[2]}else"object"==typeof t.font&&o.fillIfDefined(e,t.font,n);e.size=Number(e.size)}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(65),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"resize",value:function(e,t){if(void 0===this.width){var n=5,r=this.labelModule.getTextSize(e,t);this.width=r.width+2*n,this.height=r.height+2*n,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,n,r,i){this.resize(e,r),this.left=t-this.width/2,this.top=n-this.height/2;var s=this.options.borderWidth,o=this.options.borderWidthSelected||2*this.options.borderWidth;e.strokeStyle=r?this.options.color.highlight.border:i?this.options.color.hover.border:this.options.color.border,e.lineWidth=r?o:s,e.lineWidth/=this.body.view.scale,e.lineWidth=Math.min(this.width,e.lineWidth),e.fillStyle=r?this.options.color.highlight.background:i?this.options.color.hover.background:this.options.color.background;var u=6;e.roundRect(this.left,this.top,this.width,this.height,u),this.enableShadow(e),e.fill(),this.disableShadow(e),e.stroke(),this.updateBoundingBox(t,n),this.labelModule.draw(e,t,n,r)}},{key:"updateBoundingBox",value:function(e,t){this.left=e-.5*this.width,this.top=t-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(e,t){this.resize(e);var n=this.width/2,r=this.height/2,i=Math.sin(t)*n,s=Math.cos(t)*r;return n*r/Math.sqrt(i*i+s*s)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r,i){n(this,e),this.body=r,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return r(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"_distanceToBorder",value:function(e){var t=1;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+t}},{key:"enableShadow",value:function(e){this.options.shadow.enabled===!0&&(e.shadowColor="rgba(0,0,0,0.5)",e.shadowBlur=this.options.shadow.size,e.shadowOffsetX=this.options.shadow.x,e.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(e){this.options.shadow.enabled===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(67),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"resize",value:function(e,t){if(void 0===this.width){var n=5,r=this.labelModule.getTextSize(e,t),i=Math.max(r.width,r.height)+2*n;this.options.size=i/2,this.width=i,this.height=i,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,n,r,i){this.resize(e,r),this.left=t-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,t,n,r,i,this.options.size),this.boundingBox.top=n-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=n+this.options.size,this.updateBoundingBox(t,n),this.labelModule.draw(e,t,n,r)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}},{key:"distanceToBorder",value:function(e,t){this.resize(e);var n=this.width/2,r=this.height/2,i=Math.sin(t)*n,s=Math.cos(t)*r;return n*r/Math.sqrt(i*i+s*s)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(65),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r),this.labelOffset=0,this.imageLoaded=!1}return s(t,e),o(t,[{key:"_resizeImage",value:function(){var e=!1;if(this.imageObj.width&&this.imageObj.height?this.imageLoaded===!1&&(this.imageLoaded=!0,e=!0):this.imageLoaded=!1,!this.width||!this.height||e===!0){var t,n,r;this.imageObj.width&&this.imageObj.height&&(t=0,n=0),this.imageObj.width>this.imageObj.height?(r=this.imageObj.width/this.imageObj.height,t=2*this.options.size*r||this.imageObj.width,n=2*this.options.size||this.imageObj.height):(r=this.imageObj.width&&this.imageObj.height?this.imageObj.height/this.imageObj.width:1,t=2*this.options.size||this.imageObj.width,n=2*this.options.size*r||this.imageObj.height),this.width=t,this.height=n,this.radius=.5*this.width}}},{key:"_drawRawCircle",value:function(e,t,n,r,i,s){var o=this.options.borderWidth,u=this.options.borderWidthSelected||2*this.options.borderWidth;e.strokeStyle=r?this.options.color.highlight.border:i?this.options.color.hover.border:this.options.color.border,e.lineWidth=r?u:o,e.lineWidth*=this.networkScaleInv,e.lineWidth=Math.min(this.width,e.lineWidth),e.fillStyle=r?this.options.color.highlight.background:i?this.options.color.hover.background:this.options.color.background,e.circle(t,n,s),this.enableShadow(e),e.fill(),this.disableShadow(e),e.stroke()}},{key:"_drawImageAtPosition",value:function(e){0!=this.imageObj.width&&(e.globalAlpha=1,this.enableShadow(e),e.drawImage(this.imageObj,this.left,this.top,this.width,this.height),this.disableShadow(e))}},{key:"_drawImageLabel",value:function(e,t,n,r){var i,s=0;if(void 0!==this.height){s=.5*this.height;var o=this.labelModule.getTextSize(e);o.lineCount>=1&&(s+=o.height/2)}i=n+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(e,t,i,r,"hanging")}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(67),f=r(a),l=function(e){function t(e,n,r,s){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r),this.imageObj=s,this._swapToImageResizeWhenImageLoaded=!0}return s(t,e),o(t,[{key:"resize",value:function(){if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){if(!this.width){var e=2*this.options.size;this.width=e,this.height=e,this._swapToImageResizeWhenImageLoaded=!0,this.radius=.5*this.width}}else this._swapToImageResizeWhenImageLoaded&&(this.width=void 0,this.height=void 0,this._swapToImageResizeWhenImageLoaded=!1),this._resizeImage()}},{key:"draw",value:function(e,t,n,r,i){this.resize(),this.left=t-this.width/2,this.top=n-this.height/2;var s=Math.min(.5*this.height,.5*this.width);this._drawRawCircle(e,t,n,r,i,s),e.save(),e.circle(t,n,s),e.stroke(),e.clip(),this._drawImageAtPosition(e),e.restore(),this._drawImageLabel(e,t,n,r),this.updateBoundingBox(t,n)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(e,t){return this.resize(e),this._distanceToBorder(t)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(65),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"resize",value:function(e,t){if(void 0===this.width){var n=5,r=this.labelModule.getTextSize(e,t),i=r.width+2*n;this.width=i,this.height=i,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,n,r,i){this.resize(e,r),this.left=t-this.width/2,this.top=n-this.height/2;var s=this.options.borderWidth,o=this.options.borderWidthSelected||2*this.options.borderWidth;e.strokeStyle=r?this.options.color.highlight.border:i?this.options.color.hover.border:this.options.color.border,e.lineWidth=this.selected?o:s,e.lineWidth*=this.networkScaleInv,e.lineWidth=Math.min(this.width,e.lineWidth),e.fillStyle=r?this.options.color.highlight.background:i?this.options.color.hover.background:this.options.color.background,e.database(t-this.width/2,n-.5*this.height,this.width,this.height),this.enableShadow(e),e.fill(),this.disableShadow(e),e.stroke(),this.updateBoundingBox(t,n),this.labelModule.draw(e,t,n,r)}},{key:"updateBoundingBox",value:function(e,t){this.left=e-.5*this.width,this.top=t-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(e,t){this.resize(e);var n=this.width/2,r=this.height/2,i=Math.sin(t)*n,s=Math.cos(t)*r;return n*r/Math.sqrt(i*i+s*s)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(71),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"resize",value:function(e){this._resizeShape()}},{key:"draw",value:function(e,t,n,r,i){this._drawShape(e,"diamond",4,t,n,r,i)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(t)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(65),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"_resizeShape",value:function(){if(void 0===this.width){var e=2*this.options.size;this.width=e,this.height=e,this.radius=.5*this.width}}},{key:"_drawShape",value:function(e,t,n,r,i,s,o){this._resizeShape(),this.left=r-this.width/2,this.top=i-this.height/2;var u=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth;if(e.strokeStyle=s?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,e.lineWidth=s?a:u,e.lineWidth/=this.body.view.scale,e.lineWidth=Math.min(this.width,e.lineWidth),e.fillStyle=s?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,e[t](r,i,this.options.size),this.enableShadow(e),e.fill(),this.disableShadow(e),e.stroke(),void 0!==this.options.label){var f=i+.5*this.height+3;this.labelModule.draw(e,r,f,s,"hanging")}this.updateBoundingBox(r,i)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,void 0!==this.options.label&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+3))}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(71),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"resize",value:function(e){this._resizeShape()}},{key:"draw",value:function(e,t,n,r,i){this._drawShape(e,"circle",2,t,n,r,i)}},{key:"distanceToBorder",value:function(e,t){return this.options.size+this.options.borderWidth}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(65),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"resize",value:function(e,t){if(void 0===this.width){var n=this.labelModule.getTextSize(e,t);this.width=1.5*n.width,this.height=2*n.height,this.width<this.height&&(this.width=this.height),this.radius=.5*this.width}}},{key:"draw",value:function(e,t,n,r,i){this.resize(e,r),this.left=t-.5*this.width,this.top=n-.5*this.height;var s=this.options.borderWidth,o=this.options.borderWidthSelected||2*this.options.borderWidth;e.strokeStyle=r?this.options.color.highlight.border:i?this.options.color.hover.border:this.options.color.border,e.lineWidth=r?o:s,e.lineWidth/=this.body.view.scale,e.lineWidth=Math.min(this.width,e.lineWidth),e.fillStyle=r?this.options.color.highlight.background:i?this.options.color.hover.background:this.options.color.background,e.ellipse(this.left,this.top,this.width,this.height),this.enableShadow(e),e.fill(),this.disableShadow(e),e.stroke(),this.updateBoundingBox(t,n),this.labelModule.draw(e,t,n,r)}},{key:"updateBoundingBox",value:function(e,t){this.left=e-.5*this.width,this.top=t-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(e,t){this.resize(e);var n=.5*this.width,r=.5*this.height,i=Math.sin(t)*n,s=Math.cos(t)*r;return n*r/Math.sqrt(i*i+s*s)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(65),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"resize",value:function(e){if(void 0===this.width){var t=5,n={width:Number(this.options.icon.size),height:Number(this.options.icon.size)};this.width=n.width+2*t,this.height=n.height+2*t,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,n,r,i){if(this.resize(e),this.options.icon.size=this.options.icon.size||50,this.left=t-.5*this.width,this.top=n-.5*this.height,this._icon(e,t,n,r),void 0!==this.options.label){var s=5;this.labelModule.draw(e,t,n+.5*this.height+s,r)}this.updateBoundingBox(t,n)}},{key:"updateBoundingBox",value:function(e,t){if(this.boundingBox.top=t-.5*this.options.icon.size,this.boundingBox.left=e-.5*this.options.icon.size,this.boundingBox.right=e+.5*this.options.icon.size,this.boundingBox.bottom=t+.5*this.options.icon.size,void 0!==this.options.label){var n=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+n)}}},{key:"_icon",value:function(e,t,n,r){var i=Number(this.options.icon.size);void 0!==this.options.icon.code?(e.font=(r?"bold ":"")+i+"px "+this.options.icon.face,e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e),e.fillText(this.options.icon.code,t,n),this.disableShadow(e)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(e,t){this.resize(e),this._distanceToBorder(t)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(67),f=r(a),l=function(e){function t(e,n,r,s){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r),this.imageObj=s}return s(t,e),o(t,[{key:"resize",value:function(){this._resizeImage()}},{key:"draw",value:function(e,t,n,r,i){this.resize(),this.left=t-this.width/2,this.top=n-this.height/2,this._drawImageAtPosition(e),this._drawImageLabel(e,t,n,r||i),this.updateBoundingBox(t,n)}},{key:"updateBoundingBox",value:function(e,t){this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,void 0!==this.options.label&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(e,t){this.resize(e);var n=this.width/2,r=this.height/2,i=Math.sin(t)*n,s=Math.cos(t)*r;return n*r/Math.sqrt(i*i+s*s)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(71),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"resize",value:function(){this._resizeShape()}},{key:"draw",value:function(e,t,n,r,i){this._drawShape(e,"square",2,t,n,r,i)}},{key:"distanceToBorder",value:function(e,t){return this.resize(e),this._distanceToBorder(t)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(71),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"resize",value:function(e){this._resizeShape()}},{key:"draw",value:function(e,t,n,r,i){this._drawShape(e,"star",4,t,n,r,i)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(t)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(65),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"resize",value:function(e,t){if(void 0===this.width){var n=5,r=this.labelModule.getTextSize(e,t);this.width=r.width+2*n,this.height=r.height+2*n,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,n,r,i){this.resize(e,r||i),this.left=t-this.width/2,this.top=n-this.height/2,this.enableShadow(e),this.labelModule.draw(e,t,n,r||i),this.disableShadow(e),this.updateBoundingBox(t,n)}},{key:"updateBoundingBox",value:function(e,t){this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height}},{key:"distanceToBorder",value:function(e,t){return this.resize(e),this._distanceToBorder(t)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(71),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"resize",value:function(e){this._resizeShape()}},{key:"draw",value:function(e,t,n,r,i){this._drawShape(e,"triangle",3,t,n,r,i)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(t)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(71),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"resize",value:function(e){this._resizeShape()}},{key:"draw",value:function(e,t,n,r,i){this._drawShape(e,"triangleDown",3,t,n,r,i)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(t)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(82),u=r(o),a=n(63),f=r(a),l=n(1),c=n(8),h=n(10),p=function(){function e(t,n,r){var s=this;i(this,e),this.body=t,this.images=n,this.groups=r,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(e,t){s.add(t.items)},update:function(e,t){s.update(t.items)},remove:function(e,t){s.remove(t.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1},middle:{enabled:!1,scaleFactor:1},from:{enabled:!1,scaleFactor:1}},color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal"},hidden:!1,hoverWidth:1.5,label:void 0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,n,r){if(t===e)return.5;var i=1/(t-e);return Math.max(0,(r-e)*i)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",roundness:.5},title:void 0,width:1,value:void 0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return s(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){"dynamic"===t&&(t="continuous");var n=!1;for(var r in e.body.edges)if(e.body.edges.hasOwnProperty(r)){var i=e.body.edges[r],s=e.body.data.edges._data[r];if(void 0!==s){var o=s.smooth;void 0!==o&&o.enabled===!0&&"dynamic"===o.type&&(void 0===t?i.setOptions({smooth:!1}):i.setOptions({smooth:{type:t}}),n=!0)}}n===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){e.reconnectEdges(),e.markAllEdgesAsDirty()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){delete e.body.functions.createEdge,delete e.edgesListeners.add,delete e.edgesListeners.update,delete e.edgesListeners.remove,delete e.edgesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){u["default"].parseOptions(this.options,e),void 0!==e.color&&this.markAllEdgesAsDirty();var t=!1;if(void 0!==e.smooth)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&(t=this.body.edges[n].updateEdgeType()||t);if(void 0!==e.font){f["default"].parseOptions(this.options.font,e);for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&this.body.edges[n].updateLabelModule()}(void 0!==e.hidden||void 0!==e.physics||t===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,n=void 0===arguments[1]?!1:arguments[1],r=this.body.data.edges;if(e instanceof c||e instanceof h)this.body.data.edges=e;else if(Array.isArray(e))this.body.data.edges=new c,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new c}if(r&&l.forEach(this.edgesListeners,function(e,t){r.off(t,e)}),this.body.edges={},this.body.data.edges){l.forEach(this.edgesListeners,function(e,n){t.body.data.edges.on(n,e)});var i=this.body.data.edges.getIds();this.add(i,!0)}n===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=void 0===arguments[1]?!1:arguments[1],n=this.body.edges,r=this.body.data.edges,i=0;i<e.length;i++){var s=e[i],o=n[s];o&&o.disconnect();var u=r.get(s,{showInternalIds:!0});n[s]=this.create(u)}t===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,n=this.body.data.edges,r=!1,i=0;i<e.length;i++){var s=e[i],o=n.get(s),u=t[s];null===u?(u.disconnect(),r=u.setOptions(o)||r,u.connect()):(this.body.edges[s]=this.create(o),r=!0)}r===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.edges,n=0;n<e.length;n++){var r=e[n],i=t[r];void 0!==i&&(null!=i.via&&delete this.body.supportNodes[i.via.id],i.disconnect(),delete t[r])}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function(){var e=this.body.edges;for(var t in e){var n=void 0;e.hasOwnProperty(t)&&(n=e[t]);var r=this.body.data.edges._data[t];void 0!==n&&void 0!==r&&n.setOptions(r)}}},{key:"create",value:function(e){return new u["default"](e,this.body,this.options)}},{key:"markAllEdgesAsDirty",value:function(){for(var e in this.body.edges)this.body.edges[e].edgeType.colorDirty=!0}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,n=this.body.edges;for(e in t)t.hasOwnProperty(e)&&(t[e].edges=[]);for(e in n)if(n.hasOwnProperty(e)){var r=n[e];r.from=null,r.to=null,r.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.edges[e]){var n=this.body.edges[e];n.fromId&&t.push(n.fromId),n.toId&&t.push(n.toId)}return t}}]),e}();t["default"]=p,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(63),u=r(o),a=n(83),f=r(a),l=n(86),c=r(l),h=n(87),p=r(h),d=n(1),v=function(){function e(t,n,r){if(i(this,e),void 0===n)throw"No body provided";this.options=d.bridgeObject(r),this.body=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.colorDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new u["default"](this.body,this.options),this.setOptions(t)}return s(e,[{key:"setOptions",value:function(t){if(t){this.colorDirty=!0,e.parseOptions(this.options,t,!0),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=parseFloat(t.value)),this.updateLabelModule();var n=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),(void 0!==t.hidden||void 0!==t.physics)&&(n=!0),n}}},{key:"updateLabelModule",value:function(){this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=!1,t=!0;return void 0!==this.edgeType&&(this.edgeType instanceof f["default"]&&this.options.smooth.enabled===!0&&"dynamic"===this.options.smooth.type&&(t=!1),this.edgeType instanceof c["default"]&&this.options.smooth.enabled===!0&&"dynamic"!==this.options.smooth.type&&(t=!1),this.edgeType instanceof p["default"]&&this.options.smooth.enabled===!1&&(t=!1),t===!0&&(e=this.edgeType.cleanup())),t===!0?this.options.smooth.enabled===!0?"dynamic"===this.options.smooth.type?(e=!0,this.edgeType=new f["default"](this.options,this.body,this.labelModule)):this.edgeType=new c["default"](this.options,this.body,this.labelModule):this.edgeType=new p["default"](this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"togglePhysics",value:function(e){this.options.physics=e,this.edgeType.togglePhysics(e)}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var r=this.options.scaling.customScalingFunction(e,t,n,this.options.value),i=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+r*s}this.options.width=this.options.scaling.min+r*i}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.edgeType.drawLine(e,this.selected,this.hover);this.drawArrows(e,t),this.drawLabel(e,t)}},{key:"drawArrows",value:function(e,t){this.options.arrows.from.enabled===!0&&this.edgeType.drawArrowHead(e,"from",t,this.selected,this.hover),this.options.arrows.middle.enabled===!0&&this.edgeType.drawArrowHead(e,"middle",t,this.selected,this.hover),this.options.arrows.to.enabled===!0&&this.edgeType.drawArrowHead(e,"to",t,this.selected,this.hover)}},{key:"drawLabel",value:function(e,t){if(void 0!==this.options.label){var n=this.from,r=this.to,i=this.from.selected||this.to.selected||this.selected;if(n.id!=r.id){this.labelModule.pointToSelf=!1;var s=this.edgeType.getPoint(.5,t);e.save(),"horizontal"!==this.options.font.align&&(this.labelModule.calculateLabelSize(e,i,s.x,s.y),e.translate(s.x,this.labelModule.size.yLine),this._rotateForLabelAlignment(e)),this.labelModule.draw(e,s.x,s.y,i),e.restore()}else{this.labelModule.pointToSelf=!0;var o,u,a=this.options.selfReferenceSize;n.shape.width>n.shape.height?(o=n.x+.5*n.shape.width,u=n.y-a):(o=n.x+a,u=n.y-.5*n.shape.height),s=this._pointOnCircle(o,u,a,.125),this.labelModule.draw(e,s.x,s.y,i)}}}},{key:"isOverlappingWith",value:function(e){if(this.connected){var t=10,n=this.from.x,r=this.from.y,i=this.to.x,s=this.to.y,o=e.left,u=e.top,a=this.edgeType.getDistanceToEdge(n,r,i,s,o,u);return t>a}return!1}},{key:"_rotateForLabelAlignment",value:function(e){var t=this.from.y-this.to.y,n=this.from.x-this.to.x,r=Math.atan2(t,n);(-1>r&&0>n||r>0&&0>n)&&(r+=Math.PI),e.rotate(r)}},{key:"_pointOnCircle",value:function(e,t,n,r){var i=2*r*Math.PI;return{x:e+n*Math.cos(i),y:t-n*Math.sin(i)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}}],[{key:"parseOptions",value:function(e,t){var n=void 0===arguments[2]?!1:arguments[2],r=["id","from","hidden","hoverWidth","label","length","line","opacity","physics","selectionWidth","selfReferenceSize","to","title","value","width"];if(d.selectiveDeepExtend(r,e,t,n),d.mergeOptions(e,t,"smooth"),d.mergeOptions(e,t,"shadow"),void 0!==t.dashes&&null!==t.dashes?e.dashes=t.dashes:n===!0&&null===t.dashes&&(e.dashes=void 0,delete e.dashes),void 0!==t.scaling&&null!==t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),d.mergeOptions(e.scaling,t.scaling,"label")):n===!0&&null===t.scaling&&(e.scaling=void 0,delete e.scaling),void 0!==t.arrows&&null!==t.arrows)if("string"==typeof t.arrows){var i=t.arrows.toLowerCase();-1!=i.indexOf("to")&&(e.arrows.to.enabled=!0),-1!=i.indexOf("middle")&&(e.arrows.middle.enabled=!0),-1!=i.indexOf("from")&&(e.arrows.from.enabled=!0)}else{if("object"!=typeof t.arrows)throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(t.arrows));d.mergeOptions(e.arrows,t.arrows,"to"),d.mergeOptions(e.arrows,t.arrows,"middle"),d.mergeOptions(e.arrows,t.arrows,"from")}else n===!0&&null===t.arrows&&(e.arrows=void 0,delete e.arrows);if(void 0!==t.color&&null!==t.color)if(d.isString(t.color))e.color.color=t.color,e.color.highlight=t.color,e.color.hover=t.color,e.color.inherit=!1;else{var s=!1;void 0!==t.color.color&&(e.color.color=t.color.color,s=!0),void 0!==t.color.highlight&&(e.color.highlight=t.color.highlight,s=!0),void 0!==t.color.hover&&(e.color.hover=t.color.hover,s=!0),void 0!==t.color.inherit&&(e.color.inherit=t.color.inherit),void 0!==t.color.opacity&&(e.color.opacity=Math.min(1,Math.max(0,t.color.opacity))),void 0===t.color.inherit&&s===!0&&(e.color.inherit=!1)}else n===!0&&null===t.color&&(e.color=void 0,delete e.color);void 0!==t.font&&u["default"].parseOptions(e.font,t)}}]),e}();t["default"]=v,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(84),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"setOptions",value:function(e){this.options=e,this.id=this.options.id,this.setupSupportNode(),this.connect()}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return void 0!==this.via?(delete this.body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"togglePhysics",value:function(e){this.via.setOptions({physics:e}),this.positionBezierNode()}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var e="edgeId:"+this.id,t=this.body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this.body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(e){return e.beginPath(),e.moveTo(this.from.x,this.from.y),e.quadraticCurveTo(this.via.x,this.via.y,this.to.x,this.to.y),this.enableShadow(e),e.stroke(),this.disableShadow(e),this.via}},{key:"getPoint",value:function(e){var t=e,n=Math.pow(1-t,2)*this.from.x+2*t*(1-t)*this.via.x+Math.pow(t,2)*this.to.x,r=Math.pow(1-t,2)*this.from.y+2*t*(1-t)*this.via.y+Math.pow(t,2)*this.to.y;return{x:n,y:r}}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t,this.via)}},{key:"_getDistanceToEdge",value:function(e,t,n,r,i,s){return this._getDistanceToBezierEdge(e,t,n,r,i,s,this.via)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(85),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"_findBorderPositionBezier",value:function(e,t){var n,r,i,s,o,u=void 0===arguments[2]?this._getViaCoordinates():arguments[2],a=10,f=0,l=0,c=1,h=.2,p=this.to,d=!1;for(e.id===this.from.id&&(p=this.from,d=!0);c>=l&&a>f;){var v=.5*(l+c);if(n=this.getPoint(v,u),r=Math.atan2(p.y-n.y,p.x-n.x),i=p.distanceToBorder(t,r),s=Math.sqrt(Math.pow(n.x-p.x,2)+Math.pow(n.y-p.y,2)),o=i-s,Math.abs(o)<h)break;0>o?d===!1?l=v:c=v:d===!1?c=v:l=v,f++}return n.t=v,n}},{key:"_getDistanceToBezierEdge",value:function(e,t,n,r,i,s,o){var u=void 0,a=void 0;u=o.x,a=o.y;var f=1e9,l=void 0,c=void 0,h=void 0,p=void 0,d=void 0,v=e,m=t;for(c=1;10>c;c++)h=.1*c,p=Math.pow(1-h,2)*e+2*h*(1-h)*u+Math.pow(h,2)*n,d=Math.pow(1-h,2)*t+2*h*(1-h)*a+Math.pow(h,2)*r,c>0&&(l=this._getDistanceToLine(v,m,p,d,i,s),f=f>l?l:f),v=p,m=d;return f}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,s=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(a){i=!0,s=a}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw s}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=function(){function e(t,n,r){i(this,e),this.body=n,this.labelModule=r,this.setOptions(t),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5}return s(e,[{key:"connect",value:function(){}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"togglePhysics",value:function(e){}},{key:"drawLine",value:function(e,t,n){e.strokeStyle=this.getColor(e,t,n),e.lineWidth=this.getLineWidth(t,n);var r=void 0;return r=this.options.dashes!==!1?this._drawDashedLine(e):this._drawLine(e)}},{key:"_drawLine",value:function(e){var t=void 0;if(this.from!=this.to)t=this._line(e);else{var n=this._getCircleData(e),i=r(n,3),s=i[0],o=i[1],u=i[2];this._circle(e,s,o,u)}return t}},{key:"_drawDashedLine",value:function(e){var t=void 0;e.lineCap="round";var n=[5,5];if(Array.isArray(this.options.dashes)===!0&&(n=this.options.dashes),void 0!==e.setLineDash){if(e.save(),e.setLineDash(n),e.lineDashOffset=0,this.from!=this.to)t=this._line(e);else{var i=this._getCircleData(e),s=r(i,3),o=s[0],u=s[1],a=s[2];this._circle(e,o,u,a)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)e.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,n);else{var f=this._getCircleData(e),l=r(f,3),o=l[0],u=l[1],a=l[2];this._circle(e,o,u,a)}this.enableShadow(e),e.stroke(),this.disableShadow(e)}return t}},{key:"findBorderPosition",value:function(e,t,n){return this.from!=this.to?this._findBorderPosition(e,t,n):this._findBorderPositionCircle(e,t,n)}},{key:"findBorderPositions",value:function(e){var t={},n={};if(this.from!=this.to)t=this._findBorderPosition(this.from,e),n=this._findBorderPosition(this.to,e);else{var i=this._getCircleData(e),s=r(i,3),o=s[0],u=s[1];s[2],t=this._findBorderPositionCircle(this.from,e,{x:o,y:u,low:.25,high:.6,direction:-1}),n=this._findBorderPositionCircle(this.from,e,{x:o,y:u,low:.6,high:.8,direction:1})}return{from:t,to:n}}},{key:"_getCircleData",value:function(e){var t=void 0,n=void 0,r=this.from,i=this.options.selfReferenceSize;return void 0!==e&&void 0===r.shape.width&&r.shape.resize(e),r.shape.width>r.shape.height?(t=r.x+.5*r.shape.width,n=r.y-i):(t=r.x+i,n=r.y-.5*r.shape.height),[t,n,i]}},{key:"_pointOnCircle",value:function(e,t,n,r){var i=2*r*Math.PI;return{x:e+n*Math.cos(i),y:t-n*Math.sin(i)}}},{key:"_findBorderPositionCircle",value:function(e,t,n){for(var r=n.x,i=n.y,s=n.low,o=n.high,u=n.direction,a=10,f=0,l=this.options.selfReferenceSize,c=void 0,h=void 0,p=void 0,d=void 0,v=void 0,m=.05,g=.5*(s+o);o>=s&&a>f&&(g=.5*(s+o),c=this._pointOnCircle(r,i,l,g),h=Math.atan2(e.y-c.y,e.x-c.x),p=e.distanceToBorder(t,h),d=Math.sqrt(Math.pow(c.x-e.x,2)+Math.pow(c.y-e.y,2)),v=p-d,!(Math.abs(v)<m));)v>0?u>0?s=g:o=g:u>0?o=g:s=g,f++;return c.t=g,c}},{key:"getLineWidth",value:function(e,t){return e===!0?Math.max(this.selectionWidth,.3/this.body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(e,t,n){var r=this.options.color;if(r.inherit!==!1){if("both"===r.inherit&&this.from.id!==this.to.id){var i=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),s=void 0,u=void 0;return s=this.from.options.color.highlight.border,u=this.to.options.color.highlight.border,this.from.selected===!1&&this.to.selected===!1?(s=o.overrideOpacity(this.from.options.color.border,this.options.color.opacity),u=o.overrideOpacity(this.to.options.color.border,this.options.color.opacity)):this.from.selected===!0&&this.to.selected===!1?u=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(s=this.from.options.color.border),i.addColorStop(0,s),i.addColorStop(1,u),i}this.colorDirty===!0&&("to"===r.inherit?(this.color.highlight=this.to.options.color.highlight.border,this.color.hover=this.to.options.color.hover.border,this.color.color=o.overrideOpacity(this.to.options.color.border,r.opacity)):(this.color.highlight=this.from.options.color.highlight.border,this.color.hover=this.from.options.color.hover.border,this.color.color=o.overrideOpacity(this.from.options.color.border,r.opacity)))}else this.colorDirty===!0&&(this.color.highlight=r.highlight,this.color.hover=r.hover,this.color.color=o.overrideOpacity(r.color,r.opacity));return this.colorDirty=!1,t===!0?this.color.highlight:n===!0?this.color.hover:this.color.color}},{key:"_circle",value:function(e,t,n,r){this.enableShadow(e),e.beginPath(),e.arc(t,n,r,0,2*Math.PI,!1),e.stroke(),this.disableShadow(e)}},{key:"getDistanceToEdge",value:function(e,t,n,i,s,o,u){var a=0;if(this.from!=this.to)a=this._getDistanceToEdge(e,t,n,i,s,o,u);else{var f=this._getCircleData(),l=r(f,3),c=l[0],h=l[1],p=l[2],d=c-s,v=h-o;a=Math.abs(Math.sqrt(d*d+v*v)-p)}return this.labelModule.size.left<s&&this.labelModule.size.left+this.labelModule.size.width>s&&this.labelModule.size.top<o&&this.labelModule.size.top+this.labelModule.size.height>o?0:a}},{key:"_getDistanceToLine",value:function(e,t,n,r,i,s){var o=n-e,u=r-t,a=o*o+u*u,f=((i-e)*o+(s-t)*u)/a;f>1?f=1:0>f&&(f=0);var l=e+f*o,c=t+f*u,h=l-i,p=c-s;return Math.sqrt(h*h+p*p)}},{key:"drawArrowHead",value:function(e,t,n,i,s){e.strokeStyle=this.getColor(e,i,s),e.fillStyle=e.strokeStyle,e.lineWidth=this.getLineWidth(i,s);var o=void 0,u=void 0,a=void 0,f=void 0,l=void 0,c=void 0,h=void 0;if("from"===t?(f=this.from,l=this.to,c=.1,h=this.options.arrows.from.scaleFactor):"to"===t?(f=this.to,l=this.from,c=-0.1,h=this.options.arrows.to.scaleFactor):(f=this.to,l=this.from,h=this.options.arrows.middle.scaleFactor),f!=l){if("middle"!==t)if(this.options.smooth.enabled===!0){a=this.findBorderPosition(f,e,{via:n});var p=this.getPoint(Math.max(0,Math.min(1,a.t+c)),n);o=Math.atan2(a.y-p.y,a.x-p.x)}else o=Math.atan2(f.y-l.y,f.x-l.x),a=this.findBorderPosition(f,e);else o=Math.atan2(f.y-l.y,f.x-l.x),a=this.getPoint(.6,n);u=(10+5*this.options.width)*h,e.arrow(a.x,a.y,o,u),this.enableShadow(e),e.fill(),this.disableShadow(e),e.stroke()}else{var d=void 0,v=void 0,m=this._getCircleData(e),g=r(m,3),y=g[0],b=g[1],w=g[2];"from"===t?(v=this.findBorderPosition(this.from,e,{x:y,y:b,low:.25,high:.6,direction:-1}),d=-2*v.t*Math.PI+1.5*Math.PI+.1*Math.PI):"to"===t?(v=this.findBorderPosition(this.from,e,{x:y,y:b,low:.6,high:1,direction:1}),d=-2*v.t*Math.PI+1.5*Math.PI-1.1*Math.PI):(v=this._pointOnCircle(y,b,w,.175),d=3.9269908169872414);var E=(10+5*this.options.width)*h;e.arrow(v.x,v.y,d,E),this.enableShadow(e),e.fill(),this.disableShadow(e),e.stroke()}}},{key:"enableShadow",value:function(e){this.options.shadow.enabled===!0&&(e.shadowColor="rgba(0,0,0,0.5)",e.shadowBlur=this.options.shadow.size,e.shadowOffsetX=this.options.shadow.x,e.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(e){this.options.shadow.enabled===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(84),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"_line",value:function(e){e.beginPath(),e.moveTo(this.from.x,this.from.y);var t=this._getViaCoordinates(),n=t;return void 0===t.x?(e.lineTo(this.to.x,this.to.y),n=void 0):e.quadraticCurveTo(t.x,t.y,this.to.x,this.to.y),this.enableShadow(e),e.stroke(),this.disableShadow(e),n}},{key:"_getViaCoordinates",value:function(){var e=void 0,t=void 0,n=this.options.smooth.roundness,r=this.options.smooth.type,i=Math.abs(this.from.x-this.to.x),s=Math.abs(this.from.y-this.to.y);if("discrete"===r||"diagonalCross"===r)Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(this.from.y>this.to.y?this.from.x<this.to.x?(e=this.from.x+n*s,t=this.from.y-n*s):this.from.x>this.to.x&&(e=this.from.x-n*s,t=this.from.y-n*s):this.from.y<this.to.y&&(this.from.x<this.to.x?(e=this.from.x+n*s,t=this.from.y+n*s):this.from.x>this.to.x&&(e=this.from.x-n*s,t=this.from.y+n*s)),"discrete"===r&&(e=n*s>i?this.from.x:e)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(e=this.from.x+n*i,t=this.from.y-n*i):this.from.x>this.to.x&&(e=this.from.x-n*i,t=this.from.y-n*i):this.from.y<this.to.y&&(this.from.x<this.to.x?(e=this.from.x+n*i,t=this.from.y+n*i):this.from.x>this.to.x&&(e=this.from.x-n*i,t=this.from.y+n*i)),"discrete"===r&&(t=n*i>s?this.from.y:t));else if("straightCross"===r)Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(e=this.from.x,t=this.from.y<this.to.y?this.to.y-(1-n)*s:this.to.y+(1-n)*s):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(e=this.from.x<this.to.x?this.to.x-(1-n)*i:this.to.x+(1-n)*i,t=this.from.y);else if("horizontal"===r)e=this.from.x<this.to.x?this.to.x-(1-n)*i:this.to.x+(1-n)*i,t=this.from.y;else if("vertical"===r)e=this.from.x,t=this.from.y<this.to.y?this.to.y-(1-n)*s:this.to.y+(1-n)*s;else if("curvedCW"===r){i=this.to.x-this.from.x,s=this.from.y-this.to.y;var o=Math.sqrt(i*i+s*s),u=Math.PI,a=Math.atan2(s,i),f=(a+(.5*n+.5)*u)%(2*u);e=this.from.x+(.5*n+.5)*o*Math.sin(f),t=this.from.y+(.5*n+.5)*o*Math.cos(f)}else if("curvedCCW"===r){i=this.to.x-this.from.x,s=this.from.y-this.to.y;var o=Math.sqrt(i*i+s*s),u=Math.PI,a=Math.atan2(s,i),f=(a+(.5*-n+.5)*u)%(2*u);e=this.from.x+(.5*n+.5)*o*Math.sin(f),t=this.from.y+(.5*n+.5)*o*Math.cos(f)}else Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?this.from.y>this.to.y?this.from.x<this.to.x?(e=this.from.x+n*s,t=this.from.y-n*s,e=this.to.x<e?this.to.x:e):this.from.x>this.to.x&&(e=this.from.x-n*s,t=this.from.y-n*s,e=this.to.x>e?this.to.x:e):this.from.y<this.to.y&&(this.from.x<this.to.x?(e=this.from.x+n*s,t=this.from.y+n*s,e=this.to.x<e?this.to.x:e):this.from.x>this.to.x&&(e=this.from.x-n*s,t=this.from.y+n*s,e=this.to.x>e?this.to.x:e)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(e=this.from.x+n*i,t=this.from.y-n*i,t=this.to.y>t?this.to.y:t):this.from.x>this.to.x&&(e=this.from.x-n*i,t=this.from.y-n*i,t=this.to.y>t?this.to.y:t):this.from.y<this.to.y&&(this.from.x<this.to.x?(e=this.from.x+n*i,t=this.from.y+n*i,t=this.to.y<t?this.to.y:t):this.from.x>this.to.x&&(e=this.from.x-n*i,t=this.from.y+n*i,t=this.to.y<t?this.to.y:t)));return{x:e,y:t}}},{key:"_findBorderPosition",value:function(e,t){var n=void 0===arguments[2]?{}:arguments[2];return this._findBorderPositionBezier(e,t,n.via)}},{key:"_getDistanceToEdge",value:function(e,t,n,r,i,s){var o=void 0===arguments[6]?this._getViaCoordinates():arguments[6];return this._getDistanceToBezierEdge(e,t,n,r,i,s,o)}},{key:"getPoint",value:function(e){var t=void 0===arguments[1]?this._getViaCoordinates():arguments[1],n=e,r=Math.pow(1-n,2)*this.from.x+2*n*(1-n)*t.x+Math.pow(n,2)*this.to.x,i=Math.pow(1-n,2)*this.from.y+2*n*(1-n)*t.y+Math.pow(n,2)*this.to.y;return{x:r,y:i}}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(85),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"_line",value:function(e){return e.beginPath(),e.moveTo(this.from.x,this.from.y),e.lineTo(this.to.x,this.to.y),this.enableShadow(e),e.stroke(),void this.disableShadow(e)}},{key:"getPoint",value:function(e){return{x:(1-e)*this.from.x+e*this.to.x,y:(1-e)*this.from.y+e*this.to.y}}},{key:"_findBorderPosition",value:function(e,t){var n=this.to,r=this.from;e.id===this.from.id&&(n=this.from,r=this.to);var i=Math.atan2(n.y-r.y,n.x-r.x),s=n.x-r.x,o=n.y-r.y,u=Math.sqrt(s*s+o*o),a=e.distanceToBorder(t,i),f=(u-a)/u,l={};return l.x=(1-f)*r.x+f*n.x,l.y=(1-f)*r.y+f*n.y,l}},{key:"_getDistanceToEdge",value:function(e,t,n,r,i,s){return this._getDistanceToLine(e,t,n,r,i,s)}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(89),u=r(o),a=n(90),f=r(a),l=n(91),c=r(l),h=n(92),p=r(h),d=n(93),v=r(d),m=n(94),g=r(m),y=n(95),b=r(y),w=n(96),E=r(w),S=n(1),x=function(){function e(t){i(this,e),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.freezeCache={},this.renderTimer=void 0,this.initialStabilizationEmitted=!1,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.1,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5},S.extend(this.options,this.defaultOptions),this.bindEventListeners()}return s(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),e.ready===!0&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()})}},{key:"setOptions",value:function(e){void 0!==e&&(e===!1?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):(this.physicsEnabled=!0,S.selectiveNotDeepExtend(["stabilization"],this.options,e),S.mergeOptions(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation()))),this.init()}},{key:"init",value:function(){var e;"forceAtlas2Based"===this.options.solver?(e=this.options.forceAtlas2Based,this.nodesSolver=new b["default"](this.body,this.physicsBody,e),this.edgesSolver=new p["default"](this.body,this.physicsBody,e),this.gravitySolver=new E["default"](this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(e=this.options.repulsion,this.nodesSolver=new f["default"](this.body,this.physicsBody,e),this.edgesSolver=new p["default"](this.body,this.physicsBody,e),this.gravitySolver=new g["default"](this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new c["default"](this.body,this.physicsBody,e),this.edgesSolver=new v["default"](this.body,this.physicsBody,e),this.gravitySolver=new g["default"](this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new u["default"](this.body,this.physicsBody,e),this.edgesSolver=new p["default"](this.body,this.physicsBody,e),this.gravitySolver=new g["default"](this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},!0),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=void 0===arguments[0]?!0:arguments[0];this.stabilized=!0,e===!0&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Date.now();this.physicsTick();var t=Date.now()-e;(t<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&(this.stabilizationIterations>1&&(this.startedStabilization=!1),this.stopSimulation())}},{key:"_emitStabilized",value:function(){var e=this;(this.stabilizationIterations>1||this.initialStabilizationEmitted===!1)&&(this.initialStabilizationEmitted=!0,setTimeout(function(){e.body.emitter.emit("stabilized",{iterations:e.stabilizationIterations}),e.stabilizationIterations=0},0))}},{key:"physicsTick",value:function(){this.stabilized===!1&&(this.calculateForces(),this.stabilized=this.moveNodes(),this.stabilized===!0?this.revert():this.startedStabilization===!1&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var n in e)e.hasOwnProperty(n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(n);for(var r in t)t.hasOwnProperty(r)&&t[r].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r);for(var i=0;i<this.physicsBody.physicsNodeIndices.length;i++){var n=this.physicsBody.physicsNodeIndices[i];this.physicsBody.forces[n]={x:0,y:0},void 0===this.physicsBody.velocities[n]&&(this.physicsBody.velocities[n]={x:0,y:0})}for(var n in this.physicsBody.velocities)void 0===e[n]&&delete this.physicsBody.velocities[n]}},{key:"revert",value:function(){for(var e=Object.keys(this.previousStates),t=this.body.nodes,n=this.physicsBody.velocities,r=0;r<e.length;r++){var i=e[r];void 0!==t[i]?t[i].options.physics===!0&&(n[i].x=this.previousStates[i].vx,n[i].y=this.previousStates[i].vy,t[i].x=this.previousStates[i].x,t[i].y=this.previousStates[i].y):delete this.previousStates[i]}}},{key:"moveNodes",value:function(){for(var e=!1,t=this.physicsBody.physicsNodeIndices,n=this.options.maxVelocity?this.options.maxVelocity:1e9,r=!0,i=this.options.minVelocity/Math.max(this.body.view.scale,.05),s=0;s<t.length;s++){var o=t[s],u=this._performStep(o,n);r=i>u&&r===!0,e=!0}return e===!0?i>.5*this.options.maxVelocity?!1:r:!0}},{key:"_performStep",value:function(e,t){var n=this.body.nodes[e],r=this.options.timestep,i=this.physicsBody.forces,s=this.physicsBody.velocities;if(this.previousStates[e]={x:n.x,y:n.y,vx:s[e].x,vy:s[e].y},n.options.fixed.x===!1){var o=this.modelOptions.damping*s[e].x,u=(i[e].x-o)/n.options.mass;s[e].x+=u*r,s[e].x=Math.abs(s[e].x)>t?s[e].x>0?t:-t:s[e].x,n.x+=s[e].x*r}else i[e].x=0,s[e].x=0;if(n.options.fixed.y===!1){var a=this.modelOptions.damping*s[e].y,f=(i[e].y-a)/n.options.mass;s[e].y+=f*r,s[e].y=Math.abs(s[e].y)>t?s[e].y>0?t:-t:s[e].y,n.y+=s[e].y*r}else i[e].y=0,s[e].y=0;var l=Math.sqrt(Math.pow(s[e].x,2)+Math.pow(s[e].y,2));return l}},{key:"calculateForces",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve()}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)e.hasOwnProperty(t)&&e[t].x&&e[t].y&&(this.freezeCache[t]={x:e[t].options.fixed.x,y:e[t].options.fixed.y},e[t].options.fixed.x=!0,e[t].options.fixed.y=!0)}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)e.hasOwnProperty(t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=void 0===arguments[0]?this.options.stabilization.iterations:arguments[0];"number"!=typeof t&&(console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations),t=this.options.stabilization.iterations),this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedrawRequests"),this.targetIterations=t,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return e._stabilizationBatch()},0)}},{key:"_stabilizationBatch",value:function(){for(var e=0;this.stabilized===!1&&e<this.options.stabilization.updateInterval&&this.stabilizationIterations<this.targetIterations;)this.physicsTick(),this.stabilizationIterations++,e++;this.stabilized===!1&&this.stabilizationIterations<this.targetIterations?(this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations}),setTimeout(this._stabilizationBatch.bind(this),0)):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedrawRequests"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}}]),e}();t["default"]=x,e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r,i){n(this,e),this.body=t,this.physicsBody=r,this.barnesHutTree,this.setOptions(i),this.randomSeed=5}return r(e,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var e=1e4*Math.sin(this.randomSeed++);return e-Math.floor(e)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e=void 0,t=this.body.nodes,n=this.physicsBody.physicsNodeIndices,r=n.length,i=this._formBarnesHutTree(t,n);this.barnesHutTree=i;for(var s=0;r>s;s++)e=t[n[s]],e.options.mass>0&&(this._getForceContribution(i.root.children.NW,e),this._getForceContribution(i.root.children.NE,e),this._getForceContribution(i.root.children.SW,e),this._getForceContribution(i.root.children.SE,e))}}},{key:"_getForceContribution",value:function(e,t){if(e.childrenCount>0){var n=void 0,r=void 0,i=void 0;n=e.centerOfMass.x-t.x,r=e.centerOfMass.y-t.y,i=Math.sqrt(n*n+r*r),i*e.calcSize>this.thetaInversed?this._calculateForces(i,n,r,t,e):4===e.childrenCount?(this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)):e.children.data.id!=t.id&&this._calculateForces(i,n,r,t,e)}}},{key:"_calculateForces",value:function(e,t,n,r,i){0===e&&(e=.1,t=e),this.overlapAvoidanceFactor<1&&(e=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,e-r.shape.radius));var s=this.options.gravitationalConstant*i.mass*r.options.mass/Math.pow(e,3),o=t*s,u=n*s;this.physicsBody.forces[r.id].x+=o,this.physicsBody.forces[r.id].y+=u}},{key:"_formBarnesHutTree",value:function(e,t){for(var n=void 0,r=t.length,i=e[t[0]].x,s=e[t[0]].y,o=e[t[0]].x,u=e[t[0]].y,a=1;r>a;a++){var f=e[t[a]].x,l=e[t[a]].y;e[t[a]].options.mass>0&&(i>f&&(i=f),f>o&&(o=f),s>l&&(s=l),l>u&&(u=l))}var c=Math.abs(o-i)-Math.abs(u-s);c>0?(s-=.5*c,u+=.5*c):(i+=.5*c,o-=.5*c);var h=1e-5,p=Math.max(h,Math.abs(o-i)),d=.5*p,v=.5*(i+o),m=.5*(s+u),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-d,maxX:v+d,minY:m-d,maxY:m+d},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(var a=0;r>a;a++)n=e[t[a]],n.options.mass>0&&this._placeInTree(g.root,n);return g}},{key:"_updateBranchMass",value:function(e,t){var n=e.mass+t.options.mass,r=1/n;e.centerOfMass.x=e.centerOfMass.x*e.mass+t.x*t.options.mass,e.centerOfMass.x*=r,e.centerOfMass.y=e.centerOfMass.y*e.mass+t.y*t.options.mass,e.centerOfMass.y*=r,e.mass=n;var i=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<i?i:e.maxWidth}},{key:"_placeInTree",value:function(e,t,n){(1!=n||void 0===n)&&this._updateBranchMass(e,t),e.children.NW.range.maxX>t.x?e.children.NW.range.maxY>t.y?this._placeInRegion(e,t,"NW"):this._placeInRegion(e,t,"SW"):e.children.NW.range.maxY>t.y?this._placeInRegion(e,t,"NE"):this._placeInRegion(e,t,"SE")}},{key:"_placeInRegion",value:function(e,t,n){switch(e.children[n].childrenCount){case 0:e.children[n].children.data=t,e.children[n].childrenCount=1,this._updateBranchMass(e.children[n],t);break;case 1:e.children[n].children.data.x===t.x&&e.children[n].children.data.y===t.y?(t.x+=this.seededRandom(),t.y+=this.seededRandom()):(this._splitBranch(e.children[n]),this._placeInTree(e.children[n],t));break;case 4:this._placeInTree(e.children[n],t)}}},{key:"_splitBranch",value:function(e){var t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=t&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var n=void 0,r=void 0,i=void 0,s=void 0,o=.5*e.size;switch(t){case"NW":n=e.range.minX,r=e.range.minX+o,i=e.range.minY,s=e.range.minY+o;break;case"NE":n=e.range.minX+o,r=e.range.maxX,i=e.range.minY,s=e.range.minY+o;break;case"SW":n=e.range.minX,r=e.range.minX+o,i=e.range.minY+o,s=e.range.maxY;break;case"SE":n=e.range.minX+o,r=e.range.maxX,i=e.range.minY+o,s=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:r,minY:i,maxY:s},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,n){void 0===n&&(n="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=n,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r,i){n(this,e),this.body=t,this.physicsBody=r,this.setOptions(i)}return r(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,r,i,s,o,u,a=this.body.nodes,f=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,c=this.options.nodeDistance,h=-2/3/c,p=4/3,d=0;d<f.length-1;d++){o=a[f[d]];for(var v=d+1;v<f.length;v++)u=a[f[v]],e=u.x-o.x,t=u.y-o.y,n=Math.sqrt(e*e+t*t),0===n&&(n=.1*Math.random(),e=n),2*c>n&&(s=.5*c>n?1:h*n+p,s/=n,r=e*s,i=t*s,l[o.id].x-=r,l[o.id].y-=i,l[u.id].x+=r,l[u.id].y+=i)}}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r,i){n(this,e),this.body=t,this.physicsBody=r,this.setOptions(i)}return r(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){var e,t,n,r,i,s,o,u,a,f,l=this.body.nodes,c=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,p=this.options.nodeDistance;for(a=0;a<c.length-1;a++)for(o=l[c[a]],f=a+1;f<c.length;f++)if(u=l[c[f]],o.level===u.level){e=u.x-o.x,t=u.y-o.y,n=Math.sqrt(e*e+t*t);var d=.05;s=p>n?-Math.pow(d*n,2)+Math.pow(d*p,2):0,0===n?n=.01:s/=n,r=e*s,i=t*s,h[o.id].x-=r,h[o.id].y-=i,h[u.id].x+=r,h[u.id].y+=i}}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r,i){n(this,e),this.body=t,this.physicsBody=r,this.setOptions(i)}return r(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e=void 0,t=void 0,n=this.physicsBody.physicsEdgeIndices,r=this.body.edges,i=void 0,s=void 0,o=void 0,u=0;u<n.length;u++)t=r[n[u]],t.connected===!0&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(e=void 0===t.options.length?this.options.springLength:t.options.length,i=t.to,s=t.edgeType.via,o=t.from,this._calculateSpringForce(i,s,.5*e),this._calculateSpringForce(s,o,.5*e)):(e=void 0===t.options.length?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}},{key:"_calculateSpringForce",value:function(e,t,n){var r=e.x-t.x,i=e.y-t.y,s=Math.max(Math.sqrt(r*r+i*i),.01),o=this.options.springConstant*(n-s)/s,u=r*o,a=i*o;void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=a),void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x-=u,this.physicsBody.forces[t.id].y-=a)}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r,i){n(this,e),this.body=t,this.physicsBody=r,this.setOptions(i)}return r(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,r,i,s,o,u,a=this.body.edges,f=.5,l=this.physicsBody.physicsEdgeIndices,c=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,p=0;p<c.length;p++){var d=c[p];h[d].springFx=0,h[d].springFy=0}for(var p=0;p<l.length;p++)t=a[l[p]],t.connected===!0&&(e=void 0===t.options.length?this.options.springLength:t.options.length,n=t.from.x-t.to.x,r=t.from.y-t.to.y,u=Math.sqrt(n*n+r*r),u=0===u?.01:u,o=this.options.springConstant*(e-u)/u,i=n*o,s=r*o,t.to.level!=t.from.level?(void 0!==h[t.toId]&&(h[t.toId].springFx-=i,h[t.toId].springFy-=s),void 0!==h[t.fromId]&&(h[t.fromId].springFx+=i,h[t.fromId].springFy+=s)):(void 0!==h[t.toId]&&(h[t.toId].x-=f*i,h[t.toId].y-=f*s),void 0!==h[t.fromId]&&(h[t.fromId].x+=f*i,h[t.fromId].y+=f*s)));for(var v,m,o=1,p=0;p<c.length;p++){var d=c[p];v=Math.min(o,Math.max(-o,h[d].springFx)),m=Math.min(o,Math.max(-o,h[d].springFy)),h[d].x+=v,h[d].y+=m}for(var g=0,y=0,p=0;p<c.length;p++){var d=c[p];g+=h[d].x,y+=h[d].y}for(var b=g/c.length,w=y/c.length,p=0;p<c.length;p++){var d=c[p];h[d].x-=b,h[d].y-=w}}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r,i){n(this,e),this.body=t,this.physicsBody=r,this.setOptions(i)}return r(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e=void 0,t=void 0,n=void 0,r=void 0,i=this.body.nodes,s=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces,u=0;u<s.length;u++){var a=s[u];r=i[a],e=-r.x,t=-r.y,n=Math.sqrt(e*e+t*t),this._calculateForces(n,e,t,o,r)}}},{key:"_calculateForces",value:function(e,t,n,r,i){var s=0===e?0:this.options.centralGravity/e;r[i.id].x=t*s,r[i.id].y=n*s}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(89),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"_calculateForces",value:function(e,t,n,r,i){0===e&&(e=.1*Math.random(),t=e),this.overlapAvoidanceFactor<1&&(e=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,e-r.shape.radius));var s=r.edges.length+1,o=this.options.gravitationalConstant*i.mass*r.options.mass*s/Math.pow(e,2),u=t*o,a=n*o;this.physicsBody.forces[r.id].x+=u,this.physicsBody.forces[r.id].y+=a}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},a=n(94),f=r(a),l=function(e){function t(e,n,r){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r)}return s(t,e),o(t,[{key:"_calculateForces",value:function(e,t,n,r,i){if(e>0){var s=i.edges.length+1,o=this.options.centralGravity*s*i.options.mass;r[i.id].x=t*o,r[i.id].y=n*o}}}]),t}(f["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(98),u=r(o),a=n(1),f=function(){function e(t){var n=this;i(this,e),this.body=t,this.clusteredNodes={},this.options={},this.defaultOptions={},a.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){n.clusteredNodes={}})}return s(e,[{key:"setOptions",value:function(e){}},{key:"clusterByHubsize",value:function(e,t){void 0===e?e=this._getHubSize():"object"==typeof e&&(t=this._checkOptions(e),e=this._getHubSize());for(var n=[],r=0;r<this.body.nodeIndices.length;r++){var i=this.body.nodes[this.body.nodeIndices[r]];i.edges.length>=e&&n.push(i.id)}for(var r=0;r<n.length;r++)this.clusterByConnection(n[r],t,!1);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=void 0===arguments[0]?{}:arguments[0],t=void 0===arguments[1]?!0:arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);for(var n={},r={},i=0;i<this.body.nodeIndices.length;i++){var s=this.body.nodeIndices[i],o=this.body.nodes[s],u=this._cloneOptions(o);if(e.joinCondition(u)===!0){n[s]=this.body.nodes[s];for(var a=0;a<o.edges.length;a++){var f=o.edges[a];r[f.id]=f}}}this._cluster(n,r,e,t)}},{key:"clusterOutliers",value:function(e){var t=void 0===arguments[1]?!0:arguments[1];e=this._checkOptions(e);for(var n=[],r=0;r<this.body.nodeIndices.length;r++){for(var i={},s={},o=this.body.nodeIndices[r],u=0,a=void 0,f=0;f<this.body.nodes[o].edges.length;f++)this.body.nodes[o].edges[f].options.hidden===!1&&(u++,a=this.body.nodes[o].edges[f]);if(1===u){var l=this._getConnectedId(a,o);if(l!==o){if(void 0===e.joinCondition)this._checkIfUsed(n,o,a.id)===!1&&this._checkIfUsed(n,l,a.id)===!1&&(s[a.id]=a,i[o]=this.body.nodes[o],i[l]=this.body.nodes[l]);else{var c=this._cloneOptions(this.body.nodes[o]);e.joinCondition(c)===!0&&this._checkIfUsed(n,o,a.id)===!1&&(s[a.id]=a,i[o]=this.body.nodes[o]),c=this._cloneOptions(this.body.nodes[l]),e.joinCondition(c)===!0&&this._checkIfUsed(n,o,a.id)===!1&&(s[a.id]=a,i[l]=this.body.nodes[l])}Object.keys(i).length>0&&Object.keys(s).length>0&&n.push({nodes:i,edges:s})}}}for(var r=0;r<n.length;r++)this._cluster(n[r].nodes,n[r].edges,e,!1);t===!0&&this.body.emitter.emit("_dataChanged")}},{key:"_checkIfUsed",value:function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(void 0!==i.nodes[t]||void 0!==i.edges[n])return!0}return!1}},{key:"clusterByConnection",value:function(e,t){var n=void 0===arguments[2]?!0:arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[e];t=this._checkOptions(t,r),void 0===t.clusterNodeProperties.x&&(t.clusterNodeProperties.x=r.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=r.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=r.options.fixed.x,t.clusterNodeProperties.fixed.y=r.options.fixed.y);var i={},s={},o=r.id,u=this._cloneOptions(r);i[o]=r;for(var a=0;a<r.edges.length;a++){var f=r.edges[a],l=this._getConnectedId(f,o);if(l!==o)if(void 0===t.joinCondition)s[f.id]=f,i[l]=this.body.nodes[l];else{var c=this._cloneOptions(this.body.nodes[l]);t.joinCondition(u,c)===!0&&(s[f.id]=f,i[l]=this.body.nodes[l])}else s[f.id]=f}this._cluster(i,s,t,n)}},{key:"_cloneOptions",value:function(e,t){var n={};return void 0===t||"node"===t?(a.deepExtend(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):a.deepExtend(n,e.options,!0),n}},{key:"_createClusterEdges",value:function(e,t,n,r,i){for(var s=void 0,o=void 0,u=void 0,f=void 0,l=void 0,c=void 0,p=Object.keys(e),d=0;d<p.length;d++){o=p[d],u=e[o];for(var v=0;v<u.edges.length;v++)if(s=u.edges[v],t[s.id]=s,s.toId==o?(f=r.id,l=s.fromId,c=l):(f=s.toId,l=r.id,c=f),void 0===e[c]){var m=this._cloneOptions(s,"edge");a.deepExtend(m,i),m.from=l,m.to=f,m.id="clusterEdge:"+a.randomUUID(),n.push(this.body.functions.createEdge(m))}}}},{key:"_checkOptions",value:function(){var e=void 0===arguments[0]?{}:arguments[0];return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,n){var r=void 0===arguments[3]?!0:arguments[3];if(0!==Object.keys(e).length){var i=a.deepExtend({},n.clusterNodeProperties);if(void 0!==n.processProperties){var s=[];for(var o in e){var f=this._cloneOptions(e[o]);s.push(f)}var l=[];for(var c in t){var f=this._cloneOptions(t[c],"edge");l.push(f)}if(i=n.processProperties(i,s,l),!i)throw new Error("The processProperties function does not return properties!")}void 0===i.id&&(i.id="cluster:"+a.randomUUID());var p=i.id;void 0===i.label&&(i.label="cluster");var d=void 0;void 0===i.x&&(d=this._getClusterPosition(e),i.x=d.x),void 0===i.y&&(void 0===d&&(d=this._getClusterPosition(e)),i.y=d.y),i.id=p;var v=this.body.functions.createNode(i,u["default"]);v.isCluster=!0,v.containedNodes=e,v.containedEdges=t,v.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[i.id]=v;var m=[];this._createClusterEdges(e,t,m,i,n.clusterEdgeProperties);for(var c in t)if(t.hasOwnProperty(c)&&void 0!==this.body.edges[c]){var g=this.body.edges[c];g.togglePhysics(!1),g.options.hidden=!0}for(var o in e)e.hasOwnProperty(o)&&(this.clusteredNodes[o]={clusterId:i.id,node:this.body.nodes[o]},this.body.nodes[o].togglePhysics(!1),this.body.nodes[o].options.hidden=!0);for(var y=0;y<m.length;y++)this.body.edges[m[y].id]=m[y],this.body.edges[m[y].id].connect();i.id=void 0,r===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"isCluster",value:function(e){return void 0!==this.body.nodes[e]?this.body.nodes[e].isCluster===!0:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t=Object.keys(e),n=e[t[0]].x,r=e[t[0]].x,i=e[t[0]].y,s=e[t[0]].y,o=void 0,u=1;u<t.length;u++)o=e[t[u]],n=o.x<n?o.x:n,r=o.x>r?o.x:r,i=o.y<i?o.y:i,s=o.y>s?o.y:s;return{x:.5*(n+r),y:.5*(i+s)}}},{key:"openCluster",value:function(e,t){var n=void 0===arguments[2]?!0:arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");if(void 0===this.body.nodes[e])throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(void 0===this.body.nodes[e].containedNodes)return void console.log("The node:"+e+" is not a cluster.");var r=this.body.nodes[e],i=r.containedNodes,s=r.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"==typeof t.releaseFunction){var o={},u={x:r.x,y:r.y};for(var f in i)if(i.hasOwnProperty(f)){var l=this.body.nodes[f];o[f]={x:l.x,y:l.y}}var c=t.releaseFunction(u,o);for(var f in i)if(i.hasOwnProperty(f)){var l=this.body.nodes[f];void 0!==c[f]&&(l.x=c[f].x||r.x,l.y=c[f].y||r.y)}}else for(var f in i)if(i.hasOwnProperty(f)){var l=this.body.nodes[f];l=i[f],l.x=r.x,l.y=r.y}for(var f in i)if(i.hasOwnProperty(f)){var l=this.body.nodes[f];l.vx=r.vx,l.vy=r.vy,l.options.hidden=!1,l.togglePhysics(!0),delete this.clusteredNodes[f]}for(var p in s)if(s.hasOwnProperty(p)){var d=s[p];if(void 0===this.body.nodes[d.fromId]||void 0===this.body.nodes[d.toId])d.edgeType.cleanup(),d.disconnect(),delete this.body.edges[p];else if(void 0!==this.clusteredNodes[d.fromId]||void 0!==this.clusteredNodes[d.toId]){var v=void 0,m=void 0,g=this.clusteredNodes[d.fromId]||this.clusteredNodes[d.toId],y=g.clusterId,b=this.body.nodes[y];if(b.containedEdges[p]=d,void 0!==this.clusteredNodes[d.fromId]?(v=y,m=d.toId):(v=d.fromId,m=y),this.body.nodes[v].options.hidden!==!0&&this.body.nodes[m].options.hidden!==!0){var w=this._cloneOptions(d,"edge"),E="clusterEdge:"+a.randomUUID();a.deepExtend(w,b.clusterEdgeProperties),a.deepExtend(w,{from:v,to:m,hidden:!1,physics:!0,id:E});var S=this.body.functions.createEdge(w);this.body.edges[E]=S,this.body.edges[E].connect()}}else d.options.hidden=!1,d.togglePhysics(!0)}for(var x=0;x<r.edges.length;x++){var p=r.edges[x].id;this.body.edges[p].edgeType.cleanup(),this.body.edges[p].disconnect(),delete this.body.edges[p]}delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(this.isCluster(e)===!0){var n=this.body.nodes[e].containedNodes;for(var r in n)n.hasOwnProperty(r)&&t.push(r)}return t}},{key:"findNode",value:function(e){for(var t=[],n=100,r=0;void 0!==this.clusteredNodes[e]&&n>r;)t.push(this.clusteredNodes[e].node),e=this.clusteredNodes[e].clusterId,r++;return t.push(this.body.nodes[e]),t}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:e.fromId!=t?e.fromId:e.fromId}},{key:"_getHubSize",value:function(){for(var e=0,t=0,n=0,r=0,i=0;i<this.body.nodeIndices.length;i++){var s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>r&&(r=s.edges.length),e+=s.edges.length,t+=Math.pow(s.edges.length,2),n+=1}e/=n,t/=n;var o=t-Math.pow(e,2),u=Math.sqrt(o),a=Math.floor(e+2*u);return a>r&&(a=r),a}}]),e}();t["default"]=f,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=f=a=void 0,r=!1;var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return void 0;e=f,t=s,n=o,r=!0}},u=n(62),a=r(u),f=function(e){function t(e,n,r,s,u){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,r,s,u),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}return s(t,e),t}(a["default"]);t["default"]=f,e.exports=t["default"]},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var s=n(1),o=function(){function e(t,n){r(this,e),this.body=t,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.pixelRatio=void 0,this.allowRedrawRequests=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},s.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return i(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("dragStart",function(){e.dragging=!0}),this.body.emitter.on("dragEnd",function(){return e.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){return e._resizeNodes()}),this.body.emitter.on("_redraw",function(){e.renderingActive===!1&&e._redraw()}),this.body.emitter.on("_blockRedrawRequests",function(){e.allowRedrawRequests=!1}),this.body.emitter.on("_allowRedrawRequests",function(){e.allowRedrawRequests=!0}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()}),this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0}),this.body.emitter.on("destroy",function(){e.renderRequests=0,e.renderingActive=!1,e.requiresTimeout===!0?clearTimeout(e.renderTimer):cancelAnimationFrame(e.renderTimer),e.body.emitter.off()})}},{key:"setOptions",value:function(e){if(void 0!==e){var t=["hideEdgesOnDrag","hideNodesOnDrag"];s.selectiveDeepExtend(t,this.options,e)}}},{key:"_startRendering",value:function(){this.renderingActive===!0&&void 0===this.renderTimer&&(this.requiresTimeout===!0?this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval):this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedrawRequests===!0&&(this.redrawRequested=!0,this.requiresTimeout===!0?window.setTimeout(function(){e._redraw(!1)},0):window.requestAnimationFrame(function(){e._redraw(!1)}))}},{key:"_redraw",value:function(){var e=void 0===arguments[0]?!1:arguments[0];this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var t=this.canvas.frame.canvas.getContext("2d");(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;t.clearRect(0,0,n,r),t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale),t.beginPath(),this.body.emitter.emit("beforeDrawing",t),t.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&this._drawEdges(t),(this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1)&&this._drawNodes(t,e),this.controlNodesActive===!0&&this._drawControlNodes(t),t.beginPath(),this.body.emitter.emit("afterDrawing",t),t.closePath(),t.restore(),e===!0&&t.clearRect(0,0,n,r)}},{key:"_resizeNodes",value:function(){var e=this.canvas.frame.canvas.getContext("2d");void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t=this.body.nodes,n=void 0;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],n.resize(e),n.updateBoundingBox(e));e.restore()}},{key:"_drawNodes",value:function(e){for(var t=void 0===arguments[1]?!1:arguments[1],n=this.body.nodes,r=this.body.nodeIndices,i=void 0,s=[],o=20,u=this.canvas.DOMtoCanvas({x:-o,y:-o}),a=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+o,y:this.canvas.frame.canvas.clientHeight+o}),f={top:u.y,left:u.x,bottom:a.y,right:a.x},l=0;l<r.length;l++)i=n[r[l]],i.isSelected()?s.push(r[l]):t===!0?i.draw(e):i.isBoundingBoxOverlappingWith(f)===!0?i.draw(e):i.updateBoundingBox(e);for(var l=0;l<s.length;l++)i=n[s[l]],i.draw(e)}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,n=this.body.edgeIndices,r=void 0,i=0;i<n.length;i++)r=t[n[i]],r.connected===!0&&r.draw(e)}},{key:"_drawControlNodes",value:function(e){for(var t=this.body.edges,n=this.body.edgeIndices,r=void 0,i=0;i<n.length;i++)r=t[n[i]],r._drawControlNodes(e)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=e.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=e.indexOf("safari")&&e.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(23),o=n(28),u=n(1),a=function(){function e(t){r(this,e),this.body=t,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},u.extend(this.options,this.defaultOptions),this.bindEventListeners()}return i(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.once("resize",function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(e){var t=this;if(void 0!==e){var n=["width","height","autoResize"];u.selectiveDeepExtend(n,this.options,e)}this.options.autoResize===!0&&(this._cleanUp(),this.resizeTimer=setInterval(function(){var e=t.setSize();e===!0&&t.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),u.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),u.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_prepareValue",value:function(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(-1!==e.indexOf("%")||-1!==e.indexOf("px"))return e;if(-1===e.indexOf("%"))return e+"px"}throw new Error("Could not use the value supplie for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext){var e=this.frame.canvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new s(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),o.onTouch(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("mousewheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new s(this.frame),o.onRelease(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var e=void 0===arguments[0]?this.options.width:arguments[0],t=void 0===arguments[1]?this.options.height:arguments[1];e=this._prepareValue(e),t=this._prepareValue(t);var n=!1,r=this.frame.canvas.width,i=this.frame.canvas.height;return e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t?(this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,n=!0):(this.frame.canvas.width!=Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&(this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),n=!0),this.frame.canvas.height!=Math.round(this.frame.canvas.clientHeight*this.pixelRatio)&&(this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),n=!0)),n===!0&&this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(r/this.pixelRatio),oldHeight:Math.round(i/this.pixelRatio)}),n}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),o=function(){function e(t,n){var i=this;r(this,e),this.body=t,this.canvas=n,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){i.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return i(e,[{key:"setOptions",value:function(){var e=void 0===arguments[0]?{}:arguments[0];this.options=e}},{key:"_getRange",value:function(){var e,t=void 0===arguments[0]?[]:arguments[0],n=1e9,r=-1e9,i=1e9,s=-1e9;if(t.length>0)for(var o=0;o<t.length;o++)e=this.body.nodes[t[o]],i>e.shape.boundingBox.left&&(i=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),r<e.shape.boundingBox.bottom&&(r=e.shape.boundingBox.bottom);else for(var u in this.body.nodes)this.body.nodes.hasOwnProperty(u)&&(e=this.body.nodes[u],i>e.shape.boundingBox.left&&(i=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),r<e.shape.boundingBox.bottom&&(r=e.shape.boundingBox.bottom));return 1e9===i&&-1e9===s&&1e9===n&&-1e9===r&&(n=0,r=0,i=0,s=0),{minX:i,maxX:s,minY:n,maxY:r}}},{key:"_findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"fit",value:function(){var e,t,n=void 0===arguments[0]?{nodes:[]}:arguments[0],r=void 0===arguments[1]?!1:arguments[1];if(r===!0){var i=0;for(var s in this.body.nodes)if(this.body.nodes.hasOwnProperty(s)){var o=this.body.nodes[s];o.predefinedPosition===!0&&(i+=1)}if(i>.5*this.body.nodeIndices.length)return void this.fit(n,!1);e=this._getRange(n.nodes);var u=this.body.nodeIndices.length;t=12.662/(u+7.4147)+.0964822;var a=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);t*=a}else{this.body.emitter.emit("_resizeNodes"),e=this._getRange(n.nodes);var f=1.1*Math.abs(e.maxX-e.minX),l=1.1*Math.abs(e.maxY-e.minY),c=this.canvas.frame.canvas.clientWidth/f,h=this.canvas.frame.canvas.clientHeight/l;t=h>=c?c:h}t>1?t=1:0===t&&(t=1);var p=this._findCenter(e),d={position:p,scale:t,animation:n.animation};this.moveTo(d)}},{key:"focus",value:function(e){var t=void 0===arguments[1]?{}:arguments[1];if(void 0!==this.body.nodes[e]){var n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=n,t.lockedOnNode=e,this.moveTo(t)}else console.log("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){return void 0===e?void (e={}):(void 0===e.offset&&(e.offset={x:0,y:0}),void 0===e.offset.x&&(e.offset.x=0),void 0===e.offset.y&&(e.offset.y=0),void 0===e.scale&&(e.scale=this.body.view.scale),void 0===e.position&&(e.position=this.getViewPosition()),void 0===e.animation&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),void this.animateView(e))}},{key:"animateView",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:t.x-e.position.x,y:t.y-e.position.y};this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},0===e.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},t=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),n={x:t.x-e.x,y:t.y-e.y},r=this.body.view.translation,i={x:r.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:r.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=i}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=void 0===arguments[0]?!1:arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;var t=s.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(103),u=r(o),a=n(104),f=r(a),l=n(1),c=function(){function e(t,n,r){i(this,e),this.body=t,this.canvas=n,this.selectionHandler=r,this.navigationHandler=new u["default"](t,n),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return s(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){if(void 0!==e){var t=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];l.selectiveNotDeepExtend(t,this.options,e),l.mergeOptions(this.options,e,"keyboard"),e.tooltip&&(l.extend(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=l.parseColor(e.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-l.getAbsoluteLeft(this.canvas.frame.canvas),y:e.y-l.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(e){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,e,n),this.selectionHandler._generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,e,n),this.selectionHandler._generateClickEvent("click",e,t),this.selectionHandler._generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if((new Date).valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent("release",e,t),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler._generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e,t){var n=void 0===arguments[2]?!1:arguments[2],r=this.selectionHandler._getSelectedEdgeCount(),i=this.selectionHandler._getSelectedNodeCount(),s=this.selectionHandler.getSelection(),o=void 0;o=n===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e);var u=this.selectionHandler._getSelectedEdgeCount(),a=this.selectionHandler._getSelectedNodeCount(),f=this.selectionHandler.getSelection(),l=this._determineIfDifferent(s,f),c=l.nodesChanges,h=l.edgesChanges;a-i>0?(this.selectionHandler._generateClickEvent("selectNode",t,e),o=!0):0>a-i?(this.selectionHandler._generateClickEvent("deselectNode",t,e,s),o=!0):a===i&&c===!0&&(this.selectionHandler._generateClickEvent("deselectNode",t,e,s),this.selectionHandler._generateClickEvent("selectNode",t,e),o=!0),u-r>0?(this.selectionHandler._generateClickEvent("selectEdge",t,e),o=!0):0>u-r?(this.selectionHandler._generateClickEvent("deselectEdge",t,e,s),o=!0):u===r&&h===!0&&(this.selectionHandler._generateClickEvent("deselectEdge",t,e,s),this.selectionHandler._generateClickEvent("selectEdge",t,e),o=!0),o===!0&&this.selectionHandler._generateClickEvent("select",t,e)}},{key:"_determineIfDifferent",value:function(e,t){for(var n=!1,r=!1,i=0;i<e.nodes.length;i++)-1===t.nodes.indexOf(e.nodes[i])&&(n=!0);for(var i=0;i<t.nodes.length;i++)-1===e.nodes.indexOf(e.nodes[i])&&(n=!0);for(var i=0;i<e.edges.length;i++)-1===t.edges.indexOf(e.edges[i])&&(r=!0);for(var i=0;i<t.edges.length;i++)-1===e.edges.indexOf(e.edges[i])&&(r=!0);return{nodesChanges:n,edgesChanges:r}}},{key:"onDragStart",value:function(e){void 0===this.drag.pointer&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=l.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==t&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(t)),this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer);var n=this.selectionHandler.selectionObj.nodes;for(var r in n)if(n.hasOwnProperty(r)){var i=n[r],s={id:i.id,node:i,x:i.x,y:i.y,xFixed:i.options.fixed.x,yFixed:i.options.fixed.y};i.options.fixed.x=!0,i.options.fixed.y=!0,this.drag.selection.push(s)}}else this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(e){var t=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var n=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&this.options.dragNodes===!0)!function(){t.selectionHandler._generateClickEvent("dragging",e,n);var i=n.x-t.drag.pointer.x,s=n.y-t.drag.pointer.y;r.forEach(function(e){var n=e.node;e.xFixed===!1&&(n.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(e.x)+i)),e.yFixed===!1&&(n.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(e.y)+s))}),t.body.emitter.emit("startSimulation")}();else if(this.options.dragView===!0){if(this.selectionHandler._generateClickEvent("dragging",e,n,void 0,!0),void 0===this.drag.pointer)return void this._handleDragStart(e);var i=n.x-this.drag.pointer.x,s=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_redraw")}}}},{key:"onDragEnd",value:function(e){this.drag.dragging=!1;var t=this.drag.selection;t&&t.length?(this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center)),t.forEach(function(e){e.node.options.fixed.x=e.xFixed,e.node.options.fixed.y=e.yFixed}),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var n=this.pinch.scale*e.scale;this.zoom(n,t)}},{key:"zoom",value:function(e,t){if(this.options.zoomView===!0){var n=this.body.view.scale;1e-5>e&&(e=1e-5),e>10&&(e=10);var r=void 0;void 0!==this.drag&&this.drag.dragging===!0&&(r=this.canvas.DOMtoCanvas(this.drag.pointer));var i=this.body.view.translation,s=e/n,o=(1-s)*t.x+i.x*s,u=(1-s)*t.y+i.y*s;if(this.body.view.scale=e,this.body.view.translation={x:o,y:u},void 0!=r){var a=this.canvas.canvasToDOM(r);this.drag.pointer.x=a.x,this.drag.pointer.y=a.y}this.body.emitter.emit("_requestRedraw"),e>n?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}}},{key:"onMouseWheel",value:function(e){var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),0!==t){var n=this.body.view.scale,r=t/10;0>t&&(r/=1-r),n*=1+r;var i=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(n,i)}e.preventDefault()}},{key:"onMouseMove",value:function(e){var t=this,n=this.getPointer({x:e.clientX,y:e.clientY}),r=!1;if(void 0!==this.popup&&(this.popup.hidden===!1&&this._checkHidePopup(n),this.popup.hidden===!1&&(r=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),r===!1&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return t._checkShowPopup(n)},this.options.tooltipDelay))),this.options.hover===!0){var i=this.selectionHandler.getNodeAt(n);void 0===i&&(i=this.selectionHandler.getEdgeAt(n)),this.selectionHandler.hoverObject(i)}}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),r={left:t,top:n,right:t,bottom:n},i=void 0===this.popupObj?void 0:this.popupObj.id,s=!1,o="node";if(void 0===this.popupObj){for(var u=this.body.nodeIndices,a=this.body.nodes,l=void 0,c=[],h=0;h<u.length;h++)l=a[u[h]],l.isOverlappingWith(r)===!0&&void 0!==l.getTitle()&&c.push(u[h]);c.length>0&&(this.popupObj=a[c[c.length-1]],s=!0)}if(void 0===this.popupObj&&s===!1){for(var p=this.body.edgeIndices,v=this.body.edges,m=void 0,g=[],h=0;h<p.length;h++)m=v[p[h]],m.isOverlappingWith(r)===!0&&m.connected===!0&&void 0!==m.getTitle()&&g.push(p[h]);g.length>0&&(this.popupObj=v[g[g.length-1]],o="edge")}void 0!==this.popupObj?this.popupObj.id!==i&&(void 0===this.popup&&(this.popup=new f["default"](this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),n=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t),n===!0)){var r=this.selectionHandler.getNodeAt(e);n=r.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),e}();t["default"]=c,e.exports=t["default"]},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=(n(1),n(23)),o=n(28),u=n(43),a=function(){function e(t,n){var i=this;r(this,e),this.body=t,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("release",function(){i._stopMovement()}),this.body.emitter.on("activate",function(){i.activated=!0,i.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){i.activated=!1,i.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==i.keycharm&&i.keycharm.destroy()}),this.options={}}return i(e,[{key:"setOptions",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],t=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<e.length;n++){this.navigationDOM[e[n]]=document.createElement("div"),this.navigationDOM[e[n]].className="vis-button vis-"+e[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[n]]);var r=new s(this.navigationDOM[e[n]]);"_fit"===t[n]?o.onTouch(r,this._fit.bind(this)):o.onTouch(r,this.bindToRedraw.bind(this,t[n])),this.navigationHammers.push(r)}this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=this[e].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)this.boundFunctions.hasOwnProperty(e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){this.body.view.scale*=1+this.options.keyboard.speed.zoom}},{key:"_zoomOut",value:function(){this.body.view.scale/=1+this.options.keyboard.speed.zoom}},{key:"configureKeyboardBindings",value:function(){var e=this;void 0!==this.keycharm&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=u({container:window,preventDefault:!0}):this.keycharm=u({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(this.keycharm.bind("up",function(){e.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){e.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){e.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){e.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){e.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){e.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){e.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){e.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){e.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){e.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){e.unbindFromRedraw("_zoomOut")},"keyup")))}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){n(this,e),this.container=t,this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-network-tooltip",this.container.appendChild(this.frame)}return r(e,[{key:"setPosition",value:function(e,t){this.x=parseInt(e),this.y=parseInt(t)}},{key:"setText",value:function(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=e}},{key:"show",value:function(e){if(void 0===e&&(e=!0),e===!0){var t=this.frame.clientHeight,n=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,i=this.frame.parentNode.clientWidth,s=this.y-t;s+t+this.padding>r&&(s=r-t-this.padding),s<this.padding&&(s=this.padding);var o=this.x;o+n+this.padding>i&&(o=i-n-this.padding),o<this.padding&&(o=this.padding),this.frame.style.left=o+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.visibility="hidden"}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(62),o=n(82),u=n(1),a=function(){function e(t,n){var i=this;r(this,e),this.body=t,this.canvas=n,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},u.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){i.updateSelection()})}return i(e,[{key:"setOptions",value:function(e){if(void 0!==e){var t=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];u.selectiveDeepExtend(t,this.options,e)}}},{key:"selectOnPoint",value:function(e){var t=!1;if(this.options.selectable===!0){var n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==n&&(t=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(this.options.selectable===!0){var n=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==n&&(t=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_generateClickEvent",value:function(e,t,n,r){var i=void 0===arguments[4]?!1:arguments[4],s=void 0;s=i===!0?{nodes:[],edges:[]}:this.getSelection(),s.pointer={DOM:{x:n.x,y:n.y},canvas:this.canvas.DOMtoCanvas(n)},s.event=t,void 0!==r&&(s.previousSelection=r),this.body.emitter.emit(e,s)}},{key:"selectObject",value:function(e){var t=void 0===arguments[1]?this.options.selectConnectedEdges:arguments[1];return void 0!==e?(e instanceof s&&t===!0&&this._selectConnectedEdges(e),e.select(),this._addToSelection(e),!0):!1}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],n=this.body.nodes,r=0;r<this.body.nodeIndices.length;r++){var i=this.body.nodeIndices[r];n[i].isOverlappingWith(e)&&t.push(i)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=void 0===arguments[1]?!0:arguments[1],n=this._pointerToPositionObject(e),r=this._getAllNodesOverlappingWith(n);return r.length>0?t===!0?this.body.nodes[r[r.length-1]]:r[r.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var n=this.body.edges,r=0;r<this.body.edgeIndices.length;r++){var i=this.body.edgeIndices[r];n[i].isOverlappingWith(e)&&t.push(i)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){var t=void 0===arguments[1]?!0:arguments[1],n=this._pointerToPositionObject(e),r=this._getAllEdgesOverlappingWith(n);return r.length>0?t===!0?this.body.edges[r[r.length-1]]:r[r.length-1]:void 0}},{key:"_addToSelection",value:function(e){e instanceof s?this.selectionObj.nodes[e.id]=e:this.selectionObj.edges[e.id]=e}},{key:"_addToHover",value:function(e){e instanceof s?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){e instanceof s?delete this.selectionObj.nodes[e.id]:delete this.selectionObj.edges[e.id]}},{key:"unselectAll",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].unselect();for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&this.selectionObj.edges[t].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedNode",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return this.selectionObj.nodes[e];return void 0}},{key:"_getSelectedEdge",value:function(){for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return this.selectionObj.edges[e];return void 0}},{key:"_getSelectedEdgeCount",value:function(){var e=0;for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedObjectCount",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);for(var n in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(n)&&(e+=1);return e}},{key:"_selectionIsEmpty",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return!1;for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var n=e.edges[t];n.select(),this._addToSelection(n)}}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var n=e.edges[t];n.hover=!0,this._addToHover(n)}}},{key:"_unselectConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var n=e.edges[t];n.unselect(),this._removeFromSelection(n)}}},{key:"blurObject",value:function(e){e.hover===!0&&(e.hover=!1,this.body.emitter.emit("blurNode",{node:e.id}))}},{key:"hoverObject",value:function(e){var t=!1;for(var n in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(n)&&(void 0===e?(this.blurObject(this.hoverObj.nodes[n]),t=!0):(e instanceof s&&e.id!=n||e instanceof o||void 0===e)&&(this.blurObject(this.hoverObj.nodes[n]),t=!0,delete this.hoverObj.nodes[n]));for(var r in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(r)&&(this.hoverObj.edges[r].hover=!1,delete this.hoverObj.edges[r]);void 0!==e&&(e.hover===!1&&(e.hover=!0,this._addToHover(e),t=!0,e instanceof s&&this.body.emitter.emit("hoverNode",{node:e.id})),e instanceof s&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(e)),t===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var e=this.getSelectedNodes(),t=this.getSelectedEdges();return{nodes:e,edges:t}}},{key:"getSelectedNodes",value:function(){var e=[];if(this.options.selectable===!0)for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&e.push(t);return e}},{key:"getSelectedEdges",value:function(){var e=[];if(this.options.selectable===!0)for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&e.push(t);return e}},{key:"selectNodes",value:function(e){var t=void 0===arguments[1]?!0:arguments[1],n=void 0,r=void 0;if(!e||void 0===e.length)throw"Selection must be an array with ids";for(this.unselectAll(),n=0;n<e.length;n++){r=e[n];var i=this.body.nodes[r];if(!i)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(i,t)}this.body.emitter.emit("_requestRedraw")}},{key:"selectEdges",value:function(e){var t=void 0,n=void 0;if(!e||void 0===e.length)throw"Selection must be an array with ids";for(this.unselectAll(),t=0;t<e.length;t++){n=e[t];var r=this.body.edges[n];if(!r)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(r)}this.body.emitter.emit("_requestRedraw")}},{key:"updateSelection",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(this.body.nodes.hasOwnProperty(e)||delete this.selectionObj.nodes[e]);for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(this.body.edges.hasOwnProperty(t)||delete this.selectionObj.edges[t])}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),o=function(){function e(t){r(this,e),this.body=t,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.options={},this.optionsBackup={},this.defaultOptions={randomSeed:void 0,hierarchical:{enabled:!1,levelSeparation:150,direction:"UD",sortMethod:"hubsize"}},s.extend(this.options,this.defaultOptions),this.hierarchicalLevels={},this.bindEventListeners()}return i(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()})}},{key:"setOptions",value:function(e,t){if(void 0!==e){var n=this.options.hierarchical.enabled;if(s.mergeOptions(this.options,e,"hierarchical"),void 0!==e.randomSeed&&(this.initialRandomSeed=e.randomSeed),this.options.hierarchical.enabled===!0)return"RL"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.options.hierarchical.levelSeparation>0&&(this.options.hierarchical.levelSeparation*=-1):this.options.hierarchical.levelSeparation<0&&(this.options.hierarchical.levelSeparation*=-1),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptions(t);if(n===!0)return this.body.emitter.emit("refresh"),s.deepExtend(t,this.optionsBackup)}return t}},{key:"adaptAllOptions",value:function(e){if(this.options.hierarchical.enabled===!0){void 0===e.physics||e.physics===!0?(e.physics={solver:"hierarchicalRepulsion"},this.optionsBackup.physics={solver:"barnesHut"}):"object"==typeof e.physics?(this.optionsBackup.physics={solver:"barnesHut"},void 0!==e.physics.solver&&(this.optionsBackup.physics={solver:e.physics.solver}),e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(this.optionsBackup.physics={solver:"barnesHut"},e.physics.solver="hierarchicalRepulsion");var t="horizontal";("RL"===this.options.hierarchical.direction||"LR"===this.options.hierarchical.direction)&&(t="vertical"),void 0===e.edges?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1}):void 0===e.edges.smooth?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1):"boolean"==typeof e.edges.smooth?(this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:t}):(void 0!==e.edges.smooth.type&&"dynamic"!==e.edges.smooth.type&&(t=e.edges.smooth.type),this.optionsBackup.edges={smooth:void 0===e.edges.smooth.enabled?!0:e.edges.smooth.enabled,type:void 0===e.edges.smooth.type?"dynamic":e.edges.smooth.type,roundness:void 0===e.edges.smooth.roundness?.5:e.edges.smooth.roundness},e.edges.smooth={enabled:void 0===e.edges.smooth.enabled?!0:e.edges.smooth.enabled,type:t,roundness:void 0===e.edges.smooth.roundness?.5:e.edges.smooth.roundness}),this.body.emitter.emit("_forceDisableDynamicCurves",t)}return e}},{key:"seededRandom",value:function(){var e=1e4*Math.sin(this.randomSeed++);return e-Math.floor(e)}},{key:"positionInitially",value:function(e){if(this.options.hierarchical.enabled!==!0){this.randomSeed=this.initialRandomSeed;for(var t=0;t<e.length;t++){var n=e[t];if(!n.isFixed()&&(void 0===n.x||void 0===n.y)){var r=1*e.length+10,i=2*Math.PI*this.seededRandom();n.options.fixed.x===!1&&(n.x=r*Math.cos(i)),n.options.fixed.x===!1&&(n.y=r*Math.sin(i))}}}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e=void 0,t=void 0,n=!1,r=!1;this.hierarchicalLevels={},this.nodeSpacing=100;for(t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(e=this.body.nodes[t],void 0!==e.options.level?(n=!0,this.hierarchicalLevels[t]=e.options.level):r=!0);if(r===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");r===!0&&("hubsize"===this.options.hierarchical.sortMethod?this._determineLevelsByHubsize():("directed"===this.options.hierarchical.sortMethod,this._determineLevelsDirected()));var i=this._getDistribution();this._placeNodesByHierarchy(i)}}},{key:"_placeNodesByHierarchy",value:function(e){var t=void 0,n=void 0;this.positionedNodes={};for(var r in e)if(e.hasOwnProperty(r))for(t in e[r].nodes)e[r].nodes.hasOwnProperty(t)&&(n=e[r].nodes[t],"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(void 0===n.x&&(n.x=e[r].distance),e[r].distance=n.x+this.nodeSpacing):(void 0===n.y&&(n.y=e[r].distance),e[r].distance=n.y+this.nodeSpacing),this.positionedNodes[t]=!0,this._placeBranchNodes(n.edges,n.id,e,r))}},{key:"_getDistribution",value:function(){var e={},t=void 0,n=void 0;for(t in this.body.nodes)if(this.body.nodes.hasOwnProperty(t)){n=this.body.nodes[t];var r=void 0===this.hierarchicalLevels[t]?0:this.hierarchicalLevels[t];"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(n.y=this.options.hierarchical.levelSeparation*r,n.options.fixed.y=!0):(n.x=this.options.hierarchical.levelSeparation*r,n.options.fixed.x=!0),void 0===e[r]&&(e[r]={amount:0,nodes:{},distance:0}),e[r].amount+=1,e[r].nodes[t]=n}return e}},{key:"_getHubSize",value:function(){var e=0;for(var t in this.body.nodes)if(this.body.nodes.hasOwnProperty(t)){var n=this.body.nodes[t];void 0===this.hierarchicalLevels[t]&&(e=n.edges.length<e?e:n.edges.length)}return e}},{key:"_determineLevelsByHubsize",value:function(){for(var e=void 0,t=void 0,n=1;n>0&&(n=this._getHubSize(),0!==n);)for(e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(t=this.body.nodes[e],t.edges.length===n&&this._setLevelByHubsize(0,t))}},{key:"_setLevelByHubsize",value:function(e,t){if(void 0===this.hierarchicalLevels[t.id]){var n=void 0;this.hierarchicalLevels[t.id]=e;for(var r=0;r<t.edges.length;r++)n=t.edges[r].toId===t.id?t.edges[r].from:t.edges[r].to,this._setLevelByHubsize(e+1,n)}}},{key:"_determineLevelsDirected",value:function(){var e=void 0,t=void 0,n=1e4;for(e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(t=this.body.nodes[e],this._setLevelDirected(n,t));for(e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(n=this.hierarchicalLevels[e]<n?this.hierarchicalLevels[e]:n);for(e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(this.hierarchicalLevels[e]-=n)}},{key:"_setLevelDirected",value:function(e,t){if(void 0===this.hierarchicalLevels[t.id]){var n=void 0;this.hierarchicalLevels[t.id]=e;for(var r=0;r<t.edges.length;r++)t.edges[r].toId===t.id?(n=t.edges[r].from,this._setLevelDirected(e-1,n)):(n=t.edges[r].to,this._setLevelDirected(e+1,n))}}},{key:"_placeBranchNodes",value:function(e,t,n,r){for(var i=0;i<e.length;i++){var s=void 0,o=void 0;e[i].toId===t?(s=e[i].from,o=e[i].to):(s=e[i].to,o=e[i].from);var u=this.hierarchicalLevels[s.id];void 0===this.positionedNodes[s.id]&&u>r&&("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(void 0===s.x&&(s.x=Math.max(n[u].distance,o.x)),n[u].distance=s.x+this.nodeSpacing,this.positionedNodes[s.id]=!0):(void 0===s.y&&(s.y=Math.max(n[u].distance,o.y)),n[u].distance=s.y+this.nodeSpacing),this.positionedNodes[s.id]=!0,s.edges.length>1&&this._placeBranchNodes(s.edges,s.id,n,u))}}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),o=n(23),u=n(28),a=function(){function e(t,n,i){var o=this;r(this,e),this.body=t,this.canvas=n,this.selectionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},s.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){o._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return i(e,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,n){void 0!==t&&(void 0!==t.locale?this.options.locale=t.locale:this.options.locale=n.locale,void 0!==t.locales?this.options.locales=t.locales:this.options.locales=n.locales),void 0!==e&&("boolean"==typeof e?this.options.enabled=e:(this.options.enabled=!0,s.deepExtend(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var e=this.selectionHandler._getSelectedNodeCount(),t=this.selectionHandler._getSelectedEdgeCount(),n=e+t,r=this.options.locales[this.options.locale],i=!1;this.options.addNode!==!1&&(this._createAddNodeButton(r),i=!0),this.options.addEdge!==!1&&(i===!0?this._createSeperator(1):i=!0,this._createAddEdgeButton(r)),1===e&&"function"==typeof this.options.editNode?(i===!0?this._createSeperator(2):i=!0,this._createEditNodeButton(r)):1===t&&0===e&&this.options.editEdge!==!1&&(i===!0?this._createSeperator(3):i=!0,this._createEditEdgeButton(r)),0!==n&&(1===e&&this.options.deleteNode!==!1?(i===!0&&this._createSeperator(4),this._createDeleteButton(r)):0===e&&this.options.deleteEdge!==!1&&(i===!0&&this._createSeperator(4),this._createDeleteButton(r))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var t=this.selectionHandler._getSelectedNode();if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(t.isCluster!==!0){var n=s.deepExtend({},t.options,!0);if(n.x=t.x,n.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,function(t){null!==t&&void 0!==t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",function(){}),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){var e=this;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",this.guiEnabled===!0){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId?!function(){var t=e.body.edges[e.edgeBeingEditedId],n=e._getNewTargetNode(t.from.x,t.from.y),r=e._getNewTargetNode(t.to.x,t.to.y);e.temporaryIds.nodes.push(n.id),e.temporaryIds.nodes.push(r.id),e.body.nodes[n.id]=n,e.body.nodeIndices.push(n.id),e.body.nodes[r.id]=r,e.body.nodeIndices.push(r.id),e._temporaryBindUI("onTouch",e._controlNodeTouch.bind(e)),e._temporaryBindUI("onTap",function(){}),e._temporaryBindUI("onHold",function(){}),e._temporaryBindUI("onDragStart",e._controlNodeDragStart.bind(e)),e._temporaryBindUI("onDrag",e._controlNodeDrag.bind(e)),e._temporaryBindUI("onDragEnd",e._controlNodeDragEnd.bind(e)),e._temporaryBindUI("onMouseMove",function(){}),e._temporaryBindEvent("beforeDrawing",function(e){var i=t.edgeType.findBorderPositions(e);n.selected===!1&&(n.x=i.from.x,n.y=i.from.y),r.selected===!1&&(r.x=i.to.x,r.y=i.to.y)}),e.body.emitter.emit("_redraw")}():this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodes(),n=this.selectionHandler.getSelectedEdges(),r=void 0;if(t.length>0){for(var i=0;i<t.length;i++)if(this.body.nodes[t[i]].isCluster===!0)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(r=this.options.deleteNode)}else n.length>0&&"function"==typeof this.options.deleteEdge&&(r=this.options.deleteEdge);if("function"==typeof r){var s={nodes:t,edges:n};if(2!==r.length)throw new Error("The function for delete does not support two arguments (data, callback)");r(s,function(t){null!==t&&void 0!==t&&"delete"===e.inMode&&(e.body.data.edges.getDataSet().remove(t.edges),e.body.data.nodes.getDataSet().remove(t.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var n=s.deepExtend({},this.options.controlNodeStyle);return n.id="targetNode"+s.randomUUID(),n.hidden=!1,n.physics=!1,n.x=e,n.y=t,this.body.functions.createNode(n)}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},s.recursiveDOMDelete(this.editModeDiv);var e=this.options.locales[this.options.locale],t=this._createButton("editMode","vis-button vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(s.recursiveDOMDelete(this.editModeDiv),s.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var e=0;e<this.manipulationHammers.length;e++)this.manipulationHammers[e].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),s.recursiveDOMDelete(this.manipulationDiv),s.recursiveDOMDelete(this.editModeDiv),s.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=void 0===arguments[0]?1:arguments[0];this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t=this._createButton("addNode","vis-button vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(e){var t=this._createButton("addEdge","vis-button vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(e){var t=this._createButton("editNode","vis-button vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(e){var t=this._createButton("editEdge","vis-button vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(e){var t=this._createButton("delete","vis-button vis-delete",e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(e){var t=this._createButton("back","vis-button vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(e,t,n){var r=void 0===arguments[3]?"vis-label":arguments[3];return this.manipulationDOM[e+"Div"]=document.createElement("div"),this.manipulationDOM[e+"Div"].className=t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=r,this.manipulationDOM[e+"Label"].innerHTML=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",e))}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var t=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,n)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(e,t){var n=new o(e,{});u.onTouch(n,t),this.manipulationHammers.push(n)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var t=this.body.edgeIndices.indexOf(this.temporaryIds.edges[e]);-1!==t&&this.body.edgeIndices.splice(t,1)}for(var e=0;e<this.temporaryIds.nodes.length;e++){delete this.body.nodes[this.temporaryIds.nodes[e]];var n=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[e]);-1!==n&&this.body.nodeIndices.splice(n,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=s.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(e){var t=this.lastTouch,n=this.selectionHandler._pointerToPositionObject(t),r=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=r.isOverlappingWith(n),u=i.isOverlappingWith(n);o===!0?(this.selectedControlNode=r,s.edgeType.from=r):u===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(t);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y;else{var r=t.x-this.lastTouch.x,i=t.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+r,y:this.lastTouch.translation.y+i}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){for(var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),r=this.body.edges[this.edgeBeingEditedId],i=this.selectionHandler._getAllNodesOverlappingWith(n),s=void 0,o=i.length-1;o>=0;o--)if(i[o]!==this.selectedControlNode.id){s=this.body.nodes[i[o]];break}if(void 0!==s&&void 0!==this.selectedControlNode)if(s.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var u=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===u.id?this._performEditEdge(s.id,r.to.id):this._performEditEdge(r.from.id,s.id)}else r.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}},{key:"_handleConnect",value:function(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=s.extend({},this.body.view.translation);var t=this.lastTouch,n=this.selectionHandler.getNodeAt(t);if(void 0!==n)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var r=this._getNewTargetNode(n.x,n.y);this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id);var i=this.body.functions.createEdge({id:"connectionEdge"+s.randomUUID(),from:n.id,to:r.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[i.id]=i,this.body.edgeIndices.push(i.id),this.temporaryIds.nodes.push(r.id),this.temporaryIds.edges.push(i.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center);if(void 0!==this.temporaryIds.nodes[0]){var n=this.body.nodes[this.temporaryIds.nodes[0]];n.x=this.canvas._XconvertDOMtoCanvas(t.x),n.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else{var r=t.x-this.lastTouch.x,i=t.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+r,y:this.lastTouch.translation.y+i}}}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),r=void 0;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var i=this.selectionHandler._getAllNodesOverlappingWith(n),s=void 0,o=i.length-1;o>=0;o--)if(-1===this.temporaryIds.nodes.indexOf(i[o])){s=this.body.nodes[i[o]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==s&&(s.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[r]&&void 0!==this.body.nodes[s.id]&&this._performAddEdge(r,s.id)),this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function(e){var t=this,n={id:s.randomUUID(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,function(e){null!==e&&void 0!==e&&"addNode"===t.inMode&&(t.body.data.nodes.getDataSet().add(e),t.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var n=this,r={from:e,to:t};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(r,function(e){null!==e&&void 0!==e&&"addEdge"===n.inMode&&(n.body.data.edges.add(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())})}else this.body.data.edges.add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var n=this,r={id:this.edgeBeingEditedId,from:e,to:t};if("function"==typeof this.options.editEdge){if(2!==this.options.editEdge.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editEdge(r,function(e){null===e||void 0===e||"editEdge"!==n.inMode?(n.body.edges[r.id].updateEdgeType(),n.body.emitter.emit("_redraw")):(n.body.data.edges.update(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())})}else this.body.data.edges.update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="string",r="boolean",i="number",s="array",o="object",u="dom",a="any",f={configure:{enabled:{"boolean":r},filter:{"boolean":r,string:n,array:s,"function":"function"},container:{dom:u},showButton:{"boolean":r},__type__:{object:o,"boolean":r,string:n,array:s,"function":"function"}},edges:{arrows:{to:{enabled:{"boolean":r},scaleFactor:{number:i},__type__:{object:o,"boolean":r}},middle:{enabled:{"boolean":r},scaleFactor:{number:i},__type__:{object:o,"boolean":r}},from:{enabled:{"boolean":r},scaleFactor:{number:i},__type__:{object:o,"boolean":r}},__type__:{string:["from","to","middle"],object:o}},color:{color:{string:n},highlight:{string:n},hover:{string:n},inherit:{string:["from","to","both"],"boolean":r},opacity:{number:i},__type__:{object:o,string:n}},dashes:{"boolean":r,array:s},font:{color:{string:n},size:{number:i},face:{string:n},background:{string:n},strokeWidth:{number:i},strokeColor:{string:n},align:{string:["horizontal","top","middle","bottom"]},__type__:{object:o,string:n}},hidden:{"boolean":r},hoverWidth:{"function":"function",number:i},label:{string:n,"undefined":"undefined"},length:{number:i,"undefined":"undefined"},physics:{"boolean":r},scaling:{min:{number:i},max:{number:i},label:{enabled:{"boolean":r},min:{number:i},max:{number:i},maxVisible:{number:i},drawThreshold:{number:i},__type__:{object:o,"boolean":r}},customScalingFunction:{"function":"function"},__type__:{object:o}},selectionWidth:{"function":"function",number:i},selfReferenceSize:{number:i},shadow:{enabled:{"boolean":r},size:{number:i},x:{number:i},y:{number:i},__type__:{object:o,"boolean":r}},smooth:{enabled:{"boolean":r},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW"]},roundness:{number:i},__type__:{object:o,"boolean":r}},title:{string:n,"undefined":"undefined"},width:{number:i},value:{number:i,"undefined":"undefined"},__type__:{object:o}},groups:{useDefaultGroups:{"boolean":r},__any__:"get from nodes, will be overwritten below",__type__:{object:o}},interaction:{dragNodes:{"boolean":r},dragView:{"boolean":r},hideEdgesOnDrag:{"boolean":r},hideNodesOnDrag:{"boolean":r},hover:{"boolean":r},keyboard:{enabled:{"boolean":r},speed:{x:{number:i},y:{number:i},zoom:{number:i},__type__:{object:o}},bindToWindow:{"boolean":r},__type__:{object:o,"boolean":r}},multiselect:{"boolean":r},navigationButtons:{"boolean":r},selectable:{"boolean":r},selectConnectedEdges:{"boolean":r},hoverConnectedEdges:{"boolean":r},tooltipDelay:{number:i},zoomView:{"boolean":r},__type__:{object:o}},layout:{randomSeed:{"undefined":"undefined",number:i},hierarchical:{enabled:{"boolean":r},levelSeparation:{number:i},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:o,"boolean":r}},__type__:{object:o}},manipulation:{enabled:{"boolean":r},initiallyActive:{"boolean":r},addNode:{"boolean":r,"function":"function"},addEdge:{"boolean":r,"function":"function"},editNode:{"function":"function"},editEdge:{"boolean":r,"function":"function"},deleteNode:{"boolean":r,"function":"function"},deleteEdge:{"boolean":r,"function":"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:o,"boolean":r}},nodes:{borderWidth:{number:i},borderWidthSelected:{number:i,"undefined":"undefined"},brokenImage:{string:n,"undefined":"undefined"},color:{border:{string:n},background:{string:n},highlight:{border:{string:n},background:{string:n},__type__:{object:o,string:n}},hover:{border:{string:n},background:{string:n},__type__:{object:o,string:n}},__type__:{object:o,string:n}},fixed:{x:{"boolean":r},y:{"boolean":r},__type__:{object:o,"boolean":r}},font:{color:{string:n},size:{number:i},face:{string:n},background:{string:n},strokeWidth:{number:i},strokeColor:{string:n},__type__:{object:o,string:n}},group:{string:n,number:i,"undefined":"undefined"},hidden:{"boolean":r},icon:{face:{string:n},code:{string:n},size:{number:i},color:{string:n},__type__:{object:o}},id:{string:n,number:i},image:{string:n,"undefined":"undefined"},label:{string:n,"undefined":"undefined"},level:{number:i,"undefined":"undefined"},mass:{number:i},physics:{"boolean":r},scaling:{min:{number:i},max:{number:i},label:{enabled:{"boolean":r},min:{number:i},max:{number:i},maxVisible:{number:i},drawThreshold:{number:i},__type__:{object:o,"boolean":r}},customScalingFunction:{"function":"function"},__type__:{object:o}},shadow:{enabled:{"boolean":r},size:{number:i},x:{number:i},y:{number:i},__type__:{object:o,"boolean":r}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},size:{number:i},title:{string:n,"undefined":"undefined"},value:{number:i,"undefined":"undefined"},x:{number:i},y:{number:i},__type__:{object:o}},physics:{enabled:{"boolean":r},barnesHut:{gravitationalConstant:{number:i},centralGravity:{number:i},springLength:{number:i},springConstant:{number:i},damping:{number:i},avoidOverlap:{number:i},__type__:{object:o}},forceAtlas2Based:{gravitationalConstant:{number:i},centralGravity:{number:i},springLength:{number:i},springConstant:{number:i},damping:{number:i},avoidOverlap:{number:i},__type__:{object:o}},repulsion:{centralGravity:{number:i},springLength:{number:i},springConstant:{number:i},nodeDistance:{number:i},damping:{number:i},__type__:{object:o}},hierarchicalRepulsion:{centralGravity:{number:i},springLength:{number:i},springConstant:{number:i},nodeDistance:{number:i},damping:{number:i},__type__:{object:o}},maxVelocity:{number:i},minVelocity:{number:i},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{"boolean":r},iterations:{number:i},updateInterval:{number:i},onlyDynamicEdges:{"boolean":r},fit:{"boolean":r},__type__:{object:o,"boolean":r}},timestep:{number:i},__type__:{object:o,"boolean":r}},autoResize:{"boolean":r},clickToUse:{"boolean":r},locale:{string:n},locales:{__any__:{any:a},__type__:{object:o}},height:{string:n},width:{string:n},__type__:{object:o}};f.groups.__any__=f.nodes,f.manipulation.controlNodeStyle=f.nodes;var l={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05]},middle:{enabled:!1,scaleFactor:[1,0,3,.05]},from:{enabled:!1,scaleFactor:[1,0,3,.05]}},color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]},global:{locale:["en","nl"]}};t.allOptions=f,t.configureOptions=l},function(e,t){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(e,t,n){this.beginPath(),this.arc(e,t,n,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(e,t,n){this.beginPath(),this.rect(e-n,t-n,2*n,2*n),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(e,t,n){this.beginPath(),n*=1.15,t+=.275*n;var r=2*n,i=r/2,s=Math.sqrt(3)/6*r,o=Math.sqrt(r*r-i*i);this.moveTo(e,t-(o-s)),this.lineTo(e+i,t+s),this.lineTo(e-i,t+s),this.lineTo(e,t-(o-s)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(e,t,n){this.beginPath(),n*=1.15,t-=.275*n;var r=2*n,i=r/2,s=Math.sqrt(3)/6*r,o=Math.sqrt(r*r-i*i);this.moveTo(e,t+(o-s)),this.lineTo(e+i,t-s),this.lineTo(e-i,t-s),this.lineTo(e,t+(o-s)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(e,t,n){this.beginPath(),n*=.82,t+=.1*n;for(var r=0;10>r;r++){var i=r%2===0?1.3*n:.5*n;this.lineTo(e+i*Math.sin(2*r*Math.PI/10),t-i*Math.cos(2*r*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(e,t,n){this.beginPath(),this.lineTo(e,t+n),this.lineTo(e+n,t),this.lineTo(e,t-n),this.lineTo(e-n,t),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(e,t,n,r,i){var s=Math.PI/180;0>n-2*i&&(i=n/2),0>r-2*i&&(i=r/2),this.beginPath(),this.moveTo(e+i,t),this.lineTo(e+n-i,t),this.arc(e+n-i,t+i,i,270*s,360*s,!1),this.lineTo(e+n,t+r-i),this.arc(e+n-i,t+r-i,i,0,90*s,!1),this.lineTo(e+i,t+r),this.arc(e+i,t+r-i,i,90*s,180*s,!1),this.lineTo(e,t+i),this.arc(e+i,t+i,i,180*s,270*s,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse=function(e,t,n,r){var i=.5522848,s=n/2*i,o=r/2*i,u=e+n,a=t+r,f=e+n/2,l=t+r/2;this.beginPath(),this.moveTo(e,l),this.bezierCurveTo(e,l-o,f-s,t,f,t),this.bezierCurveTo(f+s,t,u,l-o,u,l),this.bezierCurveTo(u,l+o,f+s,a,f,a),this.bezierCurveTo(f-s,a,e,l+o,e,l),this.closePath()},CanvasRenderingContext2D.prototype.database=function(e,t,n,r){var i=1/3,s=n,o=r*i,u=.5522848,a=s/2*u,f=o/2*u,l=e+s,c=t+o,h=e+s/2,p=t+o/2,d=t+(r-o/2),v=t+r;this.beginPath(),this.moveTo(l,p),this.bezierCurveTo(l,p+f,h+a,c,h,c),this.bezierCurveTo(h-a,c,e,p+f,e,p),this.bezierCurveTo(e,p-f,h-a,t,h,t),this.bezierCurveTo(h+a,t,l,p-f,l,p),this.lineTo(l,d),this.bezierCurveTo(l,d+f,h+a,v,h,v),this.bezierCurveTo(h-a,v,e,d+f,e,d),this.lineTo(e,p)},CanvasRenderingContext2D.prototype.arrow=function(e,t,n,r){var i=e-r*Math.cos(n),s=t-r*Math.sin(n),o=e-.9*r*Math.cos(n),u=t-.9*r*Math.sin(n),a=i+r/3*Math.cos(n+.5*Math.PI),f=s+r/3*Math.sin(n+.5*Math.PI),l=i+r/3*Math.cos(n-.5*Math.PI),c=s+r/3*Math.sin(n-.5*Math.PI);this.beginPath(),this.moveTo(e,t),this.lineTo(a,f),this.lineTo(o,u),this.lineTo(l,c),this.closePath()},CanvasRenderingContext2D.prototype.dashedLine=function(e,t,n,r,i){this.beginPath(),this.moveTo(e,t);for(var s=i.length,o=n-e,u=r-t,a=u/o,f=Math.sqrt(o*o+u*u),l=0,c=!0,h=0,p=i[0];f>=.1;)p=i[l++%s],p>f&&(p=f),h=Math.sqrt(p*p/(1+a*a)),h=0>o?-h:h,e+=h,t+=a*h,c===!0?this.lineTo(e,t):this.moveTo(e,t),f-=p,c=!c})},function(e,t){function n(e){return M=e,p()}function r(){_=0,D=M.charAt(0)}function i(){_++,D=M.charAt(_)}function s(){return M.charAt(_+1)}function o(e){return B.test(e)}function u(e,t){if(e||(e={}),t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e,t,n){for(var r=t.split("."),i=e;r.length;){var s=r.shift();r.length?(i[s]||(i[s]={}),i=i[s]):i[s]=n}}function f(e,t){for(var n,r,i=null,s=[e],o=e;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes)for(n=0,r=o.nodes.length;r>n;n++)if(t.id===o.nodes[n].id){i=o.nodes[n];break}for(i||(i={id:t.id},e.node&&(i.attr=u(i.attr,e.node))),n=s.length-1;n>=0;n--){var a=s[n];a.nodes||(a.nodes=[]),-1===a.nodes.indexOf(i)&&a.nodes.push(i)}t.attr&&(i.attr=u(i.attr,t.attr))}function l(e,t){if(e.edges||(e.edges=[]),e.edges.push(t),e.edge){var n=u({},e.edge);t.attr=u(n,t.attr)}}function c(e,t,n,r,i){var s={from:t,to:n,type:r};return e.edge&&(s.attr=u({},e.edge)),s.attr=u(s.attr||{},i),s}function h(){for(H=A.NULL,P="";" "===D||"	"===D||"\n"===D||"\r"===D;)i();do{var e=!1;if("#"===D){for(var t=_-1;" "===M.charAt(t)||"	"===M.charAt(t);)t--;if("\n"===M.charAt(t)||""===M.charAt(t)){for(;""!=D&&"\n"!=D;)i();e=!0}}if("/"===D&&"/"===s()){for(;""!=D&&"\n"!=D;)i();e=!0}if("/"===D&&"*"===s()){for(;""!=D;){if("*"===D&&"/"===s()){i(),i();break}i()}e=!0}for(;" "===D||"	"===D||"\n"===D||"\r"===D;)i()}while(e);if(""===D)return void (H=A.DELIMITER);var n=D+s();if(O[n])return H=A.DELIMITER,P=n,i(),void i();if(O[D])return H=A.DELIMITER,P=D,void i();if(o(D)||"-"===D){for(P+=D,i();o(D);)P+=D,i();return"false"===P?P=!1:"true"===P?P=!0:isNaN(Number(P))||(P=Number(P)),void (H=A.IDENTIFIER)}if('"'===D){for(i();""!=D&&('"'!=D||'"'===D&&'"'===s());)P+=D,'"'===D&&i(),i();if('"'!=D)throw E('End of string " expected');return i(),void (H=A.IDENTIFIER)}for(H=A.UNKNOWN;""!=D;)P+=D,i();throw new SyntaxError('Syntax error in part "'+S(P,30)+'"')}function p(){var e={};if(r(),h(),"strict"===P&&(e.strict=!0,h()),("graph"===P||"digraph"===P)&&(e.type=P,h()),H===A.IDENTIFIER&&(e.id=P,h()),"{"!=P)throw E("Angle bracket { expected");if(h(),d(e),"}"!=P)throw E("Angle bracket } expected");if(h(),""!==P)throw E("End of file expected");return h(),delete e.node,delete e.edge,delete e.graph,e}function d(e){for(;""!==P&&"}"!=P;)v(e),";"===P&&h()}function v(e){var t=m(e);if(t)return void b(e,t);var n=g(e);if(!n){if(H!=A.IDENTIFIER)throw E("Identifier expected");var r=P;if(h(),"="===P){if(h(),H!=A.IDENTIFIER)throw E("Identifier expected");e[r]=P,h()}else y(e,r)}}function m(e){var t=null;if("subgraph"===P&&(t={},t.type="subgraph",h(),H===A.IDENTIFIER&&(t.id=P,h())),"{"===P){if(h(),t||(t={}),t.parent=e,t.node=e.node,t.edge=e.edge,t.graph=e.graph,d(t),"}"!=P)throw E("Angle bracket } expected");h(),delete t.node,delete t.edge,delete t.graph,delete t.parent,e.subgraphs||(e.subgraphs=[]),e.subgraphs.push(t)}return t}function g(e){return"node"===P?(h(),e.node=w(),"node"):"edge"===P?(h(),e.edge=w(),"edge"):"graph"===P?(h(),e.graph=w(),"graph"):null}function y(e,t){var n={id:t},r=w();r&&(n.attr=r),f(e,n),b(e,t)}function b(e,t){for(;"->"===P||"--"===P;){var n,r=P;h();var i=m(e);if(i)n=i;else{if(H!=A.IDENTIFIER)throw E("Identifier or subgraph expected");n=P,f(e,{id:n}),h()}var s=w(),o=c(e,t,n,r,s);l(e,o),t=n}}function w(){for(var e=null;"["===P;){for(h(),e={};""!==P&&"]"!=P;){if(H!=A.IDENTIFIER)throw E("Attribute name expected");var t=P;if(h(),"="!=P)throw E("Equal sign = expected");if(h(),H!=A.IDENTIFIER)throw E("Attribute value expected");var n=P;a(e,t,n),h(),","==P&&h()}if("]"!=P)throw E("Bracket ] expected");h()}return e}function E(e){return new SyntaxError(e+', got "'+S(P,30)+'" (char '+_+")")}function S(e,t){return e.length<=t?e:e.substr(0,27)+"..."}function x(e,t,n){Array.isArray(e)?e.forEach(function(e){Array.isArray(t)?t.forEach(function(t){n(e,t)}):n(e,t)}):Array.isArray(t)?t.forEach(function(t){n(e,t)}):n(e,t)}function T(e,t,n){for(var r=t.split("."),i=r.pop(),s=e,o=0;o<r.length;o++){var u=r[o];u in s||(s[u]={}),s=s[u]}return s[i]=n,e}function N(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=t[r];Array.isArray(i)?i.forEach(function(t){T(n,t,e[r])}):"string"==typeof i?T(n,i,e[r]):T(n,r,e[r])}return n}function C(e){var t=n(e),r={nodes:[],edges:[],options:{}};if(t.nodes&&t.nodes.forEach(function(e){var t={id:e.id,label:String(e.label||e.id)};u(t,N(e.attr,k)),t.image&&(t.shape="image"),r.nodes.push(t)}),t.edges){var i=function(e){var t={from:e.from,to:e.to};return u(t,N(e.attr,L)),t.arrows="->"===e.type?"to":void 0,t};t.edges.forEach(function(e){var t,n;t=e.from instanceof Object?e.from.nodes:{id:e.from},n=e.to instanceof Object?e.to.nodes:{id:e.to},e.from instanceof Object&&e.from.edges&&e.from.edges.forEach(function(e){var t=i(e);r.edges.push(t)}),x(t,n,function(t,n){var s=c(r,t.id,n.id,e.type,e.attr),o=i(s);r.edges.push(o)}),e.to instanceof Object&&e.to.edges&&e.to.edges.forEach(function(e){var t=i(e);r.edges.push(t)})})}return t.attr&&(r.options=t.attr),r}var k={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},L=Object.create(k);L.color="color.color";var A={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},O={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},M="",_=0,D="",P="",H=A.NULL,B=/[a-zA-Z_0-9.:#]/;t.parseDOT=n,t.DOTToGraph=C},function(e,t){function n(e,t){var n=[],r=[],i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==t&&(void 0!==t.fixed&&(i.nodes.fixed=t.fixed),void 0!==t.parseColor&&(i.nodes.parseColor=t.parseColor),void 0!==t.inheritColor&&(i.edges.inheritColor=t.inheritColor));for(var s=e.edges,o=e.nodes,u=0;u<s.length;u++){var a={},f=s[u];a.id=f.id,a.from=f.source,a.to=f.target,a.attributes=f.attributes,f.color&&i.inheritColor===!1&&(a.color=f.color),n.push(a)}for(var u=0;u<o.length;u++){var l={},c=o[u];l.id=c.id,l.attributes=c.attributes,l.title=c.title,l.x=c.x,l.y=c.y,l.label=c.label,i.nodes.parseColor===!0?l.color=c.color:l.color=void 0!==c.color?{background:c.color,border:c.color,highlight:{background:c.color,border:c.color},hover:{background:c.color,border:c.color}}:void 0,l.size=c.size,l.fixed=i.nodes.fixed&&void 0!==c.x&&void 0!==c.y,r.push(l)}return{nodes:r,edges:n}}t.parseGephi=n},function(e,t){function n(e){this.images={},this.imageBroken={},this.callback=e}n.prototype.load=function(e,t,n){var r=this.images[e];if(void 0===r){var i=this;r=new Image,r.onload=function(){0===this.width&&(document.body.appendChild(this),this.width=this.offsetWidth,this.height=this.offsetHeight,document.body.removeChild(this)),i.callback&&(i.images[e]=r,i.callback(this))},r.onerror=function(){void 0===t?(console.error("Could not load image:",e),delete this.src,i.callback&&i.callback(this)):i.imageBroken[n]&&i.imageBroken[n][e]===!0?(console.error("Could not load brokenImage:",t),delete this.src,i.callback&&i.callback(this)):(console.error("Could not load image:",e),this.src=t,void 0===i.imageBroken[n]&&(i.imageBroken[n]={}),i.imageBroken[n][e]=!0)},r.src=e}return r},e.exports=n},function(e,t){t.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},t.en_EN=t.en,t.en_US=t.en,t.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},t.nl_NL=t.nl,t.nl_BE=t.nl}])}),define("util/InitGraphSchema",["jquery","lodash","Global","events/EdgeClassEvent","events/MappingRuleEvent","events/NodeClassEvent","bootstrapWrapper/Alert","text!tpl/navbar/graphSchemaCtrlElements.html","vis","bootstrapWrapper/TabWrapper"],function(e,t,n,r,i,s,o,u,a,f){function l(){}return l.prototype.sourceId=null,l.prototype.targetId=null,l.prototype.domainId=null,l.prototype.rangeId=null,l.LoadOntology=function(){var e=document.getElementById("upload");if(e){var t=e.files[0];if(t){var r=new FileReader;t.name.search(/.json/)!==-1?(r.readAsText(t,"UTF-8"),r.onload=function(e){n.Ontology=JSON.parse(e.target.result),l.LoadJsonOntology()},r.onerror=function(){n.Ontology="error reading file"}):alert("Not a JSON file")}}},l.LoadJsonOntology=function(l){e("#OntologyControlElements").remove();var c=e("#OntologyCtrl").find(".panel-body");c.find("h4").remove(),c.append(e(u)),c.find("#lblGraphSchemaName").append(e(document.createElement("h4")).append(e("<strong>").text(n.Ontology.name+":")));var h=c.find("#vertexClassSelector");for(var p in n.Ontology.vertex_classes)n.Ontology.vertex_classes.hasOwnProperty(p)&&h.append(e(document.createElement("option")).attr("value",p).text(p));c.find("#addVertexClassButton").click(function(){var t=e("#vertexClassSelector").find("option:selected").text();s.CreateNodeClassEvent(t,400,0)});var d=c.find("#edgeClassSelector");for(var v in n.Ontology.edge_classes)if(n.Ontology.edge_classes.hasOwnProperty(v)){var m=e(document.createElement("option")).attr("value",v).text(v);d.append(m)}c.find("#addEdgeClassButton").click(function(){var t=e("#edgeClassSelector").find("option:selected").text();r.EdgeCreateEvent(t)}),c.find("#addTranslationPath").click(function(){i.MappingRuleCreateEvent()}),c.find("#btnVisualizeGraphSchema").click(function(){var r={nodes:[],edges:[]},i={};t.forOwn(n.Ontology.vertex_classes,function(e,s){var o={};o.id=s,o.label=s,r.nodes.push(o),t.forOwn(n.Ontology.vertex_classes[s].properties,function(e,t){if(!i.hasOwnProperty(t)){var n={};i[t]=!0,n.id=t,n.label=t,n.color="rgb(255,168,7)",r.nodes.push(n)}var o={};o.from=s,o.to=t,o.color="rgb(255,168,7)",r.edges.push(o)});var u=n.Ontology.vertex_classes[s].super_class;if(u){var a={};a.from=s,a.to=u,a.arrows="to",a.color="red",a.label="isSubClassOf",a.font={align:"middle"},r.edges.push(a)}}),t.forOwn(n.Ontology.edge_classes,function(e,s){var o=n.Ontology.edge_classes[s],u={};u.id=s,u.label=s,u.shape="diamond",u.color="#7BE141",r.nodes.push(u);if(o.hasOwnProperty("from")&&o.hasOwnProperty("to")){var a={};a.from=s,a.to=o.to.classname,a.arrows="to",a.font={align:"middle"},a.color="lime",r.edges.push(a);var f={};f.from=o.from.classname,f.to=s,f.arrows="to",f.font={align:"middle"},f.color="lime",r.edges.push(f)}t.forOwn(n.Ontology.edge_classes[s].properties,function(e,t){if(!i.hasOwnProperty(t)){var n={};i[t]=!0,n.id=t,n.label=t,n.color="rgb(255,168,7)",r.nodes.push(n)}var o={};o.from=s,o.to=t,o.color="rgb(255,168,7)",r.edges.push(o)})});var s=new a.DataSet(r.nodes),o=new a.DataSet(r.edges),u=e("<div></div>")[0],l={nodes:s,edges:o},c={nodes:{borderWidth:2},interaction:{hover:!0},physics:{forceAtlas2Based:{gravitationalConstant:-26,centralGravity:.005,springLength:230,springConstant:.18},maxVelocity:146,solver:"forceAtlas2Based",timestep:.35,stabilization:{iterations:300}}};f.AddCloseableTab(n.Ontology.name,u),new a.Network(u,l,c)}),l||o.Success("Ontology successfully loaded!","#inputCtrl .panel-body")},l}),define("text!tpl/navbar/fileInputTab.html",[],function(){return'<div id="inputCtrl" class="panel panel-default tab-pane fade active in">\n    <div class="panel-body">\n        <div class="form-inline">\n            <div class="form-group">\n                <input id="upload" type="file" multiple="multiple" class="form-control">\n            </div>\n            <div class="form-group">\n                <button id="reader" class="btn btn-default btn-sm">Load Example JSON (Domain)</button>\n            </div>\n            <div class="form-group">\n                <button id="extendDomain" class="btn btn-default btn-sm">Extend Domain</button>\n            </div>\n            <div class="form-group">\n                <button id="vizOntology" class="btn btn-default btn-sm">Load Graph Schema (Range)</button>\n            </div>\n        </div>\n    </div>\n</div>'}),define("navbar/FileInputTab",["jquery","MappingManager","util/InitGraphSchema","text!tpl/navbar/fileInputTab.html"],function(e,t,n,r){function i(){var e=document.getElementById("upload");if(e){var n=e.files[0];if(n.name.search(/.json/)!==-1){var r=new FileReader;r.readAsText(n,"UTF-8"),r.onload=function(e){t.createMappingCanvasFromExample(n.name,JSON.parse(e.target.result))}}else alert("Not a json file")}}function s(){var s=e(r);e("#mc_navbar_content").append(s),s.find("#reader").click(function(){i()}),s.find("#vizOntology").click(function(){n.LoadOntology()}),s.find("#extendDomain").click(function(){var e=document.getElementById("upload");if(e)for(var n=0;n<e.files.length;n++){var r=e.files[n];if(r.name.search(/.json/)!==-1){var i=new FileReader;i.readAsText(r,"UTF-8"),i.onload=function(e){var n=t.getCurrentMappingCanvas().getDomain(),r=t.generateDomain(JSON.parse(e.target.result)),i=function(e){var t=e.getElements();for(var r in t)if(t.hasOwnProperty(r)){var s=t[r];if(!n.hasOwnProperty(r)){var o=s.JsonPath.GetRoot(),u=n[o.Path];n[s.JsonPath.Path]=s,u.add(s),s.get$node().css({stroke:"green","stroke-width":5})}(s.constructor.name==="JsonObject"||s.constructor.name==="JsonArray")&&i(s)}};i(r.data),t.getCurrentMappingCanvas().repaintDomain();var s=t.getCurrentMappingCanvas().getMappingRules();for(var o in s)s.hasOwnProperty(o)&&s[o].repaint()}}else alert("Not a json file")}})}return s}),define("text!tpl/navbar/graphSchemaTab.html",[],function(){return'<div id="OntologyCtrl" class="panel panel-default tab-pane fade">\n    <div class="panel-body">\n    </div>\n</div>'}),define("navbar/OntologyTab",["jquery","text!tpl/navbar/graphSchemaTab.html"],function(e,t){function n(){e("#mc_navbar_content").append(e(t))}return n.Ontology=null,n.CollectionName="Ontology",n.ArangoURL="http://localhost:8529/_api/",n}),define("text!tpl/navbar/httpInputTab.html",[],function(){return'<div id="httpInputCtrl" class="panel panel-default tab-pane fase">\n    <div class="panel-body">\n      <div class="btn-group" id="httpInputRadioButtons" data-toggle="buttons">\n      </div>\n    </div>\n</div>'}),define("text!tpl/navbar/radioButton.html",[],function(){return'<label class="btn btn-info <%-active%>">\n    <input type="radio" name="options" autocomplete="off" checked=""><%-name%>\n</label>'}),define("text!tpl/navbar/htmlGETForm.html",[],function(){return'<div id="httpGetForm" class="form-inline">\n    <p class="form-group">URL: </p>\n    <input id="httpGetInputForm_getUrl" size="60" type="text">\n    <button class="form-group btn btn-success">Send GET</button>\n    <div class="checkbox">\n        <label><input type="checkbox"> JSONP</label>\n    </div>\n</div>'}),define("text!tpl/navbar/htmlPOSTForm.html",[],function(){return'<div id="httpPostForm"  style="display: block;">\n    <div class="form-inline">\n        <p class="form-group">URL: </p>\n        <input id="httpPostInputForm_getUrl" size="60" type="text">\n    </div>\n    <div class="form-inline">\n        <p class="form-group">Data: </p>\n        <textarea id="httpPostInputForm_getData" class="form-group" cols="100" rows="2"></textarea>\n        <button class="form-group btn btn-success">Send POST</button>\n    </div>\n</div>'}),define("navbar/HttpInputTab",["jquery","lodash","bootstrapWrapper/Alert","MappingManager","text!tpl/navbar/httpInputTab.html","text!tpl/navbar/radioButton.html","text!tpl/navbar/htmlGETForm.html","text!tpl/navbar/htmlPOSTForm.html"],function(e,t,n,r,i,s,o,u){function a(){function f(t,n,r,i){e(n).append(e(a({name:t,active:i?"active":""})).click(function(){r&&r()}))}function l(){var t=e(o);return t.find("button").click(function(){var t=e("#httpGetInputForm_getUrl").val(),i=function(t){var i;try{i=JSON.parse(t)}catch(s){i=t}e("#panel_MappingConfigurator").remove(),r.createMappingCanvasFromExample("HTTP GET Input",i),n.Success("Get Request was sucessful","#httpGetForm")},s=function(){n.Error("Error! Invalid request. ","#httpGetForm")},o={type:"GET",url:t,dataType:"jsonp",jsonpCallback:"callback",headers:{},xhrFields:{withCredentials:!1},success:function(e){i(e)},error:function(e){s(e)}},u={type:"GET",url:t,contentType:"application/json",headers:{},xhrFields:{withCredentials:!1},success:function(e){i(e)},error:function(e){s(e)}};e("#httpGetForm").find(".checkbox input").prop("checked")?e.ajax(o):e.ajax(u)}),t}function c(){var t=e(u);return e(u).find("button").click(function(){var t=e("#httpPostInputForm_getUrl").val(),i=e("#httpPostInputForm_getData").val();e.post(t,i,function(t){e("#panel_MappingConfigurator").remove(),r.createMappingCanvasFromExample("HTTP POST Input",t),n.Success("Get Request was sucessful","#httpPostForm")}).fail(function(e){var t=JSON.parse(e.responseText);n.Error(t.code+" ! "+t.errorMessage,"#httpPostForm")})}),t}var a=t.template(s);e("#mc_navbar_content").append(e(i)),f("GET","#httpInputRadioButtons",function(){var t=e("#httpGetForm");t.length===0&&e("#httpInputCtrl").find(".panel-body").append(l()),t.show(),e("#httpPostForm").hide()},!0),f("POST","#httpInputRadioButtons",function(){var t=e("#httpPostForm");t.length===0&&e("#httpInputCtrl").find(".panel-body").append(c()),t.show(),e("#httpGetForm").hide()})}return a}),define("text!tpl/navbar/exportTab.html",[],function(){return'<div id="exportMC" class="panel panel-default tab-pane fade">\n    <div class="panel-body">\n        <div id="div_export" class="form-inline">\n            <div class="form-group">\n                <div class="btn-group" id="rdBtnExport" data-toggle="buttons">\n                    <label class="btn btn-default active" id="exportMapping">\n                        <input type="radio" name="options" autocomplete="off" checked="">Current Mapping\n                    </label>\n                    <label class="btn btn-default" id="exportProject">\n                        <input type="radio" name="options" autocomplete="off" checked="">Project\n                    </label>\n                </div>\n            </div>\n            <div class="form-group"><input type="text" value="mapping.json" placeholder="filename" id="fileName_export">\n            </div>\n            <div class="form-group">\n                <a id="export" class="btn btn-info"><span class="glyphicon glyphicon-cloud-download"></span> Download</a>\n            </div>\n         </div>\n    </div>\n</div>'}),define("navbar/MappingExportTab",["jquery","MappingManager","ProjectManager","text!tpl/navbar/exportTab.html"],function(e,t,n,r){function i(){var i=e(r);e("#mc_navbar_content").append(i),i.find("#export").click(function(){var r="application/json",i,s=e("#rdBtnExport").find(".active");s.is("#exportMapping")?i=t.getCurrentMappingCanvas().toJSON():s.is("#exportProject")&&(i=n.toJSON());var o=new Blob([JSON.stringify(i,null,4)],{type:r});e(this).attr("href",window.URL.createObjectURL(o)),e(this).attr("download",e("#fileName_export").val())})}return i}),define("text!tpl/navbar/importTab.html",[],function(){return'<div id="ImportCtrl" class="panel panel-default tab-pane fade">\n    <div class="panel-body">\n        <div id="form_import" class="form-inline">\n            <div class="form-group">\n                <p>Import Mapping or Project JSON:</p>\n            </div>\n            <div class="form-group">\n                <input id="file_import" type="file" value="Import" class="form-control">\n            </div>\n        </div>\n    </div>\n</div>'}),define("navbar/ImportTab",["jquery","MappingManager","ProjectManager","text!tpl/navbar/importTab.html"],function(e,t,n,r){function i(){var i=e(r);e("#mc_navbar_content").append(i),i.find("#file_import").change(function(){var r=e(this).prop("files")[0];if(r)if(r.name.search(/.json/)!==-1){var i=new FileReader;i.readAsText(r,"UTF-8"),i.onload=function(i){var s=JSON.parse(i.target.result);s.hasOwnProperty("projectName")?(n.fromJSON(s),e("#mc_navbar").find("a[href=#ProjectCtrl]").click()):t.createMappingCanvasFromJSON(r.name,s)}}else e("#ImportCtrl").find(".panel-body").append(e.parseHTML('<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><strong>Warning!</strong> Loading File failed. Only SVG for the MappingConfigurator can be loaded here.</div>'))})}return i}),define("text!tpl/modal.html",[],function(){return'<div class="modal fade" id="<%=id%>" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden=true>\n    <div class="modal-dialog <%=size%>">\n        <div class="modal-content">\n            <div class="modal-header"></div>\n            <div class="modal-body"></div>\n            <div class="modal-footer"></div>\n        </div>\n    </div>\n</div>'}),define("bootstrapWrapper/ModalWrapper",["jquery","lodash","text!tpl/modal.html"],function(e,t,n){function r(i,s,o,u,a){var f;typeof s=="string"?(f=[],f.push(e(e.parseHTML('<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>'))),f.push(e(document.createElement("h4")).attr("class","modal-title").text(s))):f=s;var l;u?l=u:l=r.FooterContent();var c=t.template(n),h=e(c({id:i,size:a}));h.find(".modal-header").append(f),h.find(".modal-body").append(o),h.find(".modal-footer").append(l),e("body").append(h),e("#"+i).modal({backdrop:!0,show:!0})}return r.FooterContent=function(t){var n=[];return t&&t.deleteFunc&&n.push(e(document.createElement("button")).attr("type","button").attr("class","btn btn-danger").attr("data-dismiss","modal").text("Delete").click(t.deleteFunc)),n.push(e(document.createElement("button")).attr("type","button").attr("class","btn btn-default").attr("data-dismiss","modal").click(function(){r.RemoveModal()}).text("Close")),t&&t.saveFunc&&n.push(e(document.createElement("button")).attr("type","button").attr("class","btn btn-primary").attr("data-dismiss","modal").text("Save changes").click(function(){t.saveFunc(),r.RemoveModal()})),n},r.RemoveModal=function(){e(".modal").remove(),e(".modal-backdrop").remove(),e("body").css("overflow-y","scroll").css("padding-right",5)},r}),define("modals/CreateProjectModal",["jquery","ProjectManager","bootstrapWrapper/ModalWrapper","text!tpl/form/formBase.html","text!tpl/form/formInput.html"],function(e,t,n,r,i){function s(){var s=e(_.template(i)({id:"txtProjectName",label:"Project Name",disabled:!1})),o=e(r);o.append(s);var u=n.FooterContent({saveFunc:function(){t.setProjectName(e("#txtProjectName").val())}});n("modalCreateProject","Create Project",o,u)}return s}),define("modals/AddMappingModal",["jquery","ProjectManager","bootstrapWrapper/ModalWrapper","text!tpl/form/formBase.html","text!tpl/form/formInput.html"],function(e,t,n,r,i){function s(){var s=e(_.template(i)({id:"txtMappingName",label:"Mapping Name",disabled:!1})),o=e(r);o.append(s);var u=n.FooterContent({saveFunc:function(){t.addCurrentMapping(e("#txtMappingName").val())}});n("modalCreateProject","Add Mapping",o,u)}return s}),function(){function e(e){var t=function(e,t){return i("",e,t)},s=n;e&&(n[e]||(n[e]={}),s=n[e]);if(!s.define||!s.define.packaged)r.original=s.define,s.define=r,s.define.packaged=!0;if(!s.require||!s.require.packaged)i.original=s.require,s.require=t,s.require.packaged=!0}var t="",n=function(){return this}();if(!t&&typeof requirejs!="undefined")return;var r=function(e,t,n){if(typeof e!="string"){r.original?r.original.apply(window,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(n=t),r.modules||(r.modules={},r.payloads={}),r.payloads[e]=n,r.modules[e]=null},i=function(e,t,n){if(Object.prototype.toString.call(t)==="[object Array]"){var r=[];for(var s=0,u=t.length;s<u;++s){var a=o(e,t[s]);if(!a&&i.original)return i.original.apply(window,arguments);r.push(a)}n&&n.apply(null,r)}else{if(typeof t=="string"){var f=o(e,t);return!f&&i.original?i.original.apply(window,arguments):(n&&n(),f)}if(i.original)return i.original.apply(window,arguments)}},s=function(e,t){if(t.indexOf("!")!==-1){var n=t.split("!");return s(e,n[0])+"!"+s(e,n[1])}if(t.charAt(0)=="."){var r=e.split("/").slice(0,-1).join("/");t=r+"/"+t;while(t.indexOf(".")!==-1&&i!=t){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},o=function(e,t){t=s(e,t);var n=r.modules[t];if(!n){n=r.payloads[t];if(typeof n=="function"){var o={},u={id:t,uri:"",exports:o,packaged:!0},a=function(e,n){return i(t,e,n)},f=n(a,o,u);o=f||u.exports,r.modules[t]=o,delete r.payloads[t]}n=r.modules[t]=o||n}return n};e(t)}(),define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,n){e("./lib/fixoldbrowsers");var r=e("./lib/dom"),i=e("./lib/event"),s=e("./editor").Editor,o=e("./edit_session").EditSession,u=e("./undomanager").UndoManager,a=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.edit=function(e){if(typeof e=="string"){var n=e;e=document.getElementById(n);if(!e)throw new Error("ace.edit can't find div #"+n)}if(e.env&&e.env.editor instanceof s)return e.env.editor;var o=t.createEditSession(r.getInnerText(e));e.innerHTML="";var u=new s(new a(e));u.setSession(o);var f={document:o,editor:u,onResize:u.resize.bind(u,null)};return i.addListener(window,"resize",f.onResize),u.on("destroy",function(){i.removeListener(window,"resize",f.onResize)}),e.env=u.env=f,u},t.createEditSession=function(e,t){var n=new o(e,t);return n.setUndoManager(new u),n},t.EditSession=o,t.UndoManager=u}),define("ace/mode/behaviour",["require","exports","module"],function(e,t,n){var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if(typeof e=="function")var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(!e)return this.$behaviours;var t={};for(var n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}}).call(r.prototype),t.Behaviour=r}),define("ace/unicode",["require","exports","module"],function(e,t,n){function r(e){var n=/\w{4}/g;for(var r in e)t.packages[r]=e[r].replace(n,"\\u$&")}t.packages={},r({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),define("ace/token_iterator",["require","exports","module"],function(e,t,n){var r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){this.$tokenIndex-=1;while(this.$tokenIndex<0){this.$row-=1;if(this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;var e;while(this.$tokenIndex>=this.$rowTokens.length){this.$row+=1,e||(e=this.$session.getLength());if(this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(n!==undefined)return n;n=0;while(t>0)t-=1,n+=e[t].value.length;return n}}).call(r.prototype),t.TokenIterator=r}),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,n){var r=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(!t){for(var n in e)this.$rules[n]=e[n];return}for(var n in e){var r=e[n];for(var i=0;i<r.length;i++){var s=r[i];s.next&&(typeof s.next!="string"?s.nextState&&s.nextState.indexOf(t)!==0&&(s.nextState=t+s.nextState):s.next.indexOf(t)!==0&&(s.next=t+s.next))}this.$rules[t+n]=r}},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,s){var o=typeof e=="function"?(new e).getRules():e;if(i)for(var u=0;u<i.length;u++)i[u]=t+i[u];else{i=[];for(var a in o)i.push(t+a)}this.addRules(o,t);if(n){var f=Array.prototype[s?"push":"unshift"];for(var u=0;u<i.length;u++)f.apply(this.$rules[i[u]],r.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return(e!="start"||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function n(s){var o=i[s];o.processed=!0;for(var u=0;u<o.length;u++){var a=o[u];!a.regex&&a.start&&(a.regex=a.start,a.next||(a.next=[]),a.next.push({defaultToken:a.token},{token:a.token+".end",regex:a.end||a.start,next:"pop"}),a.token=a.token+".start",a.push=!0);var f=a.next||a.push;if(f&&Array.isArray(f)){var l=a.stateName;l||(l=a.token,typeof l!="string"&&(l=l[0]||""),i[l]&&(l+=r++)),i[l]=f,a.next=l,n(l)}else f=="pop"&&(a.next=t);a.push&&(a.nextState=a.next||a.push,a.next=e,delete a.push);if(a.rules)for(var c in a.rules)i[c]?i[c].push&&i[c].push.apply(i[c],a.rules[c]):i[c]=a.rules[c];if(a.include||typeof a=="string")var h=a.include||a,p=i[h];else Array.isArray(a)&&(p=a);if(p){var d=[u,1].concat(p);a.noEscape&&(d=d.filter(function(e){return!e.next})),o.splice.apply(o,d),u--,p=null}a.keywordMap&&(a.token=this.createKeywordMapper(a.keywordMap,a.defaultToken||"text",a.caseInsensitive),delete a.defaultToken)}}var r=0,i=this.$rules;Object.keys(i).forEach(n,this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return Object.keys(e).forEach(function(t){var s=e[t];n&&(s=s.toLowerCase());var o=s.split(r||"|");for(var u=o.length;u--;)i[o[u]]=t}),Object.getPrototypeOf(i)&&(i.__proto__=null),this.$keywordList=Object.keys(i),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,s=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),typeof n=="undefined"?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){var t=e.data,n=t.range;if(n.start.row==n.end.row&&n.start.row!=this.row)return;if(n.start.row>this.row)return;if(n.start.row==this.row&&n.start.column>this.column)return;var r=this.row,i=this.column,s=n.start,o=n.end;if(t.action==="insertText")if(s.row===r&&s.column<=i){if(s.column!==i||!this.$insertRight)s.row===o.row?i+=o.column-s.column:(i-=s.column,r+=o.row-s.row)}else s.row!==o.row&&s.row<r&&(r+=o.row-s.row);else t.action==="insertLines"?(s.row!==r||i!==0||!this.$insertRight)&&s.row<=r&&(r+=o.row-s.row):t.action==="removeText"?s.row===r&&s.column<i?o.column>=i?i=s.column:i=Math.max(0,i-(o.column-s.column)):s.row!==o.row&&s.row<r?(o.row===r&&(i=Math.max(0,i-o.column)+s.column),r-=o.row-s.row):o.row===r&&(r-=o.row-s.row,i=Math.max(0,i-o.column)+s.column):t.action=="removeLines"&&s.row<=r&&(o.row<=r?r-=o.row-s.row:(r=s.row,i=0));this.setPosition(r,i,!0)},this.setPosition=function(e,t,n){var r;n?r={row:e,column:t}:r=this.$clipPositionToDocument(e,t);if(this.row==r.row&&this.column==r.column)return;var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(s.prototype)}),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,s=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(!n.running)return;var e=new Date,t=n.currentLine,r=-1,i=n.doc;while(n.lines[t])t++;var s=t,o=i.getLength(),u=0;n.running=!1;while(t<o){n.$tokenizeRow(t),r=t;do t++;while(n.lines[t]);u++;if(u%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20),n.currentLine=t;return}}n.currentLine=t,s<=r&&n.fireUpdateEvent(s,r)}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.range,n=t.start.row,r=t.end.row-n;if(r===0)this.lines[n]=null;else if(e.action=="removeText"||e.action=="removeLines")this.lines.splice(n,r+1,null),this.states.splice(n,r+1,null);else{var i=Array(r+1);i.unshift(n,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(n,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(s.prototype),t.BackgroundTokenizer=s}),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){var r=e("./lib/lang"),i=e("./lib/oop"),s=e("./range").Range,o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){if(this.regExp+""==e+"")return;this.regExp=e,this.cache=[]},this.update=function(e,t,n,i){if(!this.regExp)return;var o=i.firstRow,u=i.lastRow;for(var a=o;a<=u;a++){var f=this.cache[a];f==null&&(f=r.getMatchOffsets(n.getLine(a),this.regExp),f.length>this.MAX_RANGES&&(f=f.slice(0,this.MAX_RANGES)),f=f.map(function(e){return new s(a,e.offset,a,e.offset+e.length)}),this.cache[a]=f.length?f:"");for(var l=f.length;l--;)t.drawSingleLineMarker(e,f[l].toScreenRange(n),this.clazz,i)}}}).call(o.prototype),t.SearchHighlight=o}),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,n){function r(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;var i=r.folds;for(var s=0;s<i.length;s++){var o=i[s];if(o.range.contains(e,t)){if(n==1&&o.range.isEnd(e,t))continue;if(n==-1&&o.range.isStart(e,t))continue;return o}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var s=0;s<r.length;s++){var o=r[s].range.compareRange(e);if(o==2)continue;if(o==-2)break;var u=r[s].folds;for(var a=0;a<u.length;a++){var f=u[a];o=f.range.compareRange(e);if(o==-2)break;if(o==2)continue;if(o==42)break;i.push(f)}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){var e=[],t=this.$foldData;for(var n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){r=r||this.getFoldLine(e);if(!r)return null;var i={end:{column:0}},s,o;for(var u=0;u<r.folds.length;u++){o=r.folds[u];var a=o.range.compareEnd(e,t);if(a==-1){s=this.getLine(o.start.row).substring(i.end.column,o.start.column);break}if(a===0)return null;i=o}return s||(s=this.getLine(o.start.row).substring(i.end.column)),n==-1?s.substring(0,t-i.end.column):n==1?s.substring(t-i.end.column):s},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;t&&(r=n.indexOf(t)),r==-1&&(r=0);for(r;r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;t&&(r=n.indexOf(t)),r==-1&&(r=0);for(r;r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){var n=this.$foldData,r=t-e+1;for(var i=0;i<n.length;i++){var s=n[i],o=s.end.row,u=s.start.row;if(o>=t){u<t&&(u>=e?r-=t-u:r=0);break}o>=e&&(u>=e?r-=o-u:r-=o-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n=this.$foldData,r=!1,i;e instanceof o?i=e:(i=new o(t,e),i.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(i.range);var u=i.start.row,a=i.start.column,f=i.end.row,l=i.end.column;if(u<f||u==f&&a<=l-2){var c=this.getFoldAt(u,a,1),h=this.getFoldAt(f,l,-1);if(c&&h==c)return c.addSubFold(i);if(c&&!c.range.isStart(u,a)||h&&!h.range.isEnd(f,l))throw new Error("A fold can't intersect already existing fold"+i.range+c.range);var p=this.getFoldsInRange(i.range);p.length>0&&(this.removeFolds(p),p.forEach(function(e){i.addSubFold(e)}));for(var d=0;d<n.length;d++){var v=n[d];if(f==v.start.row){v.addFold(i),r=!0;break}if(u==v.end.row){v.addFold(i),r=!0;if(!i.sameRow){var m=n[d+1];if(m&&m.start.row==f){v.merge(m);break}}break}if(f<=v.start.row)break}return r||(v=this.$addFoldLine(new s(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(v.start.row,v.start.row):this.$updateRowLengthCache(v.start.row,v.start.row),this.$modified=!0,this._emit("changeFold",{data:i,action:"add"}),i}throw new Error("The range has to be at least 2 characters width")},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,s=t.folds;if(s.length==1)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))s.pop(),t.end.row=s[s.length-1].end.row,t.end.column=s[s.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))s.shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column;else if(e.sameRow)s.splice(s.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);s=o.folds,s.shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._emit("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){var t=[];for(var n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,r;e==null?(n=new i(0,0,this.getLength(),0),t=!0):typeof e=="number"?n=new i(e,0,e,this.getLine(e).length):"row"in e?n=i.fromPoints(e,e):n=e,r=this.getFoldsInRangeList(n);if(t)this.removeFolds(r);else{var s=r;while(s.length)this.expandFolds(s),s=this.getFoldsInRangeList(n)}if(r.length)return r},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){r==null&&(r=e.start.row,i=0),t==null&&(t=e.end.row,n=this.getLine(t).length);var s=this.doc,o="";return e.walk(function(e,t,n,u){if(t<r)return;if(t==r){if(n<i)return;u=Math.max(i,u)}e!=null?o+=e:o+=s.getLine(t).substring(u,n)},t,n),o},this.getDisplayLine=function(e,t,n,r){var i=this.getFoldLine(e);if(!i){var s;return s=this.doc.getLine(e),s.substring(r||0,t||s.length)}return this.getFoldDisplayLine(i,e,t,n,r)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new s(e,n)}),e},this.toggleFold=function(e){var t=this.selection,n=t.getRange(),r,i;if(n.isEmpty()){var s=n.start;r=this.getFoldAt(s.row,s.column);if(r){this.expandFold(r);return}(i=this.findMatchingBracket(s))?n.comparePoint(i)==1?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:s.row,column:s.column+1}))?(n.comparePoint(i)==1?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(s.row,s.column)||n}else{var o=this.getFoldsInRange(n);if(e&&o.length){this.expandFolds(o);return}o.length==1&&(r=o[0])}r||(r=this.getFoldAt(n.start.row,n.start.column));if(r&&r.range.toString()==n.toString()){this.expandFold(r);return}var u="...";if(!n.isMultiLine()){u=this.getTextRange(n);if(u.length<4)return;u=u.trim().substring(0,2)+".."}this.addFold(u,n)},this.getCommentFoldRange=function(e,t,n){var r=new u(this,e,t),s=r.getCurrentToken();if(s&&/^comment|string/.test(s.type)){var o=new i,a=new RegExp(s.type.replace(/\..*/,"\\."));if(n!=1){do s=r.stepBackward();while(s&&a.test(s.type));r.stepForward()}o.start.row=r.getCurrentTokenRow(),o.start.column=r.getCurrentTokenColumn()+2,r=new u(this,e,t);if(n!=-1){do s=r.stepForward();while(s&&a.test(s.type));s=r.stepBackward()}else s=r.getCurrentToken();return o.end.row=r.getCurrentTokenRow(),o.end.column=r.getCurrentTokenColumn()+s.value.length-2,o}},this.foldAll=function(e,t,n){n==undefined&&(n=1e5);var r=this.foldWidgets;if(!r)return;t=t||this.getLength(),e=e||0;for(var i=e;i<t;i++){r[i]==null&&(r[i]=this.getFoldWidget(i));if(r[i]!="start")continue;var s=this.getFoldWidgetRange(i);if(s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e){i=s.end.row;try{var o=this.addFold("...",s);o&&(o.collapseChildren=n)}catch(u){}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle==e)return;this.$foldStyle=e,e=="manual"&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)},this.$setFolding=function(e){if(this.$foldMode==e)return;this.$foldMode=e,this.removeListener("change",this.$updateFoldWidgets),this._emit("changeAnnotation");if(!e||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};var r=e-1,i;while(r>=0){var s=n[r];s==null&&(s=n[r]=this.getFoldWidget(r));if(s=="start"){var o=this.getFoldWidgetRange(r);i||(i=o);if(o&&o.end.row>=e)break}r--}return{range:r!==-1&&o,firstRange:i}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},r=this.$toggleFoldWidget(e,n);if(!r){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(!this.getFoldWidget)return;var n=this.getFoldWidget(e),r=this.getLine(e),i=n==="end"?-1:1,s=this.getFoldAt(e,i===-1?0:r.length,i);if(s){t.children||t.all?this.removeFold(s):this.expandFold(s);return}var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()){s=this.getFoldAt(o.start.row,o.start.column,1);if(s&&o.isEqual(s.range)){this.removeFold(s);return}}if(t.siblings){var u=this.getParentFoldRangeData(e);if(u.range)var a=u.range.start.row+1,f=u.range.end.row;this.foldAll(a,f,t.all?1e4:0)}else t.children?(f=o?o.end.row:this.getLength(),this.foldAll(e+1,o.end.row,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(n)return;var r=this.getParentFoldRangeData(t,!0);n=r.range||r.firstRange;if(n){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold("...",n)}},this.updateFoldWidgets=function(e){var t=e.data,n=t.range,r=n.start.row,i=n.end.row-r;if(i===0)this.foldWidgets[r]=null;else if(t.action=="removeText"||t.action=="removeLines")this.foldWidgets.splice(r,i+1,null);else{var s=Array(i+1);s.unshift(r,1),this.foldWidgets.splice.apply(this.foldWidgets,s)}}}var i=e("../range").Range,s=e("./fold_line").FoldLine,o=e("./fold").Fold,u=e("../token_iterator").TokenIterator;t.Folding=r}),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,n){function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var i=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r=0,i=this.folds,s,o,u,a=!0;t==null&&(t=this.end.row,n=this.end.column);for(var f=0;f<i.length;f++){s=i[f],o=s.range.compareStart(t,n);if(o==-1){e(null,t,n,r,a);return}u=e(null,s.start.row,s.start.column,r,a),u=!u&&e(s.placeholder,s.start.row,s.start.column,r);if(u||o==0)return;a=!s.sameRow,r=s.end.column}e(null,t,n,r,a)},this.getNextFoldTo=function(e,t){var n,r;for(var i=0;i<this.folds.length;i++){n=this.folds[i],r=n.range.compareEnd(e,t);if(r==-1)return{fold:n,kind:"after"};if(r==0)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r=this.getNextFoldTo(e,t),i,s;if(r){i=r.fold;if(r.kind=="inside"&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){s=this.folds;var o=s.indexOf(i);o==0&&(this.start.column+=n);for(o;o<s.length;o++){i=s[o],i.start.column+=n;if(!i.sameRow)return;i.end.column+=n}this.end.column+=n}}},this.split=function(e,t){var n=this.getNextFoldTo(e,t).fold,i=this.folds,s=this.foldData;if(!n)return null;var o=i.indexOf(n),u=i[o-1];this.end.row=u.end.row,this.end.column=u.end.column,i=i.splice(o,i.length-o);var a=new r(s,i);return s.splice(s.indexOf(this)+1,0,a),a},this.merge=function(e){var t=e.folds;for(var n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){var t=0,n;for(var r=0;r<this.folds.length;r++){var n=this.folds[r];e-=n.start.column-t;if(e<0)return{row:n.start.row,column:n.start.column+e};e-=n.placeholder.length;if(e<0)return n.start;t=n.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r}),define("ace/tokenizer",["require","exports","module"],function(e,t,n){var r=1e3,i=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){var n=this.states[t],r=[],i=0,s=this.matchMappings[t]={defaultToken:"text"},o="g",u=[];for(var a=0;a<n.length;a++){var f=n[a];f.defaultToken&&(s.defaultToken=f.defaultToken),f.caseInsensitive&&(o="gi");if(f.regex==null)continue;f.regex instanceof RegExp&&(f.regex=f.regex.toString().slice(1,-1));var l=f.regex,c=(new RegExp("(?:("+l+")|(.))")).exec("a").length-2;if(Array.isArray(f.token))if(f.token.length==1||c==1)f.token=f.token[0];else{if(c-1!=f.token.length)throw new Error("number of classes and regexp groups in '"+f.token+"'\n'"+f.regex+"' doesn't match\n"+(c-1)+"!="+f.token.length);f.tokenArray=f.token,f.token=null,f.onMatch=this.$arrayTokens}else typeof f.token=="function"&&!f.onMatch&&(c>1?f.onMatch=this.$applyToken:f.onMatch=f.token);c>1&&(/\\\d/.test(f.regex)?l=f.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+i+1)}):(c=1,l=this.removeCapturingGroups(f.regex)),!f.splitRegex&&typeof f.token!="string"&&u.push(f)),s[i]=a,i+=c,r.push(l),f.onMatch||(f.onMatch=null)}u.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)},this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(e){r=e|0},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if(typeof n=="string")return[{type:n,value:e}];var r=[];for(var i=0,s=n.length;i<s;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";var n=[],r=this.tokenArray;for(var i=0,s=r.length;i<s;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(e.indexOf("(?=")!=-1){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,s,o,u,a){return r?r=u!="]":u?r=!0:o?(n==i.stack&&(i.end=a+1,i.stack=-1),n--):s&&(n++,s.length!=1&&(i.stack=n,i.start=a)),e}),i.end!=null&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&typeof t!="string"){var n=t.slice(0);t=n[0]}else var n=[];var i=t||"start",s=this.states[i];s||(i="start",s=this.states[i]);var o=this.matchMappings[i],u=this.regExps[i];u.lastIndex=0;var a,f=[],l=0,c={type:null,value:""};while(a=u.exec(e)){var h=o.defaultToken,p=null,d=a[0],v=u.lastIndex;if(v-d.length>l){var m=e.substring(l,v-d.length);c.type==h?c.value+=m:(c.type&&f.push(c),c={type:h,value:m})}for(var g=0;g<a.length-2;g++){if(a[g+1]===undefined)continue;p=s[o[g]],p.onMatch?h=p.onMatch(d,i,n):h=p.token,p.next&&(typeof p.next=="string"?i=p.next:i=p.next(i,n),s=this.states[i],s||(window.console&&console.error&&console.error(i,"doesn't exist"),i="start",s=this.states[i]),o=this.matchMappings[i],l=v,u=this.regExps[i],u.lastIndex=v);break}if(d)if(typeof h=="string")!!p&&p.merge===!1||c.type!==h?(c.type&&f.push(c),c={type:h,value:d}):c.value+=d;else if(h){c.type&&f.push(c),c={type:null,value:""};for(var g=0;g<h.length;g++)f.push(h[g])}if(l==e.length)break;l=v;if(f.length>r){while(l<e.length)c.type&&f.push(c),c={value:e.substring(l,l+=2e3),type:"overflow"};i="start",n=[];break}}return c.type&&f.push(c),n.length>1&&n[0]!==i&&n.unshift(i),{tokens:f,state:n.length?n:i}}}).call(i.prototype),t.Tokenizer=i}),define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,n){function r(e,t){e.row-=t.row,e.row==0&&(e.column-=t.column)}function i(e,t){r(e.start,t),r(e.end,t)}function s(e,t){e.row==0&&(e.column+=t.column),e.row+=t.row}function o(e,t){s(e.start,t),s(e.end,t)}var u=e("../range").Range,a=e("../range_list").RangeList,f=e("../lib/oop"),l=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};f.inherits(l,a),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new l(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(this.range.isEqual(e))return;if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);i(e,this.start);var t=e.start.row,n=e.start.column;for(var r=0,s=-1;r<this.subFolds.length;r++){s=this.subFolds[r].range.compare(t,n);if(s!=1)break}var o=this.subFolds[r];if(s==0)return o.addSubFold(e);var t=e.range.end.row,n=e.range.end.column;for(var u=r,s=-1;u<this.subFolds.length;u++){s=this.subFolds[u].range.compare(t,n);if(s!=1)break}var a=this.subFolds[u];if(s==0)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);var f=this.subFolds.splice(r,u-r,e);return e.setFoldLine(this.foldLine),e},this.restoreRange=function(e){return o(e,this.start)}}.call(l.prototype)}),define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,n){var r=e("../tokenizer").Tokenizer,i=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour").Behaviour,o=e("../unicode"),u=e("../lib/lang"),a=e("../token_iterator").TokenIterator,f=e("../range").Range,l=function(){this.HighlightRules=i,this.$behaviour=new s};(function(){this.tokenRe=new RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=new this.HighlightRules,this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){function i(e){for(var t=n;t<=r;t++)e(s.getLine(t),t)}var s=t.doc,o=!0,a=!0,f=Infinity,l=t.getTabSize(),c=!1;if(!this.lineCommentStart){if(!this.blockComment)return!1;var h=this.blockComment.start,p=this.blockComment.end,d=new RegExp("^(\\s*)(?:"+u.escapeRegExp(h)+")"),v=new RegExp("(?:"+u.escapeRegExp(p)+")\\s*$"),m=function(e,t){if(y(e,t))return;if(!o||/\S/.test(e))s.insertInLine({row:t,column:e.length},p),s.insertInLine({row:t,column:f},h)},g=function(e,t){var n;(n=e.match(v))&&s.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(d))&&s.removeInLine(t,n[1].length,n[0].length)},y=function(e,n){if(d.test(e))return!0;var r=t.getTokens(n);for(var i=0;i<r.length;i++)if(r[i].type==="comment")return!0}}else{if(Array.isArray(this.lineCommentStart))var d=this.lineCommentStart.map(u.escapeRegExp).join("|"),h=this.lineCommentStart[0];else var d=u.escapeRegExp(this.lineCommentStart),h=this.lineCommentStart;d=new RegExp("^(\\s*)(?:"+d+") ?"),c=t.getUseSoftTabs();var g=function(e,t){var n=e.match(d);if(!n)return;var r=n[1].length,i=n[0].length;!w(e,r,i)&&n[0][i-1]==" "&&i--,s.removeInLine(t,r,i)},b=h+" ",m=function(e,t){if(!o||/\S/.test(e))w(e,f,f)?s.insertInLine({row:t,column:f},b):s.insertInLine({row:t,column:f},h)},y=function(e,t){return d.test(e)},w=function(e,t,n){var r=0;while(t--&&e.charAt(t)==" ")r++;if(r%l!=0)return!1;var r=0;while(e.charAt(n++)==" ")r++;return l>2?r%l!=l-1:r%l==0}}var E=Infinity;i(function(e,t){var n=e.search(/\S/);n!==-1?(n<f&&(f=n),a&&!y(e,t)&&(a=!1)):E>e.length&&(E=e.length)}),f==Infinity&&(f=E,o=!1,a=!1),c&&f%l!=0&&(f=Math.floor(f/l)*l),i(a?g:m)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(!i)return;!i.start&&i[0]&&(i=i[0]);var s=new a(t,r.row,r.column),o=s.getCurrentToken(),u=t.selection,l=t.selection.toOrientedRange(),c,h;if(o&&/comment/.test(o.type)){var p,d;while(o&&/comment/.test(o.type)){var v=o.value.indexOf(i.start);if(v!=-1){var m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+v;p=new f(m,g,m,g+i.start.length);break}o=s.stepBackward()}var s=new a(t,r.row,r.column),o=s.getCurrentToken();while(o&&/comment/.test(o.type)){var v=o.value.indexOf(i.end);if(v!=-1){var m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+v;d=new f(m,g,m,g+i.end.length);break}o=s.stepForward()}d&&t.remove(d),p&&(t.remove(p),c=p.start.row,h=-i.start.length)}else h=i.start.length,c=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);l.start.row==c&&(l.start.column+=h),l.end.row==c&&(l.end.column+=h),t.selection.fromOrientedRange(l)},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(var t=0;t<n.length;t++)(function(e){var r=n[t],i=e[r];e[n[t]]=function(){return this.$delegator(r,arguments,i)}})(this)},this.$delegator=function(e,t,n){var r=t[0];typeof r!="string"&&(r=r[0]);for(var i=0;i<this.$embeds.length;i++){if(!this.$modes[this.$embeds[i]])continue;var s=r.split(this.$embeds[i]);if(!s[0]&&s[1]){t[0]=s[1];var o=this.$modes[this.$embeds[i]];return o[e].apply(o,t)}}var u=n.apply(this,t);return n?u:undefined},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][t]){var u=s[o][t].apply(this,arguments);if(u)return u}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t){var i=t[r];for(var s=0,o=i.length;s<o;s++)if(typeof i[s].token=="string")/keyword|support|storage/.test(i[s].token)&&n.push(i[s].regex);else if(typeof i[s].token=="object")for(var u=0,a=i[s].token.length;u<a;u++)if(/keyword|support|storage/.test(i[s].token[u])){var r=i[s].regex.match(/\(.+?\)/g)[u];n.push(r.substr(1,r.length-2))}}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){var i=this.$keywordList||this.$createKeywordList();return i.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(l.prototype),t.Mode=l}),define("ace/range_list",["require","exports","module","ace/range"],function(e,t,n){var r=e("./range").Range,i=r.comparePoints,s=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){var r=this.ranges;for(var s=n||0;s<r.length;s++){var o=r[s],u=i(e,o.end);if(u>0)continue;var a=i(e,o.start);return u===0?t&&a!==0?-s-2:s:a>0||a===0&&!t?s:-s-1}return-s-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){var t=[];for(var n=e.length;n--;)t.push.call(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return i(e.start,t.start)});var n=t[0],r;for(var s=1;s<t.length;s++){r=n,n=t[s];var o=i(r.end,n.start);if(o<0)continue;if(o==0&&!r.isEmpty()&&!n.isEmpty())continue;i(r.end,n.end)<0&&(r.end.row=n.end.row,r.end.column=n.end.column),t.splice(s,1),e.push(n),n=r,s--}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);var s=[];for(var o=r;o<i;o++)s.push(n[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){if(!this.session)return;this.session.removeListener("change",this.onChange),this.session=null},this.$onChange=function(e){var t=e.data.range;if(e.data.action[0]=="i")var n=t.start,r=t.end;else var r=t.start,n=t.end;var i=n.row,s=r.row,o=s-i,u=-n.column+r.column,a=this.ranges;for(var f=0,l=a.length;f<l;f++){var c=a[f];if(c.end.row<i)continue;if(c.start.row>i)break;c.start.row==i&&c.start.column>=n.column&&(c.start.column!=n.column||!this.$insertRight)&&(c.start.column+=u,c.start.row+=o);if(c.end.row==i&&c.end.column>=n.column){if(c.end.column==n.column&&this.$insertRight)continue;c.end.column==n.column&&u>0&&f<l-1&&c.end.column>c.start.column&&c.end.column==a[f+1].start.column&&(c.end.column-=u),c.end.column+=u,c.end.row+=o}}if(o!=0&&f<l)for(;f<l;f++){var c=a[f];c.start.row+=o,c.end.row+=o}}}).call(s.prototype),t.RangeList=s}),define("ace/range",["require","exports","module"],function(e,t,n){var r=function(e,t){return e.row-t.row||e.column-t.column},i=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return this.compare(e,t)==0},this.compareRange=function(e){var t,n=e.end,r=e.start;return t=this.compare(n.row,n.column),t==1?(t=this.compare(r.row,r.column),t==1?2:t==0?1:0):t==-1?-2:(t=this.compare(r.row,r.column),t==-1?-1:t==1?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return this.comparePoint(e.start)==0&&this.comparePoint(e.end)==0},this.intersects=function(e){var t=this.compareRange(e);return t==-1||t==0||t==1},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){typeof e=="object"?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){typeof e=="object"?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return this.compare(e,t)==0?this.isEnd(e,t)||this.isStart(e,t)?!1:!0:!1},this.insideStart=function(e,t){return this.compare(e,t)==0?this.isEnd(e,t)?!1:!0:!1},this.insideEnd=function(e,t){return this.compare(e,t)==0?this.isStart(e,t)?!1:!0:!1},this.compare=function(e,t){return!this.isMultiLine()&&e===this.start.row?t<this.start.column?-1:t>this.end.column?1:0:e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)var r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(n==0)return this;if(n==-1)var r={row:e,column:t};else var s={row:e,column:t};return i.fromPoints(r||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=r,i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i}),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,n){function r(){this.findMatchingBracket=function(e,t){if(e.column==0)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(n=="")return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t=this.getLine(e.row),n=!0,r,i=t.charAt(e.column-1),o=i&&i.match(/([\(\[\{])|([\)\]\}])/);o||(i=t.charAt(e.column),e={row:e.row,column:e.column+1},o=i&&i.match(/([\(\[\{])|([\)\]\}])/),n=!1);if(!o)return null;if(o[1]){var u=this.$findClosingBracket(o[1],e);if(!u)return null;r=s.fromPoints(e,u),n||(r.end.column++,r.start.column--),r.cursor=r.end}else{var u=this.$findOpeningBracket(o[2],e);if(!u)return null;r=s.fromPoints(u,e),n||(r.start.column++,r.end.column--),r.cursor=r.start}return r},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],s=1,o=new i(this,t.row,t.column),u=o.getCurrentToken();u||(u=o.stepForward());if(!u)return;n||(n=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("rparen",".paren")+")+"));var a=t.column-o.getCurrentTokenColumn()-2,f=u.value;for(;;){while(a>=0){var l=f.charAt(a);if(l==r){s-=1;if(s==0)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else l==e&&(s+=1);a-=1}do u=o.stepBackward();while(u&&!n.test(u.type));if(u==null)break;f=u.value,a=f.length-1}return null},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],s=1,o=new i(this,t.row,t.column),u=o.getCurrentToken();u||(u=o.stepForward());if(!u)return;n||(n=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("lparen",".paren")+")+"));var a=t.column-o.getCurrentTokenColumn();for(;;){var f=u.value,l=f.length;while(a<l){var c=f.charAt(a);if(c==r){s-=1;if(s==0)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else c==e&&(s+=1);a+=1}do u=o.stepForward();while(u&&!n.test(u.type));if(u==null)break;a=0}return null}}var i=e("../token_iterator").TokenIterator,s=e("../range").Range;t.BracketMatch=r}),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,n){var r=e("./lib/oop"),i=e("./lib/lang"),s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,u=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){r.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty){this.moveCursorTo(this.lead.row,this.lead.column+e);return}var t=this.getSelectionAnchor(),n=this.getSelectionLead(),r=this.isBackwards();(!r||t.column!==0)&&this.setSelectionAnchor(t.row,t.column+e),(r||n.column!==0)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(typeof t=="undefined"){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n=typeof e=="number"?e:this.lead.row,r,i=this.session.getFoldLine(n);return i?(n=i.start.row,r=i.end.row):r=n,t===!0?new o(n,0,r,this.session.getLine(r).length):new o(n,0,r+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(e.column==0)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column-n,e.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),e=this.lead;this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column,e.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column),s=i.match(/^\s*/);s[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(r.column+=s[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i;this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s=this.session.getFoldAt(e,t,1);if(s){this.moveCursorTo(s.end.row,s.end.column);return}if(i=this.session.nonTokenRe.exec(r))t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t);if(t>=n.length){this.moveCursorTo(e,n.length),this.moveCursorRight(),e<this.doc.getLength()-1&&this.moveCursorWordRight();return}if(i=this.session.tokenRe.exec(r))t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0;this.moveCursorTo(e,t)},this.moveCursorLongWordLeft=function(){var e=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(e,t,-1)){this.moveCursorTo(n.start.row,n.start.column);return}var r=this.session.getFoldStringAt(e,t,-1);r==null&&(r=this.doc.getLine(e).substring(0,t));var s=i.stringReverse(r),o;this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;if(o=this.session.nonTokenRe.exec(s))t-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0;if(t<=0){this.moveCursorTo(e,0),this.moveCursorLeft(),e>0&&this.moveCursorWordLeft();return}if(o=this.session.tokenRe.exec(s))t-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0;this.moveCursorTo(e,t)},this.$shortWordEndIndex=function(e){var t,n=0,r,i=/\s/,s=this.session.tokenRe;s.lastIndex=0;if(t=this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{while((r=e[n])&&i.test(r))n++;if(n<1){s.lastIndex=0;while((r=e[n])&&!s.test(r)){s.lastIndex=0,n++;if(i.test(r)){if(n>2){n--;break}while((r=e[n])&&i.test(r))n++;if(n>2)break}}}}return s.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var s=this.doc.getLength();do e++,r=this.doc.getLine(e);while(e<s&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var o=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+o)},this.moveCursorShortWordLeft=function(){var e=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(e,t,-1))return this.moveCursorTo(n.start.row,n.start.column);var r=this.session.getLine(e).substring(0,t);if(t==0){do e--,r=this.doc.getLine(e);while(e>0&&/^\s*$/.test(r));t=r.length,/\s+$/.test(r)||(r="")}var s=i.stringReverse(r),o=this.$shortWordEndIndex(s);return this.moveCursorTo(e,t-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);t===0&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var r=this.session.screenToDocumentPosition(n.row+e,n.column);e!==0&&t===0&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&r.row++,this.moveCursorTo(r.row,r.column+t,t===0)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e.call(null,this);var n=this.getCursor();return o.fromPoints(t,n)}catch(r){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(e.start==undefined){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e.isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(u.prototype),t.Selection=u}),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){var r=e("./lib/lang"),i=e("./lib/oop"),s=e("./range").Range,o=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$matchIterator(e,this.$options);if(!t)return!1;var n=null;return t.forEach(function(e,t,r){if(!e.start){var i=e.offset+(r||0);n=new s(t,i,t,i+e.length)}else n=e;return!0}),n},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],u=t.re;if(t.$isMultiLine){var a=u.length,f=i.length-a,l;e:for(var c=u.offset||0;c<=f;c++){for(var h=0;h<a;h++)if(i[c+h].search(u[h])==-1)continue e;var p=i[c],d=i[c+a-1],v=p.length-p.match(u[0])[0].length,m=d.match(u[a-1])[0].length;if(l&&l.end.row===c&&l.end.column>v)continue;o.push(l=new s(c,v,c+a-1,m)),a>2&&(c=c+a-2)}}else for(var g=0;g<i.length;g++){var y=r.getMatchOffsets(i[g],u);for(var h=0;h<y.length;h++){var b=y[h];o.push(new s(g,b.offset,g,b.offset+b.length))}}if(n){var w=n.start.column,E=n.start.column,g=0,h=o.length-1;while(g<h&&o[g].start.column<w&&o[g].start.row==n.start.row)g++;while(g<h&&o[h].end.column>E&&o[h].end.row==n.end.row)h--;o=o.slice(g,h+1);for(g=0,h=o.length;g<h;g++)o[g].start.row+=n.start.row,o[g].end.row+=n.start.row}return o},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(!r)return;var i=r.exec(e);if(!i||i[0].length!=e.length)return null;t=e.replace(r,t);if(n.preserveCase){t=t.split("");for(var s=Math.min(e.length,e.length);s--;){var o=e[s];o&&o.toLowerCase()!=o?t[s]=t[s].toUpperCase():t[s]=t[s].toLowerCase()}t=t.join("")}return t},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i=this,o,u=t.backwards;if(t.$isMultiLine)var a=n.length,f=function(t,r,i){var u=t.search(n[0]);if(u==-1)return;for(var f=1;f<a;f++){t=e.getLine(r+f);if(t.search(n[f])==-1)return}var l=t.match(n[a-1])[0].length,c=new s(r,u,r+a-1,l);n.offset==1?(c.start.row--,c.start.column=Number.MAX_VALUE):i&&(c.start.column+=i);if(o(c))return!0};else if(u)var f=function(e,t,i){var s=r.getMatchOffsets(e,n);for(var u=s.length-1;u>=0;u--)if(o(s[u],t,i))return!0};else var f=function(e,t,i){var s=r.getMatchOffsets(e,n);for(var u=0;u<s.length;u++)if(o(s[u],t,i))return!0};return{forEach:function(n){o=n,i.$lineIterator(e,t).forEach(f)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n)),e.wholeWord&&(n="\\b"+n+"\\b");var i=e.caseSensitive?"g":"gi";e.$isMultiLine=!t&&/[\n\r]/.test(n);if(e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,i);try{var s=new RegExp(n,i)}catch(o){s=!1}return e.re=s},this.$assembleMultilineRegExp=function(e,t){var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[];for(var i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(s){return!1}return n[0]==""?(r.shift(),r.offset=1):r.offset=0,r},this.$lineIterator=function(e,t){var n=t.backwards==1,r=t.skipCurrent!=0,i=t.range,s=t.start;s||(s=i?i[n?"end":"start"]:e.selection.getRange()),s.start&&(s=s[r!=n?"end":"start"]);var o=i?i.start.row:0,u=i?i.end.row:e.getLength()-1,a=n?function(n){var r=s.row,i=e.getLine(r).substring(0,s.column);if(n(i,r))return;for(r--;r>=o;r--)if(n(e.getLine(r),r))return;if(t.wrap==0)return;for(r=u,o=s.row;r>=o;r--)if(n(e.getLine(r),r))return}:function(n){var r=s.row,i=e.getLine(r).substr(s.column);if(n(i,r,s.column))return;for(r+=1;r<=u;r++)if(n(e.getLine(r),r))return;if(t.wrap==0)return;for(r=o,u=s.row;r<=u;r++)if(n(e.getLine(r),r))return};return{forEach:a}}}).call(o.prototype),t.Search=o}),define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,n){var r=e("./lib/oop"),i=e("./lib/lang"),s=e("./config"),o=e("./lib/event_emitter").EventEmitter,u=e("./selection").Selection,a=e("./mode/text").Mode,f=e("./range").Range,l=e("./document").Document,c=e("./background_tokenizer").BackgroundTokenizer,h=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this);if(typeof e!="object"||!e.getLine)e=new l(e);this.setDocument(e),this.selection=new u(this),s.resetOptions(this),this.setMode(t),s._signal("session",this)};(function(){function t(e){return e<4352?!1:e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510}r.implement(this,o),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e){this.$docRowCache=[],this.$screenRowCache=[];return}var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){var n=0,r=e.length-1;while(n<=r){var i=n+r>>1,s=e[i];if(t>s)n=i+1;else{if(!(t<s))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){var t=e.data;this.$modified=!0,this.$resetRowCache(t.range.start.row);var n=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&!t.ignore&&(this.$deltasDoc.push(t),n&&n.length!=0&&this.$deltasFold.push({action:"removeFolds",folds:n}),this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(t),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n=this.bgTokenizer.getTokens(e),r,i=0;if(t==null)s=n.length-1,i=this.getLine(e).length;else for(var s=0;s<n.length;s++){i+=n[s].value.length;if(i>=t)break}return r=n[s],r?(r.index=s,r.start=i-r.value.length,r):null},this.setUndoManager=function(e){this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel();if(e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){t===undefined&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,s={range:e,type:n||"line",renderer:typeof n=="function"?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=s,this._signal("changeFrontMarker")):(this.$backMarkers[i]=s,this._signal("changeBackMarker")),i},this.addDynamicMarker=function(e,t){if(!e.update)return;var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(!t)return;var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new h(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){typeof t!="number"&&(n=t,t=e),n||(n="ace_step");var i=new f(e,0,t,Infinity);return i.id=this.addMarker(i,n,"fullLine",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine="\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe));if(r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var i=/\s/;else var i=this.nonTokenRe;var s=t;if(s>0){do s--;while(s>=0&&n.charAt(s).match(i));s++}var o=t;while(o<n.length&&n.charAt(o).match(i))o++;return new f(e,s,e,o)},this.getAWordRange=function(e,t){var n=this.getWordRange(e,t),r=this.getLine(n.end.row);while(r.charAt(n.end.column).match(/[ \t]/))n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&typeof e=="object"){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new a);if(this.$modes[r]&&!n){this.$onChangeMode(this.$modes[r]),t&&t();return}this.$modeId=r,s.loadModule(["mode",r],function(e){if(this.$modeId!==r)return t&&t();if(this.$modes[r]&&!n)return this.$onChangeMode(this.$modes[r]);e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e),t&&t())}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){t||(this.$modeId=e.$id);if(this.$mode===e)return;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(n.addEventListener!==undefined){var r=this.onReloadTokenizer.bind(this);n.addEventListener("update",r)}if(!this.bgTokenizer){this.bgTokenizer=new c(n);var i=this;this.bgTokenizer.addEventListener("update",function(e){i._signal("tokenizerUpdate",e)})}else this.bgTokenizer.setTokenizer(n);this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))},this.$stopWorker=function(){this.$worker&&this.$worker.terminate(),this.$worker=null},this.$startWorker=function(){if(typeof Worker!="undefined"&&!e.noWorker)try{this.$worker=this.$mode.createWorker(this)}catch(t){console.log("Could not load worker"),console.log(t),this.$worker=null}else this.$worker=null},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){if(this.$scrollTop===e||isNaN(e))return;this.$scrollTop=e,this._signal("changeScrollTop",e)},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){if(this.$scrollLeft===e||isNaN(e))return;this.$scrollLeft=e,this._signal("changeScrollLeft",e)},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,s=this.$foldData[i],o=s?s.start.row:Infinity,u=t.length;for(var a=0;a<u;a++){if(a>o){a=s.end.row+1;if(a>=u)break;s=this.$foldData[i++],o=s?s.start.row:Infinity}n[a]==null&&(n[a]=this.$getStringScreenWidth(t[a])[0]),n[a]>r&&(r=n[a])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.undoChanges=function(e,t){if(!e.length)return;this.$fromUndo=!0;var n=null;for(var r=e.length-1;r!=-1;r--){var i=e[r];i.group=="doc"?(this.doc.revertDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!0,n)):i.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n},this.redoChanges=function(e,t){if(!e.length)return;this.$fromUndo=!0;var n=null;for(var r=0;r<e.length;r++){var i=e[r];i.group=="doc"&&(this.doc.applyDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function r(e){var n=e.action==="insertText"||e.action==="insertLines";return t?!n:n}var i=e[0],s,o,u=!1;r(i)?(s=f.fromPoints(i.range.start,i.range.end),u=!0):(s=f.fromPoints(i.range.start,i.range.start),u=!1);for(var a=1;a<e.length;a++)i=e[a],r(i)?(o=i.range.start,s.compare(o.row,o.column)==-1&&s.setStart(i.range.start),o=i.range.end,s.compare(o.row,o.column)==1&&s.setEnd(i.range.end),u=!0):(o=i.range.start,s.compare(o.row,o.column)==-1&&(s=f.fromPoints(i.range.start,i.range.start)),u=!1);if(n!=null){f.comparePoints(n.start,s.start)===0&&(n.start.column+=s.end.column-s.start.column,n.end.column+=s.end.column-s.start.column);var l=n.compareRange(s);l==1?s.setStart(n.start):l==-1&&s.setEnd(n.end)}return s},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),s=f.fromPoints(t,t);if(!n){this.remove(e);var o=e.start.row-e.end.row,u=o?-e.end.column:e.start.column-e.end.column;u&&(s.start.row==e.end.row&&s.start.column>e.end.column&&(s.start.column+=u),s.end.row==e.end.row&&s.end.column>e.end.column&&(s.end.column+=u)),o&&s.start.row>=e.end.row&&(s.start.row+=o,s.end.row+=o)}s.end=this.insert(s.start,r);if(i.length){var a=e.start,l=s.start,o=l.row-a.row,u=l.column-a.column;this.addFolds(i.map(function(e){return e=e.clone(),e.start.row==a.row&&(e.start.column+=u),e.end.row==a.row&&(e.end.column+=u),e.start.row+=o,e.end.row+=o,e}))}return s},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.insert({row:r,column:0},n)},this.outdentRows=function(e){var t=e.collapseRows(),n=new f(0,0,0,0),r=this.getTabSize();for(var i=t.start.row;i<=t.end.row;++i){var s=this.getLine(i);n.start.row=i,n.end.row=i;for(var o=0;o<r;++o)if(s.charAt(o)!=" ")break;o<r&&s.charAt(o)=="	"?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.$moveLines=function(e,t,n){e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t);if(n<0){var r=this.getRowFoldStart(e+n);if(r<0)return 0;var i=r-e}else if(n>0){var r=this.getRowFoldEnd(t+n);if(r>this.doc.getLength()-1)return 0;var i=r-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var i=t-e+1}var s=new f(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(s).map(function(e){return e=e.clone(),e.start.row+=i,e.end.row+=i,e}),u=n==0?this.doc.getLines(e,t):this.doc.removeLines(e,t);return this.doc.insertLines(e+i,u),o.length&&this.addFolds(o),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){t=Math.max(0,t);if(e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0);if(e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){if(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this._signal("changeWrapMode")},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1?(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n,r=e.data.action,i=e.data.range.start.row,s=e.data.range.end.row,o=e.data.range.start,u=e.data.range.end,a=null;r.indexOf("Lines")!=-1?(r=="insertLines"?s=i+e.data.lines.length:s=i,n=e.data.lines?e.data.lines.length:s-i):n=s-i,this.$updating=!0;if(n!=0)if(r.indexOf("remove")!=-1){this[t?"$wrapData":"$rowLengthCache"].splice(i,n);var f=this.$foldData;a=this.getFoldsInRange(e.data.range),this.removeFolds(a);var l=this.getFoldLine(u.row),c=0;if(l){l.addRemoveChars(u.row,u.column,o.column-u.column),l.shiftRow(-n);var h=this.getFoldLine(i);h&&h!==l&&(h.merge(l),l=h),c=f.indexOf(l)+1}for(c;c<f.length;c++){var l=f[c];l.start.row>=u.row&&l.shiftRow(-n)}s=i}else{var p=Array(n);p.unshift(i,0);var d=t?this.$wrapData:this.$rowLengthCache;d.splice.apply(d,p);var f=this.$foldData,l=this.getFoldLine(i),c=0;if(l){var v=l.range.compareInside(o.row,o.column);v==0?(l=l.split(o.row,o.column),l.shiftRow(n),l.addRemoveChars(s,0,u.column-o.column)):v==-1&&(l.addRemoveChars(i,0,u.column-o.column),l.shiftRow(n)),c=f.indexOf(l)+1}for(c;c<f.length;c++){var l=f[c];l.start.row>=i&&l.shiftRow(n)}}else{n=Math.abs(e.data.range.start.column-e.data.range.end.column),r.indexOf("remove")!=-1&&(a=this.getFoldsInRange(e.data.range),this.removeFolds(a),n=-n);var l=this.getFoldLine(i);l&&l.addRemoveChars(i,o.column,n)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(i,s):this.$updateRowLengthCache(i,s),a},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var n=this.doc.getAllLines(),r=this.getTabSize(),i=this.$wrapData,s=this.$wrapLimit,o,u,a=e;t=Math.min(t,n.length-1);while(a<=t)u=this.getFoldLine(a,u),u?(o=[],u.walk(function(e,t,r,i){var s;if(e!=null){s=this.$getDisplayTokens(e,o.length),s[0]=l;for(var u=1;u<s.length;u++)s[u]=p}else s=this.$getDisplayTokens(n[t].substring(i,r),o.length);o=o.concat(s)}.bind(this),u.end.row,n[u.end.row].length+1),i[u.start.row]=this.$computeWrapSplits(o,s,r),a=u.end.row+1):(o=this.$getDisplayTokens(n[a]),i[a]=this.$computeWrapSplits(o,s,r),a++)};var n=1,u=2,l=3,p=4,d=9,v=10,m=11,g=12;this.$computeWrapSplits=function(e,t){function n(t){var n=e.slice(s,t),i=n.length;n.join("").replace(/12/g,function(){i-=1}).replace(/2/g,function(){i-=1}),o+=i,r.push(o),s=t}if(e.length==0)return[];var r=[],i=e.length,s=0,o=0,u=this.$wrapAsCode;while(i-s>t){var a=s+t;if(e[a-1]>=v&&e[a]>=v){n(a);continue}if(e[a]==l||e[a]==p){for(a;a!=s-1;a--)if(e[a]==l)break;if(a>s){n(a);continue}a=s+t;for(a;a<e.length;a++)if(e[a]!=p)break;if(a==e.length)break;n(a);continue}var f=Math.max(a-(u?10:t-(t>>2)),s-1);while(a>f&&e[a]<l)a--;if(u){while(a>f&&e[a]<l)a--;while(a>f&&e[a]==d)a--}else while(a>f&&e[a]<v)a--;if(a>f){n(++a);continue}a=s+t,n(a)}return r},this.$getDisplayTokens=function(e,r){var i=[],s;r=r||0;for(var o=0;o<e.length;o++){var a=e.charCodeAt(o);if(a==9){s=this.getScreenTabSize(i.length+r),i.push(m);for(var f=1;f<s;f++)i.push(g)}else a==32?i.push(v):a>39&&a<48||a>57&&a<64?i.push(d):a>=4352&&t(a)?i.push(n,u):i.push(n)}return i},this.$getStringScreenWidth=function(e,n,r){if(n==0)return[0,0];n==null&&(n=Infinity),r=r||0;var i,s;for(s=0;s<e.length;s++){i=e.charCodeAt(s),i==9?r+=this.getScreenTabSize(r):i>=4352&&t(i)?r+=2:r+=1;if(r>n)break}return[r,s]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return!this.$useWrapMode||!this.$wrapData[e]?1+t:this.$wrapData[e].length+1+t},this.getRowLineCount=function(e){return!this.$useWrapMode||!this.$wrapData[e]?1:this.$wrapData[e].length+1},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:undefined},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(e<0)return{row:0,column:0};var n,r=0,i=0,s,o=0,u=0,a=this.$screenRowCache,f=this.$getRowCacheIndex(a,e),l=a.length;if(l&&f>=0)var o=a[f],r=this.$docRowCache[f],c=e>a[l-1];else var c=!l;var h=this.getLength()-1,p=this.getNextFoldLine(r),d=p?p.start.row:Infinity;while(o<=e){u=this.getRowLength(r);if(o+u>e||r>=h)break;o+=u,r++,r>d&&(r=p.end.row+1,p=this.getNextFoldLine(r,p),d=p?p.start.row:Infinity),c&&(this.$docRowCache.push(r),this.$screenRowCache.push(o))}if(p&&p.start.row<=r)n=this.getFoldDisplayLine(p),r=p.start.row;else{if(o+u<=e||r>h)return{row:h,column:this.getLine(h).length};n=this.getLine(r),p=null}if(this.$useWrapMode){var v=this.$wrapData[r];if(v){var m=Math.floor(e-o);s=v[m],m>0&&v.length&&(i=v[m-1]||v[v.length-1],n=n.substring(i))}}return i+=this.$getStringScreenWidth(n,t)[1],this.$useWrapMode&&i>=s&&(i=s-1),p?p.idxToPosition(i):{row:r,column:i}},this.documentToScreenPosition=function(e,t){if(typeof t=="undefined")var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r=0,i=null,s=null;s=this.getFoldAt(e,t,1),s&&(e=s.start.row,t=s.start.column);var o,u=0,a=this.$docRowCache,f=this.$getRowCacheIndex(a,e),l=a.length;if(l&&f>=0)var u=a[f],r=this.$screenRowCache[f],c=e>a[l-1];else var c=!l;var h=this.getNextFoldLine(u),p=h?h.start.row:Infinity;while(u<e){if(u>=p){o=h.end.row+1;if(o>e)break;h=this.getNextFoldLine(o,h),p=h?h.start.row:Infinity}else o=u+1;r+=this.getRowLength(u),u=o,c&&(this.$docRowCache.push(u),this.$screenRowCache.push(r))}var d="";h&&u>=p?(d=this.getFoldDisplayLine(h,e,t),i=h.start.row):(d=this.getLine(e).substring(0,t),i=e);if(this.$useWrapMode){var v=this.$wrapData[i];if(v){var m=0;while(d.length>=v[m])r++,m++;d=d.substring(v[m-1]||0,d.length)}}return{row:r,column:this.$getStringScreenWidth(d)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(!this.$useWrapMode){e=this.getLength();var n=this.$foldData;for(var r=0;r<n.length;r++)t=n[r],e-=t.end.row-t.start.row}else{var i=this.$wrapData.length,s=0,r=0,t=this.$foldData[r++],o=t?t.start.row:Infinity;while(s<i){var u=this.$wrapData[s];e+=u?u.length+1:1,s++,s>o&&(s=t.end.row+1,t=this.$foldData[r++],o=t?t.start.row:Infinity)}}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){}}).call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),s.defineOptions(p.prototype,"session",{wrap:{set:function(e){!e||e=="off"?e=!1:e=="free"?e=!0:e=="printMargin"?e=-1:typeof e=="string"&&(e=parseInt(e,10)||!1);if(this.$wrap==e)return;if(!e)this.setUseWrapMode(!1);else{var t=typeof e=="number"?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}this.$wrap=e},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e=e=="auto"?this.$mode.type!="text":e!="text",e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){if(isNaN(e)||this.$tabSize===e)return;this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize")},initialValue:4,handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=p}),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,n){var r=e("../lib/oop"),i=e("../keyboard/hash_handler").HashHandler,s=e("../lib/event_emitter").EventEmitter,o=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};r.inherits(o,i),function(){r.implement(this,s),this.exec=function(e,t,n){typeof e=="string"&&(e=this.commands[e]);if(!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var r={editor:t,command:e,args:n},i=this._emit("exec",r);return this._signal("afterExec",r),i===!1?!1:!0},this.toggleRecording=function(e){if(this.$inReplay)return;return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(this.$inReplay||!this.macro)return;if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t=="string"?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}},this.trimMacro=function(e){return e.map(function(e){return typeof e[0]!="string"&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(o.prototype),t.CommandManager=o}),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,n){var r=e("../lib/keys"),i=e("../lib/event"),s=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]==e)return;while(t[t.length-1]&&t[t.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)},this.addKeyboardHandler=function(e,t){if(!e)return;typeof e=="function"&&!e.handleKeyboard&&(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);n!=-1&&this.$handlers.splice(n,1),t==undefined?this.$handlers.push(e):this.$handlers.splice(t,0,e),n==-1&&e.attach&&e.attach(this.$editor)},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return t==-1?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.$callKeyboardHandlers=function(e,t,n,r){var s,o=!1,u=this.$editor.commands;for(var a=this.$handlers.length;a--;){s=this.$handlers[a].handleKeyboard(this.$data,e,t,n,r);if(!s||!s.command)continue;s.command=="null"?o=!0:o=u.exec(s.command,this.$editor,s.args,r),o&&r&&e!=-1&&s.passEvent!=1&&s.command.passEvent!=1&&i.stopEvent(r);if(o)break}return o},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){var t=this.$callKeyboardHandlers(-1,e);t||this.$editor.commands.exec("insertstring",this.$editor,e)}}).call(s.prototype),t.KeyBinding=s}),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){function r(e,t){this.platform=t||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={};if(this.__defineGetter__&&this.__defineSetter__&&typeof console!="undefined"&&console.error){var n=!1,r=function(){n||(n=!0,console.error("commmandKeyBinding has too many m's. use commandKeyBinding"))};this.__defineGetter__("commmandKeyBinding",function(){return r(),this.commandKeyBinding}),this.__defineSetter__("commmandKeyBinding",function(e){return r(),this.commandKeyBinding=e})}else this.commmandKeyBinding=this.commandKeyBinding;this.addCommands(e)}var i=e("../lib/keys"),s=e("../lib/useragent");(function(){this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e){var t=typeof e=="string"?e:e.name;e=this.commands[t],delete this.commands[t];var n=this.commandKeyBinding;for(var r in n)for(var i in n[r])n[r][i]==e&&delete n[r][i]},this.bindKey=function(e,t){if(!e)return;if(typeof t=="function"){this.addCommand({exec:t,bindKey:e,name:t.name||e});return}var n=this.commandKeyBinding;e.split("|").forEach(function(e){var r=this.parseKeys(e,t),i=r.hashId;(n[i]||(n[i]={}))[r.key]=t},this)},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(!n)return;if(typeof n=="string")return this.bindKey(n,t);typeof n=="function"&&(n={exec:n});if(typeof n!="object")return;n.name||(n.name=t),this.addCommand(n)},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){var t=e.bindKey;if(!t)return;var n=typeof t=="string"?t:t[this.platform];this.bindKey(n,e)},this.parseKeys=function(e){e.indexOf(" ")!=-1&&(e=e.split(/\s+/).pop());var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(t.length==1&&t[0]=="shift")return{key:n.toUpperCase(),hashId:-1}}var s=0;for(var o=t.length;o--;){var u=i.KEY_MODS[t[o]];if(u==null)return typeof console!="undefined"&&console.error("invalid modifier "+t[o]+" in "+e),!1;s|=u}return{key:n,hashId:s}},this.findKeyCommand=function(e,t){var n=this.commandKeyBinding;return n[e]&&n[e][t]},this.handleKeyboard=function(e,t,n,r){return{command:this.findKeyCommand(t,n)}}}).call(r.prototype),t.HashHandler=r}),define("ace/mouse/fold_handler",["require","exports","module"],function(e,t,n){function r(e){e.on("click",function(t){var n=t.getDocumentPosition(),r=e.session,i=r.getFoldAt(n.row,n.column,1);i&&(t.getAccelKey()?r.removeFold(i):r.expandFold(i),t.stop())}),e.on("gutterclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if(n=="foldWidgets"){var r=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[r]&&e.session.onFoldWidgetClick(r,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if(n=="foldWidgets"){var r=t.getDocumentPosition().row,i=e.session,s=i.getParentFoldRangeData(r,!0),o=s.range||s.firstRange;if(o){r=o.start.row;var u=i.getFoldAt(r,i.getLine(r).length,1);u?i.removeFold(u):(i.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}})}t.FoldHandler=r}),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,n){function r(e,t){return{win:e,mac:t}}var i=e("../lib/lang"),s=e("../config"),o=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:r("Ctrl-,","Command-,"),exec:function(e){s.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:r("Alt-E","Ctrl-E"),exec:function(e){s.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:r("Alt-Shift-E","Ctrl-Shift-E"),exec:function(e){s.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:r("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:r(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:r("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:r("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:r("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:r("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:r("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:r("Ctrl-Alt-0","Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:r("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:r("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:r("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:r("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:r("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:r("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:r("Ctrl-F","Command-F"),exec:function(e){s.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:r("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:r("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:r("Shift-Up","Shift-Up"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",readOnly:!0},{name:"golineup",bindKey:r("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selecttoend",bindKey:r("Ctrl-Shift-End","Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:r("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:r("Shift-Down","Shift-Down"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:r("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:r("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:r("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:r("Alt-Shift-Left","Command-Shift-Left"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:r("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:r("Shift-Left","Shift-Left"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:r("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:r("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:r("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:r("Alt-Shift-Right","Command-Shift-Right"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:r("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:r("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:r("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:r(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:r("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:r(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:r("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:r("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:r("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:r("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:r("Ctrl-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttomatching",bindKey:r("Ctrl-Shift-P",null),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"removeline",bindKey:r("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:r("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:r("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:r("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:r("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:r("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:r("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},multiSelectAction:"forEach"},{name:"replace",bindKey:r("Ctrl-H","Command-Option-F"),exec:function(e){s.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:r("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:r("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:r("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:r("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:r("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:r("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:r("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:r("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:r("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:r("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:r("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:r("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:r("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:r("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:r("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:r("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:r("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:r(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:r("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:r("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:r("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:r("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:r(null,null),exec:function(e){var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,u=e.session.doc.getTextRange(e.selection.getRange()),a=u.replace(/\n\s*/," ").length,f=e.session.doc.getLine(n.row);for(var l=n.row+1;l<=r.row+1;l++){var c=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(l)));c.length!==0&&(c=" "+c),f+=c}r.row+1<e.session.doc.getLength()-1&&(f+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,r.row+2,0),f),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:r(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var s=0;s<r.length;s++)s==r.length-1&&(r[s].end.row!==t||r[s].end.column!==n)&&i.push(new o(r[s].end.row,r[s].end.column,t,n)),s===0?(r[s].start.row!==0||r[s].start.column!==0)&&i.push(new o(0,0,r[s].start.row,r[s].start.column)):i.push(new o(r[s-1].end.row,r[s-1].end.column,r[s].start.row,r[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var s=0;s<i.length;s++)e.selection.addRange(i[s],!1)},readOnly:!0,scrollIntoView:"none"}]}),define("ace/lib/event_emitter",["require","exports","module"],function(e,t,n){var r={},i=function(){this.propagationStopped=!0},s=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(!n.length&&!r)return;if(typeof t!="object"||!t)t={};t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=s),n=n.slice();for(var o=0;o<n.length;o++){n[o](t,this);if(t.propagationStopped)break}if(r&&!t.defaultPrevented)return r(t,this)},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(!n)return;n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)},r.once=function(e,t){var n=this;t&&this.addEventListener(e,function r(){n.removeEventListener(e,r),t.apply(null,arguments)})},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;n||(n=this._defaultHandlers={_disabled_:{}});if(n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var s=i.indexOf(t);s!=-1&&i.splice(s,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(!n)return;var r=n._disabled_[e];if(n[e]==t){var i=n[e];r&&this.setDefaultHandler(e,r.pop())}else if(r){var s=r.indexOf(t);s!=-1&&r.splice(s,1)}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),r.indexOf(t)==-1&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(!n)return;var r=n.indexOf(t);r!==-1&&n.splice(r,1)},r.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=r}),define("ace/undomanager",["require","exports","module"],function(e,t,n){var r=function(){this.reset()};(function(){this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(t,e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return this.dirtyCounter===0}}).call(r.prototype),t.UndoManager=r}),define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,n){var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===4&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement("script");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){if(n||!i.readyState||i.readyState=="loaded"||i.readyState=="complete")i=i.onload=i.onreadystatechange=null,n||t()}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t,n){var r=e("./lib/oop"),i=e("./lib/dom"),s=e("./config"),o=e("./lib/useragent"),u=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,f=e("./layer/text").Text,l=e("./layer/cursor").Cursor,c=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,p=e("./renderloop").RenderLoop,d=e("./layer/font_metrics").FontMetrics,v=e("./lib/event_emitter").EventEmitter,m='.ace_editor {position: relative;overflow: hidden;font-family: \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;font-size: 12px;line-height: normal;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: text;min-width: 100%;}.ace_dragging, .ace_dragging * {cursor: move !important;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;}.ace_text-input.ace_composition {background: #f8f8f8;color: #111;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;/* setting pointer-events: auto; on node under the mouse, which changesduring scroll, will break mouse wheel scrolling in Safari */pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0px;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-moz-transition: opacity 0.18s;-webkit-transition: opacity 0.18s;-o-transition: opacity 0.18s;-ms-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;-moz-border-radius: 2px;-webkit-border-radius: 2px;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;display: block;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}/*** Dark version for fold widgets*/.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-moz-transition: opacity 0.4s ease 0.05s;-webkit-transition: opacity 0.4s ease 0.05s;-o-transition: opacity 0.4s ease 0.05s;-ms-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-moz-transition: opacity 0.05s ease 0.05s;-webkit-transition: opacity 0.05s ease 0.05s;-o-transition: opacity 0.05s ease 0.05s;-ms-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}';i.importCssString(m,"ace_editor");var g=function(e,t){var n=this;this.container=e||i.createElement("div"),this.$keepTextAreaAtCursor=!o.isOldIE,i.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new u(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var r=this.$textLayer=new f(this.content);this.canvas=r.element,this.$markerFront=new a(this.content),this.$cursorLayer=new l(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new d(this.container,500),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),s.resetOptions(this),s._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,v),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e;if(!e)return;this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode)},this.updateLines=function(e,t){t===undefined&&(t=Infinity),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t};if(this.$changedLines.firstRow>this.layerConfig.lastRow||this.$changedLines.lastRow<this.layerConfig.firstRow)return;this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(this.resizing>2)return;this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var s=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0)},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var i=0,s=this.$size,o={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};r&&(e||s.height!=r)&&(s.height=r,i|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",i|=this.CHANGE_SCROLL);if(n&&(e||s.width!=n)){i|=this.CHANGE_SIZE,s.width=n,t==null&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",s.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px";if(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)i|=this.CHANGE_FULL}return s.$dirty=!n||!r,i&&this._signal("resize",o),i},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-this.$padding*2,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(!this.$showPrintMargin&&!this.$printMarginEl)return;if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.content},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$keepTextAreaAtCursor)return;var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var r=this.lineHeight;if(t<0||t>e.height-r)return;var i=this.characterWidth;if(this.$composition){var s=this.textarea.value.replace(/^\x01+/,"");i*=this.session.$getStringScreenWidth(s)[0]+2,r+=2,t-=1}n-=this.scrollLeft,n>this.$size.scrollerWidth-i&&(n=this.$size.scrollerWidth-i),n-=this.scrollBar.width,this.textarea.style.height=r+"px",this.textarea.style.width=i+"px",this.textarea.style.right=Math.max(0,this.$size.scrollerWidth-n-i)+"px",this.textarea.style.bottom=Math.max(0,this.$size.height-t-r)+"px"},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var e=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=e|0,i.bottom=t|0,i.right=r|0,i.left=n|0,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){this.$changes&&(e|=this.$changes,this.$changes=0);if(!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t){this.$changes|=e;return}if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL)e|=this.$computeLayerConfig(),n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px";e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left");if(e&this.CHANGE_FULL){this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this._signal("afterRender");return}if(e&this.CHANGE_SCROLL){e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),this._signal("afterRender");return}e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender")},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.max((this.$minLines||1)*this.lineHeight,Math.min(t,e))+this.scrollMargin.v+(this.$extraHeight||0),r=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var i=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n}},this.$computeLayerConfig=function(){this.$maxLines&&this.lineHeight>1&&this.$autosize();var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength(),i=r*this.lineHeight,s=this.scrollTop%this.lineHeight,o=t.scrollerHeight+this.lineHeight,u=this.$getLongestLine(),a=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-u-2*this.$padding<0),f=this.$horizScroll!==a;f&&(this.$horizScroll=a,this.scrollBarH.setVisible(a)),!this.$maxLines&&this.$scrollPastEnd&&(i+=(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd);var l=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i<0),c=this.$vScroll!==l;c&&(this.$vScroll=l,this.scrollBarV.setVisible(l)),this.session.setScrollTop(Math.max(-this.scrollMargin.top,Math.min(this.scrollTop,i-t.scrollerHeight+this.scrollMargin.bottom))),this.session.setScrollLeft(Math.max(-this.scrollMargin.left,Math.min(this.scrollLeft,u+2*this.$padding-t.scrollerWidth+this.scrollMargin.right)));var h=Math.ceil(o/this.lineHeight)-1,p=Math.max(0,Math.round((this.scrollTop-s)/this.lineHeight)),d=p+h,v,m,g=this.lineHeight;p=e.screenToDocumentRow(p,0);var y=e.getFoldLine(p);y&&(p=y.start.row),v=e.documentToScreenRow(p,0),m=e.getRowLength(p)*g,d=Math.min(e.screenToDocumentRow(d,0),e.getLength()-1),o=t.scrollerHeight+e.getRowLength(d)*g+m,s=this.scrollTop-v*g;var b=0;this.layerConfig.width!=u&&(b=this.CHANGE_H_SCROLL);if(f||c)b=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),c&&(u=this.$getLongestLine());return this.layerConfig={width:u,padding:this.$padding,firstRow:p,firstRowScreen:v,lastRow:d,lineHeight:g,characterWidth:this.characterWidth,minHeight:o,maxHeight:i,offset:s,gutterOffset:Math.max(0,Math.ceil((s+t.height-t.scrollerHeight)/g)),height:this.$size.scrollerHeight},b},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(e>n.lastRow+1)return;if(t<n.firstRow)return;if(t===Infinity){this.$showGutter&&this.$gutterLayer.update(n),this.$textLayer.update(n);return}return this.$textLayer.updateLines(n,e,t),!0},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(this.$size.scrollerHeight===0)return;var r=this.$cursorLayer.getPixelPosition(e),i=r.left,s=r.top,o=n&&n.top||0,u=n&&n.bottom||0,a=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;a+o>s?(t&&(s-=t*this.$size.scrollerHeight),s===0&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):a+this.$size.scrollerHeight-u<s+this.lineHeight&&(t&&(s+=t*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight-this.$size.scrollerHeight));var f=this.scrollLeft;f>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):f+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):f<=this.$padding&&i-f<this.characterWidth&&this.session.setScrollLeft(0)},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){typeof e=="number"&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,r=this.STEPS,i=[],s=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<r;++n)i.push(s(n/this.STEPS,e,t-e));return i},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}),s=i.top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),n!==!1&&this.animateScrolling(o,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(!this.$animatedScroll)return;var r=this;if(e==n)return;if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length){e=i[0];if(e==n)return}}var s=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:s},clearInterval(this.$timer),r.session.setScrollTop(s.shift()),r.session.$scrollTop=n,this.$timer=setInterval(function(){s.length?(r.session.setScrollTop(s.shift()),r.session.$scrollTop=n):n!=null?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())},10)},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){if(t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top)return!0;if(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom)return!0;if(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left)return!0;if(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,i=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),s=Math.round(r);return{row:i,column:s,side:r-s>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),i=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(i,Math.max(r,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+Math.round(r.column*this.characterWidth),s=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+s-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){if(!this.$composition)return;i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null},this.setTheme=function(e,t){function n(n){if(r.$themeId!=e)return t&&t();if(!n.cssClass)return;i.importCssString(n.cssText,n.cssClass,r.container.ownerDocument),r.theme&&i.removeCssClass(r.container,r.theme.cssClass);var s="padding"in n?n.padding:"padding"in(r.theme||{})?4:r.$padding;r.$padding&&s!=r.$padding&&r.setPadding(s),r.$theme=n.cssClass,r.theme=n,i.addCssClass(r.container,n.cssClass),i.setCssClass(r.container,"ace_dark",n.isDark),r.$size&&(r.$size.width=0,r.$updateSizeAsync()),r._dispatchEvent("themeLoaded",{theme:n}),t&&t()}var r=this;this.$themeId=e,r._dispatchEvent("themeChange",{theme:e});if(!e||typeof e=="string"){var o=e||this.$options.theme.initialValue;s.loadModule(["theme",o],n)}else n(e)},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.content.style.cursor!=e&&(this.content.style.cursor=e)},this.setMouseCursor=function(e){this.content.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(g.prototype),s.defineOptions(g.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){typeof e=="number"&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){if(!this.$gutterLineHighlight){this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight);return}this.$gutterLineHighlight.style.display=e?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){typeof e=="number"&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},scrollPastEnd:{set:function(e){e=+e||0;if(this.$scrollPastEnd==e)return;this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=g}),define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/event_emitter"],function(e,t,n){"no use strict";function r(r){l.packaged=r||e.packaged||n.packaged||f.define&&define.packaged;if(!f.document)return"";var s={},o="",u=document.getElementsByTagName("script");for(var a=0;a<u.length;a++){var c=u[a],h=c.src||c.getAttribute("src");if(!h)continue;var p=c.attributes;for(var d=0,v=p.length;d<v;d++){var m=p[d];m.name.indexOf("data-ace-")===0&&(s[i(m.name.replace(/^data-ace-/,""))]=m.value)}var g=h.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);g&&(o=g[1])}o&&(s.base=s.base||o,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base;for(var y in s)typeof s[y]!="undefined"&&t.set(y,s[y])}function i(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var s=e("./lib/lang"),o=e("./lib/oop"),u=e("./lib/net"),a=e("./lib/event_emitter").EventEmitter,f=function(){return this}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return l[e]},t.set=function(e,t){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);l[e]=t},t.all=function(){return s.copyObject(l)},o.implement(t,a),t.moduleUrl=function(e,t){if(l.$moduleUrls[e])return l.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var r=t=="snippets"?"/":"-",i=n[n.length-1];if(r=="-"){var s=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(s,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var o=l[t+"Path"];return o==null?o=l.basePath:r=="/"&&(t=r=""),o&&o.slice(-1)!="/"&&(o+="/"),o+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return l.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var i,s;Array.isArray(n)&&(s=n[0],n=n[1]);try{i=e(n)}catch(o){}if(i&&!t.$loading[n])return r&&r(i);t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r);if(t.$loading[n].length>1)return;var a=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach(function(t){t&&t(e)})})};if(!t.get("packaged"))return a();u.loadScript(t.moduleUrl(n,s),a)},r(!0),t.init=r;var c={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]===t)return;var n=this.$options[e];if(!n)return typeof console!="undefined"&&console.warn&&console.warn('misspelled option "'+e+'"'),undefined;if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:(typeof console!="undefined"&&console.warn&&console.warn('misspelled option "'+e+'"'),undefined)}},h={};t.defineOptions=function(e,t,n){return e.$options||(h[t]=e.$options={}),Object.keys(n).forEach(function(t){var r=n[t];typeof r=="string"&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)}),o.implement(e,c),this},t.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},t.setDefaultValue=function(e,n,r){var i=h[e]||(h[e]={});i[n]&&(i.forwardTo?t.setDefaultValue(i.forwardTo,n,r):i[n].value=r)},t.setDefaultValues=function(e,n){Object.keys(n).forEach(function(r){t.setDefaultValue(e,r,n[r])})}}),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t,n){var r=e("../lib/dom"),i=e("../lib/oop"),s=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,u=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,o),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[]});var o=n.text;o=o?s.escapeHTML(o):n.html||"",i.text.indexOf(o)===-1&&i.text.push(o);var u=n.type;u=="error"?i.className=" ace_error":u=="warning"&&i.className!=" ace_error"?i.className=" ace_warning":u=="info"&&!i.className&&(i.className=" ace_info")}},this.$updateAnnotations=function(e){if(!this.$annotations.length)return;var t=e.data,n=t.range,r=n.start.row,i=n.end.row-r;if(i!==0)if(t.action=="removeText"||t.action=="removeLines")this.$annotations.splice(r,i+1,null);else{var s=new Array(i+1);s.unshift(r,1),this.$annotations.splice.apply(this.$annotations,s)}},this.update=function(e){var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),s=t.getNextFoldLine(n),o=s?s.start.row:Infinity,u=this.$showFoldWidgets&&t.foldWidgets,a=t.$breakpoints,f=t.$decorations,l=t.$firstLineNumber,c=0,h=t.gutterRenderer||this.$renderer,p=null,d=-1,v=n;for(;;){v>o&&(v=s.end.row+1,s=t.getNextFoldLine(v,s),o=s?s.start.row:Infinity);if(v>i){while(this.$cells.length>d+1)p=this.$cells.pop(),this.element.removeChild(p.element);break}p=this.$cells[++d],p||(p={element:null,textNode:null,foldWidget:null},p.element=r.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[d]=p);var m="ace_gutter-cell ";a[v]&&(m+=a[v]),f[v]&&(m+=f[v]),this.$annotations[v]&&(m+=this.$annotations[v].className),p.element.className!=m&&(p.element.className=m);var g=t.getRowLength(v)*e.lineHeight+"px";g!=p.element.style.height&&(p.element.style.height=g);if(u){var y=u[v];y==null&&(y=u[v]=t.getFoldWidget(v))}if(y){p.foldWidget||(p.foldWidget=r.createElement("span"),p.element.appendChild(p.foldWidget));var m="ace_fold-widget ace_"+y;y=="start"&&v==o&&v<s.end.row?m+=" ace_closed":m+=" ace_open",p.foldWidget.className!=m&&(p.foldWidget.className=m);var g=e.lineHeight+"px";p.foldWidget.style.height!=g&&(p.foldWidget.style.height=g)}else p.foldWidget&&(p.element.removeChild(p.foldWidget),p.foldWidget=null);var b=c=h?h.getText(t,v):v+l;b!=p.textNode.data&&(p.textNode.data=b),v++}this.element.style.height=e.minHeight+"px";if(this.$fixedWidth||t.$useWrapMode)c=t.getLength()+l;var w=h?h.getWidth(t,c,e):c.toString().length*e.characterWidth,E=this.$padding||this.$computePadding();w+=E.left+E.right,w!==this.gutterWidth&&!isNaN(w)&&(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();if(e.x<t.left+n.left)return"markers";if(this.$showFoldWidgets&&e.x>n.right-t.right)return"foldWidgets"}}).call(u.prototype),t.Gutter=u}),define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){function r(e){function t(e,t){var n=Date.now(),r=!t||e.row!=t.row,s=!t||e.column!=t.column;if(!O||r||s)m.$blockScrolling+=1,m.moveCursorToPosition(e),m.$blockScrolling-=1,O=n,M={x:E,y:S};else{var o=i(M.x,M.y,E,S);o>l?O=null:n-O>=f&&(m.renderer.scrollCursorIntoView(),O=null)}}function n(e,t){var n=Date.now(),r=m.renderer.layerConfig.lineHeight,i=m.renderer.layerConfig.characterWidth,s=m.renderer.scroller.getBoundingClientRect(),o={x:{left:E-s.left,right:s.right-E},y:{top:S-s.top,bottom:s.bottom-S}},u=Math.min(o.x.left,o.x.right),f=Math.min(o.y.top,o.y.bottom),l={row:e.row,column:e.column};u/i<=2&&(l.column+=o.x.left<o.x.right?-3:2),f/r<=1&&(l.row+=o.y.top<o.y.bottom?-1:1);var c=e.row!=l.row,h=e.column!=l.column,p=!t||e.row!=t.row;c||h&&!p?A?n-A>=a&&m.renderer.scrollCursorIntoView(l):A=n:A=null}function r(){var e=N;N=m.renderer.screenToTextCoordinates(E,S),t(N,e),n(N,e)}function c(){T=m.selection.toOrientedRange(),w=m.session.addMarker(T,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(x),x=setInterval(r,20),C=0,o.addListener(document,"mousemove",p)}function h(){clearInterval(x),m.session.removeMarker(w),w=null,m.$blockScrolling+=1,m.selection.fromOrientedRange(T),m.$blockScrolling-=1,m.isFocused()&&!L&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),T=null,C=0,A=null,O=null,o.removeListener(document,"mousemove",p)}function p(){_==null&&(_=setTimeout(function(){_!=null&&w&&h()},20))}function d(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return e=="text/plain"||e=="Text"})}function v(e){var t=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],r=u.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var s="none";return r&&t.indexOf(i)>=0?s="copy":n.indexOf(i)>=0?s="move":t.indexOf(i)>=0&&(s="copy"),s}var m=e.editor,g=s.createElement("img");g.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",u.isOpera&&(g.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(t){e[t]=this[t]},this),m.addEventListener("mousedown",this.onMouseDown.bind(e));var b=m.container,w,E,S,x,T,N,C=0,k,L,A,O,M;this.onDragStart=function(e){if(this.cancelDrag||!b.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}T=m.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=m.getReadOnly()?"copy":"copyMove",u.isOpera&&(m.container.appendChild(g),g._top=g.offsetTop),n.setDragImage&&n.setDragImage(g,0,0),u.isOpera&&m.container.removeChild(g),n.clearData(),n.setData("Text",m.session.getTextRange()),L=!0,this.setState("drag")},this.onDragEnd=function(e){b.draggable=!1,L=!1,this.setState(null);if(!m.getReadOnly()){var t=e.dataTransfer.dropEffect;!k&&t=="move"&&m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging")},this.onDragEnter=function(e){if(m.getReadOnly()||!d(e.dataTransfer))return;return w||c(),C++,e.dataTransfer.dropEffect=k=v(e),o.preventDefault(e)},this.onDragOver=function(e){if(m.getReadOnly()||!d(e.dataTransfer))return;return w||(c(),C++),_!==null&&(_=null),E=e.clientX,S=e.clientY,e.dataTransfer.dropEffect=k=v(e),o.preventDefault(e)},this.onDragLeave=function(e){C--;if(C<=0&&w)return h(),k=null,o.preventDefault(e)},this.onDrop=function(e){if(!w)return;var t=e.dataTransfer;if(L)switch(k){case"move":T.contains(N.row,N.column)?T={start:N,end:N}:T=m.moveText(T,N);break;case"copy":T=m.moveText(T,N,!0)}else{var n=t.getData("Text");T={start:N,end:m.session.insert(N,n)},m.focus(),k=null}return h(),o.preventDefault(e)},o.addListener(b,"dragstart",this.onDragStart.bind(e)),o.addListener(b,"dragend",this.onDragEnd.bind(e)),o.addListener(b,"dragenter",this.onDragEnter.bind(e)),o.addListener(b,"dragover",this.onDragOver.bind(e)),o.addListener(b,"dragleave",this.onDragLeave.bind(e)),o.addListener(b,"drop",this.onDrop.bind(e));var _=null}function i(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var s=e("../lib/dom"),o=e("../lib/event"),u=e("../lib/useragent"),a=200,f=200,l=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor.container;e.draggable=!0,this.editor.renderer.$cursorLayer.setBlinking(!1),this.editor.setStyle("ace_dragging"),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;if(u.isIE&&this.state=="dragReady"){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&t.dragDrop()}if(this.state==="dragWait"){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(!this.$dragEnabled)return;this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton(),i=e.domEvent.detail||1;if(i===1&&r===0&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var s=e.domEvent.target||e.domEvent.srcElement;"unselectable"in s&&(s.unselectable="on");if(t.getDragDelay()){if(u.isWebKit){this.cancelDrag=!0;var o=t.container;o.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}).call(r.prototype),t.DragdropHandler=r}),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,n){var r=e("../range").Range,i=e("../lib/dom"),s=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(!e)return;this.config=e;var t=[];for(var n in this.markers){var r=this.markers[n];if(!r.range){r.update(t,this,this.session,e);continue}var s=r.range.clipRows(e.firstRow,e.lastRow);if(s.isEmpty())continue;s=s.toScreenRange(this.session);if(r.renderer){var o=this.$getTop(s.start.row,e),u=this.$padding+s.start.column*e.characterWidth;r.renderer(t,s,u,o,e)}else r.type=="fullLine"?this.drawFullLineMarker(t,s,r.clazz,e):r.type=="screenLine"?this.drawScreenLineMarker(t,s,r.clazz,e):s.isMultiLine()?r.type=="text"?this.drawTextMarker(t,s,r.clazz,e):this.drawMultiLineMarker(t,s,r.clazz,e):this.drawSingleLineMarker(t,s,r.clazz+" ace_start",e)}this.element=i.setInnerHtml(this.element,t.join(""))},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,i,s){var o=t.start.row,u=new r(o,t.start.column,o,this.session.getScreenLastRowColumn(o));this.drawSingleLineMarker(e,u,n+" ace_start",i,1,s),o=t.end.row,u=new r(o,0,o,t.end.column),this.drawSingleLineMarker(e,u,n,i,0,s);for(o=t.start.row+1;o<t.end.row;o++)u.start.row=o,u.end.row=o,u.end.column=this.session.getScreenLastRowColumn(o),this.drawSingleLineMarker(e,u,n,i,1,s)},this.drawMultiLineMarker=function(e,t,n,r,i){var s=this.$padding,o=r.lineHeight,u=this.$getTop(t.start.row,r),a=s+t.start.column*r.characterWidth;i=i||"",e.push("<div class='",n," ace_start' style='","height:",o,"px;","right:0;","top:",u,"px;","left:",a,"px;",i,"'></div>"),u=this.$getTop(t.end.row,r);var f=t.end.column*r.characterWidth;e.push("<div class='",n,"' style='","height:",o,"px;","width:",f,"px;","top:",u,"px;","left:",s,"px;",i,"'></div>"),o=(t.end.row-t.start.row-1)*r.lineHeight;if(o<0)return;u=this.$getTop(t.start.row+1,r),e.push("<div class='",n,"' style='","height:",o,"px;","right:0;","top:",u,"px;","left:",s,"px;",i,"'></div>")},this.drawSingleLineMarker=function(e,t,n,r,i,s){var o=r.lineHeight,u=(t.end.column+(i||0)-t.start.column)*r.characterWidth,a=this.$getTop(t.start.row,r),f=this.$padding+t.start.column*r.characterWidth;e.push("<div class='",n,"' style='","height:",o,"px;","width:",u,"px;","top:",a,"px;","left:",f,"px;",s||"","'></div>")},this.drawFullLineMarker=function(e,t,n,r,i){var s=this.$getTop(t.start.row,r),o=r.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,r)-s),e.push("<div class='",n,"' style='","height:",o,"px;","top:",s,"px;","left:0;right:0;",i||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,r,i){var s=this.$getTop(t.start.row,r),o=r.lineHeight;e.push("<div class='",n,"' style='","height:",o,"px;","top:",s,"px;","left:0;right:0;",i||"","'></div>")}}).call(s.prototype),t.Marker=s}),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent"),s=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(s.prototype)}),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),s=e("../lib/lang"),o=e("../lib/useragent"),u=e("../lib/event_emitter").EventEmitter,a=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){r.implement(this,u),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="→",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var e=this.session.doc.getNewLineCharacter()=="\n"?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;var t=this.$tabStrings=[0];for(var n=1;n<e+1;n++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+this.TAB_CHAR+s.stringRepeat(" ",n-1)+"</span>"):t.push(s.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r="ace_indent-guide",i="",o="";if(this.showInvisibles){r+=" ace_invisible",i=" ace_invisible_space",o=" ace_invisible_tab";var u=s.stringRepeat(this.SPACE_CHAR,this.tabSize),a=this.TAB_CHAR+s.stringRepeat(" ",this.tabSize-1)}else var u=s.stringRepeat(" ",this.tabSize),a=u;this.$tabStrings[" "]="<span class='"+r+i+"'>"+u+"</span>",this.$tabStrings["	"]="<span class='"+r+o+"'>"+a+"</span>"}},this.updateLines=function(e,t,n){(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)&&this.scrollLines(e),this.config=e;var r=Math.max(t,e.firstRow),s=Math.min(n,e.lastRow),o=this.element.childNodes,u=0;for(var a=e.firstRow;a<r;a++){var f=this.session.getFoldLine(a);if(f){if(f.containsRow(r)){r=f.start.row;break}a=f.end.row}u++}var a=r,f=this.session.getNextFoldLine(a),l=f?f.start.row:Infinity;for(;;){a>l&&(a=f.end.row+1,f=this.session.getNextFoldLine(a,f),l=f?f.start.row:Infinity);if(a>s)break;var c=o[u++];if(c){var h=[];this.$renderLine(h,a,!this.$useLineGroups(),a==l?f:!1),c.style.height=e.lineHeight*this.session.getRowLength(a)+"px",i.setInnerHtml(c,h.join(""))}a++}},this.scrollLines=function(e){var t=this.config;this.config=e;if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var i=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}if(e.lastRow>t.lastRow){var i=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(i)}},this.$renderLinesFragment=function(e,t,n){var r=this.element.ownerDocument.createDocumentFragment(),s=t,o=this.session.getNextFoldLine(s),u=o?o.start.row:Infinity;for(;;){s>u&&(s=o.end.row+1,o=this.session.getNextFoldLine(s,o),u=o?o.start.row:Infinity);if(s>n)break;var a=i.createElement("div"),f=[];this.$renderLine(f,s,!1,s==u?o:!1),a.innerHTML=f.join("");if(this.$useLineGroups())a.className="ace_line_group",r.appendChild(a),a.style.height=e.lineHeight*this.session.getRowLength(s)+"px";else while(a.firstChild)r.appendChild(a.firstChild);s++}return r},this.update=function(e){this.config=e;var t=[],n=e.firstRow,r=e.lastRow,s=n,o=this.session.getNextFoldLine(s),u=o?o.start.row:Infinity;for(;;){s>u&&(s=o.end.row+1,o=this.session.getNextFoldLine(s,o),u=o?o.start.row:Infinity);if(s>r)break;this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(s),"px'>"),this.$renderLine(t,s,!1,s==u?o:!1),this.$useLineGroups()&&t.push("</div>"),s++}this.element=i.setInnerHtml(this.element,t.join(""))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){var i=this,o=/\t|&|<|( +)|([\x00-\x1f\x80-\xa0\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,u=function(e,n,r,o,u){if(n)return i.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+s.stringRepeat(i.SPACE_CHAR,e.length)+"</span>":s.stringRepeat(" ",e.length);if(e=="&")return"&#38;";if(e=="<")return"&#60;";if(e=="	"){var a=i.session.getScreenTabSize(t+o);return t+=a-1,i.$tabStrings[a]}if(e=="　"){var f=i.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",l=i.showInvisibles?i.SPACE_CHAR:"";return t+=1,"<span class='"+f+"' style='width:"+i.config.characterWidth*2+"px'>"+l+"</span>"}return r?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+i.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+i.config.characterWidth*2+"px'>"+e+"</span>")},a=r.replace(o,u);if(!this.$textToken[n.type]){var f="ace_"+n.type.replace(/\./g," ace_"),l="";n.type=="fold"&&(l=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",f,"'",l,">",a,"</span>")}else e.push(a);return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);return r<=0||r>=n?t:t[0]==" "?(r-=r%this.tabSize,e.push(s.stringRepeat(this.$tabStrings[" "],r/this.tabSize)),t.substr(r)):t[0]=="	"?(e.push(s.stringRepeat(this.$tabStrings["	"],r)),t.substr(r)):t},this.$renderWrappedLine=function(e,t,n,r){var i=0,s=0,o=n[0],u=0;for(var a=0;a<t.length;a++){var f=t[a],l=f.value;if(a==0&&this.displayIndentGuides){i=l.length,l=this.renderIndentGuide(e,l,o);if(!l)continue;i-=l.length}if(i+l.length<o)u=this.$renderToken(e,u,f,l),i+=l.length;else{while(i+l.length>=o)u=this.$renderToken(e,u,f,l.substring(0,o-i)),l=l.substring(o-i),i=o,r||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),s++,u=0,o=n[s]||Number.MAX_VALUE;l.length!=0&&(i+=l.length,u=this.$renderToken(e,u,f,l))}}},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var s=1;s<t.length;s++)r=t[s],i=r.value,n=this.$renderToken(e,n,r,i)},this.$renderLine=function(e,t,n,r){!r&&r!=0&&(r=this.session.getFoldLine(t));if(r)var i=this.$getFoldLineTokens(t,r);else var i=this.session.getTokens(t);n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>");if(i.length){var s=this.session.getRowSplitData(t);s&&s.length?this.$renderWrappedLine(e,i,s,n):this.$renderSimpleLine(e,i)}this.showInvisibles&&(r&&(t=r.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function n(e,t,n){var r=0,s=0;while(s+e[r].value.length<t){s+=e[r].value.length,r++;if(r==e.length)return}if(s!=t){var o=e[r].value.substring(t-s);o.length>n-t&&(o=o.substring(0,n-t)),i.push({type:e[r].type,value:o}),s=t+o.length,r+=1}while(s<n&&r<e.length){var o=e[r].value;o.length+s>n?i.push({type:e[r].type,value:o.substring(0,n-s)}):i.push(e[r]),s+=o.length,r+=1}}var r=this.session,i=[],s=r.getTokens(e);return t.walk(function(e,t,o,u,a){e!=null?i.push({type:"fold",value:e}):(a&&(s=r.getTokens(t)),s.length&&n(s,u,o))},t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a}),define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,n){function r(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var i=e("./lib/oop"),s=e("./lib/dom");(function(){this.$init=function(){return this.$element=s.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){s.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){s.addCssClass(this.getElement(),e)},this.show=function(e,t,n){e!=null&&this.setText(e),t!=null&&n!=null&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(r.prototype),t.Tooltip=r}),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,n){var r=e("../lib/dom"),i,s=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),i===undefined&&(i="opacity"in this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateVisibility.bind(this)};(function(){this.$updateVisibility=function(e){var t=this.cursors;for(var n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){var t=this.cursors;for(var n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&!i&&(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=(e?this.$updateOpacity:this.$updateVisibility).bind(this),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),e(!0);if(!this.isBlinking||!this.blinkInterval||!this.isVisible)return;this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),r=this.$padding+n.column*this.config.characterWidth,i=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;if(t===undefined||t.length===0)t=[{cursor:null}];for(var n=0,i=t.length;n<i;n++){var s=this.getPixelPosition(t[n].cursor,!0);if((s.top>e.height+e.offset||s.top<0)&&n>1)continue;var o=(this.cursors[r++]||this.addCursor()).style;o.left=s.left+"px",o.top=s.top+"px",o.width=e.characterWidth+"px",o.height=e.lineHeight+"px"}while(this.cursors.length>r)this.removeCursor();var u=this.session.getOverwrite();this.$setOverwrite(u),this.$pixelPos=s,this.restartTimer()},this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(s.prototype),t.Cursor=s}),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,n){function r(e){function t(){var t=c.getDocumentPosition().row,i=a.$annotations[t];if(!i)return n();var s=o.session.getLength();if(t==s){var u=o.renderer.pixelToScreenCoordinates(0,c.y).row,l=c.$pos;if(u>o.session.documentToScreenRow(l.row,l.column))return n()}if(h==i)return;h=i.text.join("<br/>"),f.setHtml(h),f.show(),o.on("mousewheel",n);if(e.$tooltipFollowsMouse)r(c);else{var p=a.$cells[o.session.documentToScreenRow(t,0)].element,d=p.getBoundingClientRect(),v=f.getElement().style;v.left=d.right+"px",v.top=d.bottom+"px"}}function n(){l&&(l=clearTimeout(l)),h&&(f.hide(),h=null,o.removeEventListener("mousewheel",n))}function r(e){f.setPosition(e.x,e.y)}var o=e.editor,a=o.renderer.$gutterLayer,f=new i(o.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(!o.isFocused()||t.getButton()!=0)return;var n=a.getRegion(t);if(n=="foldWidgets")return;var r=t.getDocumentPosition().row,i=o.session.selection;if(t.getShiftKey())i.selectTo(r,0);else{if(t.domEvent.detail==2)return o.selectAll(),t.preventDefault();e.$clickSelection=o.selection.getLineRange(r)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()});var l,c,h;e.editor.setDefaultHandler("guttermousemove",function(i){var o=i.domEvent.target||i.domEvent.srcElement;if(s.hasCssClass(o,"ace_fold-widget"))return n();h&&e.$tooltipFollowsMouse&&r(i),c=i;if(l)return;l=setTimeout(function(){l=null,c&&!e.isMousePressed?t():n()},50)}),u.addListener(o.renderer.$gutter,"mouseout",function(e){c=null;if(!h||l)return;l=setTimeout(function(){l=null,n()},50)}),o.on("changeSession",n)}function i(e){a.call(this,e)}var s=e("../lib/dom"),o=e("../lib/oop"),u=e("../lib/event"),a=e("../tooltip").Tooltip;o.inherits(i,a),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),s=this.getHeight();e+=15,t+=15,e+i>n&&(e-=e+i-n),t+s>r&&(t-=20+s),a.prototype.setPosition.call(this,e,t)}}.call(i.prototype),t.GutterHandler=r}),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,n){var r=e("./lib/oop"),i=e("./lib/dom"),s=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,u=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)};(function(){r.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e}}).call(u.prototype);var a=function(e,t){u.call(this,e),this.scrollTop=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};r.inherits(a,u),function(){this.classSuffix="-v",this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=function(e){this.inner.style.height=e+"px"},this.setScrollHeight=function(e){this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=e)}}.call(a.prototype);var f=function(e,t){u.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(f,u),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(f.prototype),t.ScrollBar=a,t.ScrollBarV=a,t.ScrollBarH=f,t.VScrollBar=a,t.HScrollBar=f}),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){function r(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function i(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function s(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row==e.end.row-1&&!e.start.column&&!e.end.column)var n=t.column-4;else var n=2*t.row-e.start.row-e.end.row;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var o=e("../lib/dom"),u=e("../lib/event"),a=e("../lib/useragent"),f=0;(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,i=e.getButton();if(i!==0){var s=r.getSelectionRange(),o=s.isEmpty();o&&r.selection.moveToPosition(n),r.textInput.onContextMenu(e.domEvent);return}if(t&&!r.isFocused()){r.focus();if(this.$focusTimout&&!this.$clickSelection&&!r.inMultiSelectMode){this.mousedownEvent.time=Date.now(),this.setState("focusWait"),this.captureMouse(e);return}}return this.captureMouse(e),!t||this.$clickSelection||e.getShiftKey()||r.inMultiSelectMode?this.startSelect(n):t&&(this.mousedownEvent.time=Date.now(),this.startSelect(n)),e.preventDefault()},this.startSelect=function(e){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var t=this.editor,n=this.mousedownEvent.getShiftKey();n?t.selection.selectToPosition(e):this.$clickSelection||t.selection.moveToPosition(e),t.renderer.scroller.setCapture&&t.renderer.scroller.setCapture(),t.setStyle("ace_selecting"),this.setState("select")},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(r==-1)e=this.$clickSelection.end;else if(r==1)e=this.$clickSelection.start;else{var i=s(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(i.start),u=this.$clickSelection.comparePoint(i.end);if(o==-1&&u<=0){t=this.$clickSelection.end;if(i.end.row!=r.row||i.end.column!=r.column)r=i.start}else if(u==1&&o>=0){t=this.$clickSelection.start;if(i.start.row!=r.row||i.start.column!=r.column)r=i.end}else if(o==-1&&u==1)r=i.end,t=i.start;else{var a=s(this.$clickSelection,r);r=a.cursor,t=a.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>f||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session,i=r.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this[this.state]&&this[this.state](e)},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines"),this.$clickSelection=n.selection.getLineRange(t.row),this[this.state]&&this[this.state](e)},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(e.getAccelKey())return;e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor,i=r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);if(i||n<200)return this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}).call(r.prototype),t.DefaultHandlers=r}),define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,n){var r=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){this.changes=this.changes|e;if(!this.pending&&this.changes){this.pending=!0;var t=this;r.nextFrame(function(){t.pending=!1;var e;while(e=t.changes)t.changes=0,t.onRender(e)},this.window)}}}).call(i.prototype),t.RenderLoop=i}),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent"),s=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,u=e("./mouse_event").MouseEvent,a=e("./dragdrop_handler").DragdropHandler,f=e("../config"),l=function(e){this.editor=e,new s(this),new o(this),new a(this);var t=function(t){e.focus()},n=e.renderer.getMouseEventTarget();r.addListener(n,"click",this.onMouseEvent.bind(this,"click")),r.addListener(n,"mousemove",this.onMouseMove.bind(this,"mousemove")),r.addMultiMouseDownListener(n,[400,300,250],this,"onMouseEvent"),e.renderer.scrollBarV&&(r.addMultiMouseDownListener(e.renderer.scrollBarV.inner,[400,300,250],this,"onMouseEvent"),r.addMultiMouseDownListener(e.renderer.scrollBarH.inner,[400,300,250],this,"onMouseEvent"),i.isIE&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",t),r.addListener(e.renderer.scrollBarH.element,"mousemove",t))),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"));var u=e.renderer.$gutter;r.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),r.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick")),r.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),r.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),r.addListener(n,"mousedown",t),r.addListener(u,"mousedown",function(t){return e.focus(),r.preventDefault(t)})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new u(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;if(!n||!n.length)return;this.editor._emit(e,new u(t,this.editor))},this.onMouseWheel=function(e,t){var n=new u(t,this.editor);n.speed=this.$scrollSpeed*2,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var s=this,o=function(e){if(!e)return;if(i.isWebKit&&!e.which&&s.releaseMouse)return s.releaseMouse();s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new u(e,s.editor),s.$mouseMoved=!0},a=function(e){clearInterval(l),f(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",n.$keepTextAreaAtCursor==null&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),s.isMousePressed=!1,s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e)},f=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(i.isOldIE&&e.domEvent.type=="dblclick")return setTimeout(function(){a(e)});s.$onCaptureMouseMove=o,s.releaseMouse=r.capture(this.editor.container,o,a);var l=setInterval(f,20)},this.releaseMouse=null}).call(l.prototype),f.defineOptions(l.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:150},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=l}),define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),s=e("../lib/lang"),o=e("../lib/useragent"),u=e("../lib/event_emitter").EventEmitter,a=0,f=t.FontMetrics=function(e,t){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),a||this.$testFractionalRect(),this.$measureNode.innerHTML=s.stringRepeat("X",a),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){r.implement(this,u),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=i.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;t>0&&t<1?a=1:a=100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="-100px",e.visibility="hidden",e.position="fixed",e.whiteSpace="pre",o.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&this.$pollSizeChangesTimer},this.$measureSizes=function(){if(a===1)var e=this.$measureNode.getBoundingClientRect(),t={height:e.height,width:e.width};else var t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/a};return t.width===0||t.height===0?null:t},this.$measureCharWidth=function(e){this.$main.innerHTML=s.stringRepeat(e,a);var t=this.$main.getBoundingClientRect();return t.width/a},this.getCharacterWidth=function(e){var t=this.charSizes[e];return t===undefined&&(this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(f.prototype)}),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent"),s=e("../lib/dom"),o=e("../lib/lang"),u=i.isChrome<18,a=i.isIE,f=function(e,t){function n(e){if(v)return;if(L)t=0,n=e?0:c.value.length-1;else var t=e?2:1,n=2;try{c.setSelectionRange(t,n)}catch(r){}}function f(){if(v)return;c.value=h,i.isWebKit&&E.schedule()}function l(){setTimeout(function(){m&&(c.style.cssText=m,m=""),t.renderer.$keepTextAreaAtCursor==null&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},0)}var c=s.createElement("textarea");c.className="ace_text-input",i.isTouchPad&&c.setAttribute("x-palm-disable-auto-cap",!0),c.wrap="off",c.autocorrect="off",c.autocapitalize="off",c.spellcheck=!1,c.style.opacity="0",e.insertBefore(c,e.firstChild);var h="",p=!1,d=!1,v=!1,m="",g=!0;try{var y=document.activeElement===c}catch(b){}r.addListener(c,"blur",function(){t.onBlur(),y=!1}),r.addListener(c,"focus",function(){y=!0,t.onFocus(),n()}),this.focus=function(){c.focus()},this.blur=function(){c.blur()},this.isFocused=function(){return y};var w=o.delayedCall(function(){y&&n(g)}),E=o.delayedCall(function(){v||(c.value=h,y&&n())});i.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=g&&(g=!g,w.schedule())}),f(),y&&t.onFocus();var S=function(e){return e.selectionStart===0&&e.selectionEnd===e.value.length};!c.setSelectionRange&&c.createTextRange&&(c.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},S=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!t||t.parentElement()!=e?!1:t.text==e.value});if(i.isOldIE){var x=!1,T=function(e){if(x)return;var t=c.value;if(v||!t||t==h)return;if(e&&t==h[0])return N.schedule();O(t),x=!0,f(),x=!1},N=o.delayedCall(T);r.addListener(c,"propertychange",T);var C={13:1,27:1};r.addListener(c,"keyup",function(e){v&&(!c.value||C[e.keyCode])&&setTimeout(I,0);if((c.value.charCodeAt(0)||0)<129)return N.call();v?F():j()}),r.addListener(c,"keydown",function(e){N.schedule(50)})}var k=function(e){p?p=!1:S(c)?(t.selectAll(),n()):L&&n(t.selection.isEmpty())},L=null;this.setInputHandler=function(e){L=e},this.getInputHandler=function(){return L};var A=!1,O=function(e){L&&(e=L(e),L=null),d?(n(),e&&t.onPaste(e),d=!1):e==h.charAt(0)?A?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==h?e=e.substr(2):e.charAt(0)==h.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),A&&(A=!1)},M=function(e){if(v)return;var t=c.value;O(t),f()},_=function(e,t){var n=e.clipboardData||window.clipboardData;if(!n||u)return;var r=a?"Text":"text/plain";return t?n.setData(r,t)!==!1:n.getData(r)},D=function(e,i){var s=t.getCopyText();if(!s)return r.preventDefault(e);_(e,s)?(i?t.onCut():t.onCopy(),r.preventDefault(e)):(p=!0,c.value=s,c.select(),setTimeout(function(){p=!1,f(),n(),i?t.onCut():t.onCopy()}))},P=function(e){D(e,!0)},H=function(e){D(e,!1)},B=function(e){var s=_(e);typeof s=="string"?(s&&t.onPaste(s),i.isIE&&setTimeout(n),r.preventDefault(e)):(c.value="",d=!0)};r.addCommandKeyListener(c,t.onCommandKey.bind(t)),r.addListener(c,"select",k),r.addListener(c,"input",M),r.addListener(c,"cut",P),r.addListener(c,"copy",H),r.addListener(c,"paste",B),(!("oncut"in c)||!("oncopy"in c)||!("onpaste"in c))&&r.addListener(e,"keydown",function(e){if(i.isMac&&!e.metaKey||!e.ctrlKey)return;switch(e.keyCode){case 67:H(e);break;case 86:B(e);break;case 88:P(e)}});var j=function(e){if(v||!t.onCompositionStart)return;v={},t.onCompositionStart(),setTimeout(F,0),t.on("mousedown",I),t.selection.isEmpty()||(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup()},F=function(){if(!v||!t.onCompositionUpdate)return;var e=c.value.replace(/\x01/g,"");if(v.lastValue===e)return;t.onCompositionUpdate(e),v.lastValue&&t.undo(),v.lastValue=e;if(v.lastValue){var n=t.selection.getRange();t.insert(v.lastValue),t.session.markUndoGroup(),v.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}},I=function(e){if(!t.onCompositionEnd)return;var n=v;v=!1;var r=setTimeout(function(){r=null;var e=c.value.replace(/\x01/g,"");if(v)return;e==n.lastValue?f():!n.lastValue&&e&&(f(),O(e))});L=function(e){return r&&clearTimeout(r),e=e.replace(/\x01/g,""),e==n.lastValue?"":(n.lastValue&&r&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",I),e.type=="compositionend"&&n.range&&t.selection.setRange(n.range)},q=o.delayedCall(F,50);r.addListener(c,"compositionstart",j),i.isGecko?r.addListener(c,"text",function(){q.schedule()}):(r.addListener(c,"keyup",function(){q.schedule()}),r.addListener(c,"keydown",function(){q.schedule()})),r.addListener(c,"compositionend",I),this.getElement=function(){return c},this.setReadOnly=function(e){c.readOnly=e},this.onContextMenu=function(e){A=!0,m||(m=c.style.cssText),c.style.cssText="z-index:100000;"+(i.isIE?"opacity:0.1;":""),n(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e});var o=t.container.getBoundingClientRect(),u=s.computedStyle(t.container),a=o.top+(parseInt(u.borderTopWidth)||0),f=o.left+(parseInt(o.borderLeftWidth)||0),h=o.bottom-a-c.clientHeight,p=function(e){c.style.left=e.clientX-f-2+"px",c.style.top=Math.min(e.clientY-a-2,h)+"px"};p(e);if(e.type!="mousedown")return;t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),i.isWin&&r.capture(t.container,p,l)},this.onContextMenuClose=l;if(!i.isGecko||i.isMac){var R=function(e){t.textInput.onContextMenu(e),l()};r.addListener(t.renderer.scroller,"contextmenu",R),r.addListener(c,"contextmenu",R)}};t.TextInput=f}),define("ace/lib/lang",["require","exports","module"],function(e,t,n){t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){var n="";while(t>0){t&1&&(n+=e);if(t>>=1)e+=e}return n};var r=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)e[n]&&typeof e[n]=="object"?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function(e){if(typeof e!="object"||!e)return e;var n=e.constructor;if(n===RegExp)return e;var r=n();for(var i in e)typeof e[i]=="object"?r[i]=t.deepCopy(e[i]):r[i]=e[i];return r},t.arrayToMap=function(e){var t={};for(var n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){n==null&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}}),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,n){var r=e("../lib/oop"),i=e("../lib/net"),s=e("../lib/event_emitter").EventEmitter,o=e("../config"),u=function(t,n,r,i){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl);if(o.get("packaged")||!e.toUrl)i=i||o.moduleUrl(n,"worker");else{var s=this.$normalizePath;i=i||s(e.toUrl("ace/worker/worker.js",null,"_"));var u={};t.forEach(function(t){u[t]=s(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{this.$worker=new Worker(i)}catch(a){if(!(a instanceof window.DOMException))throw a;var f=this.$workerBlob(i),l=window.URL||window.webkitURL,c=l.createObjectURL(f);this.$worker=new Worker(c),l.revokeObjectURL(c)}this.$worker.postMessage({init:!0,tlns:u,module:n,classname:r}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,s),this.onMessage=function(e){var t=e.data;switch(t.type){case"log":window.console&&console.log&&console.log.apply(console,t.data);break;case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id])}},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc.removeEventListener("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue?this.deltaQueue.push(e.data):(this.deltaQueue=[e.data],setTimeout(this.$sendDeltaQueue,0))},this.$sendDeltaQueue=function(){var e=this.deltaQueue;if(!e)return;this.deltaQueue=null,e.length>20&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e})},this.$workerBlob=function(e){var t="importScripts('"+i.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(n){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,s=new r;return s.append(t),s.getBlob("application/javascript")}}}).call(u.prototype);var a=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var r=null,i=!1,u=Object.create(s),a=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){a.messageBuffer.push(e),r&&(i?setTimeout(f):f())},this.setEmitSync=function(e){i=e};var f=function(){var e=a.messageBuffer.shift();e.command?r[e.command].apply(r,e.args):e.event&&u._signal(e.event,e.data)};u.postMessage=function(e){a.onMessage({data:e})},u.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},u.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},o.loadModule(["worker",t],function(e){r=new e[n](u);while(a.messageBuffer.length)f()})};a.prototype=u.prototype,t.UIWorkerClient=a,t.WorkerClient=u}),define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config"],function(e,t,n){e("./lib/fixoldbrowsers");var r=e("./lib/oop"),i=e("./lib/dom"),s=e("./lib/lang"),o=e("./lib/useragent"),u=e("./keyboard/textinput").TextInput,a=e("./mouse/mouse_handler").MouseHandler,f=e("./mouse/fold_handler").FoldHandler,l=e("./keyboard/keybinding").KeyBinding,c=e("./edit_session").EditSession,h=e("./search").Search,p=e("./range").Range,d=e("./lib/event_emitter").EventEmitter,v=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,g=e("./config"),y=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new v(o.isMac?"mac":"win",m),this.textInput=new u(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new l(this),this.$mouseHandler=new a(this),new f(this),this.$blockScrolling=0,this.$search=(new h).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall(function(){this._signal("input",{}),this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new c("")),g.resetOptions(this),g._signal("editor",this)};(function(){r.implement(this,d),this.$initOperationListeners=function(){function e(e){return e[e.length-1]}this.selections=[],this.commands.on("exec",function(t){this.startOperation(t);var n=t.command;if(n.aceCommandGroup=="fileJump"){var r=this.prevOp;if(!r||r.command.aceCommandGroup!="fileJump")this.lastFileJumpPos=e(this.selections)}else this.lastFileJumpPos=null}.bind(this),!0),this.commands.on("afterExec",function(e){var t=e.command;t.aceCommandGroup=="fileJump"&&this.lastFileJumpPos&&!this.curOp.selectionChanged&&this.selection.fromJSON(this.lastFileJumpPos),this.endOperation(e)}.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop};var t=this.curOp.command;t&&t.scrollIntoView&&this.$blockScrolling++,this.selections.push(this.selection.toJSON())},this.endOperation=function(){if(this.curOp){var e=this.curOp.command;if(e&&e.scrollIntoView){this.$blockScrolling--;switch(e.scrollIntoView){case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var t=this.selection.getRange(),n=this.renderer.layerConfig;(t.start.row>=n.lastRow||t.end.row<=n.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:}e.scrollIntoView=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$historyTracker=function(e){if(!this.$mergeUndoDeltas)return;var t=this.prevOp,n=["backspace","del","insertstring"],r=t.command&&e.command.name==t.command.name;if(e.command.name=="insertstring"){var i=e.args;this.mergeNextCommand===undefined&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&n.indexOf(e.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:n.indexOf(e.command.name)!==-1&&(this.sequenceStartTime=Date.now())},this.setKeyboardHandler=function(e){if(!e)this.keyBinding.setKeyboardHandler(null);else if(typeof e=="string"){this.$keybindingId=e;var t=this;g.loadModule(["keybinding",e],function(n){t.$keybindingId==e&&t.keyBinding.setKeyboardHandler(n&&n.handler)})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e)},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session==e)return;var t=this.session;if(t){this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange),this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange),this.session.removeEventListener("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.removeEventListener("changeCursor",this.$onCursorChange),n.removeEventListener("changeSelection",this.$onSelectionChange)}this.session=e,e&&(this.$onDocumentChange=this.onDocumentChange.bind(this),e.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.addEventListener("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()),this._signal("changeSession",{session:e,oldSession:t}),t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?t==1?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null);if(this.$highlightPending)return;var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session.findMatchingBracket(e.getCursorPosition());if(t)var n=new p(t.row,t.column,t.row,t.column+1);else if(e.session.$mode.getMatching)var n=e.session.$mode.getMatching(e.session);n&&(e.session.$bracketHighlight=e.session.addMarker(n,"ace_bracket","text"))},50)},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(){if(this.$isFocused)return;this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus")},this.onBlur=function(){if(!this.$isFocused)return;this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur")},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=e.data,n=t.range,r;n.start.row==n.end.row&&t.action!="insertLines"&&t.action!="removeLines"?r=n.end.row:r=Infinity,this.renderer.updateLines(n.start.row,r),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||this.renderer.scrollCursorIntoView(),this.$highlightBrackets(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e=this.getSession(),t;if(this.$highlightActiveLine){if(this.$selectionStyle!="line"||!this.selection.isMultiLine())t=this.getCursorPosition();this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(t=!1)}if(e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var n=new p(t.row,t.column,t.row,Infinity);n.id=e.addMarker(n,"ace_active-line","screenLine"),e.$highlightLineMarker=n}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null;if(!this.selection.isEmpty()){var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}else this.$updateHighlightActiveLine();var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(t.isEmpty()||t.isMultiLine())return;var n=t.start.column-1,r=t.end.column+1,i=e.getLine(t.start.row),s=i.length,o=i.substring(Math.max(n,0),Math.min(r,s));if(n>=0&&/^[\w\d]/.test(o)||r<=s&&/[\w\d]$/.test(o))return;o=i.substring(t.start.column,t.end.column);if(!/^[\w\d]+$/.test(o))return;var u=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o});return u},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e){if(this.$readOnly)return;var t={text:e};this._signal("paste",t),this.insert(t.text,!0)},this.execCommand=function(e,t){this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var s=r.transformAction(n.getState(i.row),"insertion",this,n,e);s&&(e!==s.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=s.text)}e=="	"&&(e=this.session.getTabString());if(!this.selection.isEmpty()){var o=this.getSelectionRange();i=this.session.remove(o),this.clearSelection()}else if(this.session.getOverwrite()){var o=new p.fromPoints(i,i);o.end.column+=e.length,this.session.remove(o)}if(e=="\n"||e=="\r\n"){var u=n.getLine(i.row);if(i.column>u.search(/\S|$/)){var a=u.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+a)}}this.clearSelection();var f=i.column,l=n.getState(i.row),u=n.getLine(i.row),c=r.checkOutdent(l,u,e),h=n.insert(i,e);s&&s.selection&&(s.selection.length==2?this.selection.setSelectionRange(new p(i.row,f+s.selection[0],i.row,f+s.selection[1])):this.selection.setSelectionRange(new p(i.row+s.selection[0],s.selection[1],i.row+s.selection[2],s.selection[3])));if(n.getDocument().isNewLine(e)){var d=r.getNextLineIndent(l,u.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},d)}c&&r.autoOutdent(l,n,i.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&(e=="left"?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(t.end.column===0){var s=n.getTextRange(t);if(s[s.length-1]=="\n"){var o=n.getLine(t.end.row);/^\s+$/.test(o)&&(t.end.column=o.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(!this.selection.isEmpty())return;var e=this.getCursorPosition(),t=e.column;if(t===0)return;var n=this.session.getLine(e.row),r,i;t<n.length?(r=n.charAt(t)+n.charAt(t-1),i=new p(e.row,t-1,e.row,t+1)):(r=n.charAt(t-1)+n.charAt(t-2),i=new p(e.row,t-2,e.row,t)),this.session.replace(i,r)},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();e.indentRows(n.first,n.last,"	");return}if(t.start.column<t.end.column){var r=e.getTextRange(t);if(!/^\s+$/.test(r)){var n=this.$getSelectedRows();e.indentRows(n.first,n.last,"	");return}}var i=e.getLine(t.start.row),o=t.start,u=e.getTabSize(),a=e.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var f=u-a%u,l=s.stringRepeat(" ",f);else{var f=a%u;while(i[t.start.column]==" "&&f)t.start.column--,f--;this.selection.setSelectionRange(t),l="	"}return this.insert(l)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"	")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});var r=new p(0,0,0,0);for(var i=e.first;i<=e.last;i++){var s=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=s.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;var r=this.session.getLine(e);while(n.lastIndex<t){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t){var s={value:i[0],start:i.index,end:i.index+i[0].length};return s}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new p(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var s=this.getNumberAt(t,n);if(s){var o=s.value.indexOf(".")>=0?s.start+s.value.indexOf(".")+1:s.end,u=s.start+s.value.length-o,a=parseFloat(s.value);a*=Math.pow(10,u),o!==s.end&&n<o?e*=Math.pow(10,s.end-n-1):e*=Math.pow(10,s.end-n),a+=e,a/=Math.pow(10,u);var f=a.toFixed(u),l=new p(t,s.start,t,s.end);this.session.replace(l,f),this.moveCursorTo(t,Math.max(s.start+1,n+f.length-s.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows(),t;e.first===0||e.last+1<this.session.getLength()?t=new p(e.first,0,e.last+1,0):t=new p(e.first-1,this.session.getLine(e.first-1).length,e.last,this.session.getLine(e.last).length),this.session.remove(t),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var s=r?n.start:n.end,o=t.insert(s,t.getTextRange(n),!1);n.start=s,n.end=o,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(function(e,t){return this.session.moveLinesDown(e,t)})},this.moveLinesUp=function(){this.$moveLines(function(e,t){return this.session.moveLinesUp(e,t)})},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(function(e,t){return this.session.duplicateLines(e,t),0})},this.copyLinesDown=function(){this.$moveLines(function(e,t){return this.session.duplicateLines(e,t)})},this.$moveLines=function(e){var t=this.selection;if(!t.inMultiSelectMode||this.inVirtualSelectionMode){var n=t.toOrientedRange(),r=this.$getSelectedRows(n),i=e.call(this,r.first,r.last);n.moveBy(i,0),t.fromOrientedRange(n)}else{var s=t.rangeList.ranges;t.rangeList.detach(this.session);for(var o=s.length;o--;){var u=o,r=s[o].collapseRows(),a=r.end.row,f=r.start.row;while(o--){r=s[o].collapseRows();if(!(f-r.end.row<=1))break;f=r.end.row}o++;var i=e.call(this,f,a);while(u>=o)s[u].moveBy(i,0),u--}t.fromOrientedRange(t.ranges[0]),t.rangeList.attach(this.session)}},this.$getSelectedRows=function(){var e=this.getSelectionRange().collapseRows();return{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);this.$blockScrolling++,t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(i,0)}):t===!1&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection()),this.$blockScrolling--;var s=n.scrollTop;n.scrollBy(0,i*r.lineHeight),t!=null&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e){var t=this.getCursorPosition(),n=this.session.getBracketRange(t);if(!n){n=this.find({needle:/[{}()\[\]]/g,preventScroll:!0,start:{row:t.row,column:t.column-1}});if(!n)return;var r=n.start;r.row==t.row&&Math.abs(r.column-t.column)<2&&(n=this.session.getBracketRange(r))}r=n&&n.cursor||r,r&&(e?n&&n.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(r.row,r.column):this.selection.moveTo(r.row,r.column))},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}else{e=e||1;while(e--)this.selection.moveCursorLeft()}this.clearSelection()},this.navigateRight=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}else{e=e||1;while(e--)this.selection.moveCursorRight()}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),n!==null&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;this.$blockScrolling+=1;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],e)&&r++;return this.selection.setSelectionRange(i),this.$blockScrolling-=1,r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),t!==null?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),typeof e=="string"||e instanceof RegExp?t.needle=e:typeof e=="object"&&r.mixin(t,e);var i=this.selection.getRange();t.needle==null&&(e=this.session.getTextRange(i)||this.$search.$options.needle,e||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var s=this.$search.find(this.session);if(t.preventScroll)return s;if(s)return this.revealRange(s,n),s;t.backwards?i.start=i.end:i.end=i.start,this.selection.setRange(i)},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this)},this.setAutoScrollEditorIntoView=function(e){if(!e)return;var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var s=this.on("changeSelection",function(){r=!0}),o=this.renderer.on("beforeRender",function(){r&&(t=n.renderer.container.getBoundingClientRect())}),u=this.renderer.on("afterRender",function(){if(r&&t&&n.isFocused()){var e=n.renderer,s=e.$cursorLayer.$pixelPos,o=e.layerConfig,u=s.top-o.offset;s.top>=0&&u+t.top<0?r=!0:s.top<o.height&&s.top+t.top+o.lineHeight>window.innerHeight?r=!1:r=null,r!=null&&(i.style.top=u+"px",i.style.left=s.left+"px",i.style.height=o.lineHeight+"px",i.scrollIntoView(r)),r=t=null}});this.setAutoScrollEditorIntoView=function(e){if(e)return;delete this.setAutoScrollEditorIntoView,this.removeEventListener("changeSelection",s),this.renderer.removeEventListener("afterRender",u),this.renderer.removeEventListener("beforeRender",o)}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;if(!t)return;t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&e!="wide",i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e))}}).call(y.prototype),g.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",foldStyle:"session",mode:"session"}),t.Editor=y}),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,n){var r=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,s=e("./lib/oop"),o=function(e,t,n,r,i,s){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var u=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=u.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){s.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session,i=this.$pos;this.pos=t.createAnchor(i.row,i.column),this.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.pos.on("change",function(t){n.removeMarker(e.markerId),e.markerId=n.addMarker(new r(t.value.row,t.value.column,t.value.row,t.value.column+e.length),e.mainClass,null,!1)}),this.others=[],this.$others.forEach(function(n){var r=t.createAnchor(n.row,n.column);e.others.push(r)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(this.othersActive)return;var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1),n.on("change",function(i){e.removeMarker(n.markerId),n.markerId=e.addMarker(new r(i.value.row,i.value.column,i.value.row,i.value.column+t.length),t.othersClass,null,!1)})})},this.hideOtherMarkers=function(){if(!this.othersActive)return;this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)},this.onUpdate=function(e){var t=e.data,n=t.range;if(n.start.row!==n.end.row)return;if(n.start.row!==this.pos.row)return;if(this.$updating)return;this.$updating=!0;var i=t.action==="insertText"?n.end.column-n.start.column:n.start.column-n.end.column;if(n.start.column>=this.pos.column&&n.start.column<=this.pos.column+this.length+1){var s=n.start.column-this.pos.column;this.length+=i;if(!this.session.$fromUndo){if(t.action==="insertText")for(var o=this.others.length-1;o>=0;o--){var u=this.others[o],a={row:u.row,column:u.column+s};u.row===n.start.row&&n.start.column<u.column&&(a.column+=i),this.doc.insert(a,t.text)}else if(t.action==="removeText")for(var o=this.others.length-1;o>=0;o--){var u=this.others[o],a={row:u.row,column:u.column+s};u.row===n.start.row&&n.start.column<u.column&&(a.column+=i),this.doc.remove(new r(a.row,a.column,a.row,a.column-i))}n.start.column===this.pos.column&&t.action==="insertText"?setTimeout(function(){this.pos.setPosition(this.pos.row,this.pos.column-i);for(var e=0;e<this.others.length;e++){var t=this.others[e],r={row:t.row,column:t.column-i};t.row===n.start.row&&n.start.column<t.column&&(r.column+=i),t.setPosition(r.row,r.column)}}.bind(this),0):n.start.column===this.pos.column&&t.action==="removeText"&&setTimeout(function(){for(var e=0;e<this.others.length;e++){var t=this.others[e];t.row===n.start.row&&n.start.column<t.column&&t.setPosition(t.row,t.column-i)}}.bind(this),0)}this.pos._emit("change",{value:this.pos});for(var o=0;o<this.others.length;o++)this.others[o]._emit("change",{value:this.others[o]})}this.$updating=!1},this.onCursorChange=function(e){if(this.$updating)return;var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))},this.detach=function(){this.session.removeMarker(this.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.pos.detach();for(var e=0;e<this.others.length;e++)this.others[e].detach();this.session.setUndoSelect(!0)},this.cancel=function(){if(this.$undoStackDepth===-1)throw Error("Canceling placeholders only supported with undo manager attached to session.");var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth;for(var n=0;n<t;n++)e.undo(!0)}}).call(o.prototype),t.PlaceHolder=o}),define("ace/lib/useragent",["require","exports","module"],function(e,t,n){t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};if(typeof navigator!="object")return;var r=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin=r=="win",t.isMac=r=="mac",t.isLinux=r=="linux",t.isIE=navigator.appName=="Microsoft Internet Explorer"||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=window.controllers&&window.navigator.product==="Gecko",t.isOldGecko=t.isGecko&&parseInt((i.match(/rv\:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&Object.prototype.toString.call(window.opera)=="[object Opera]",t.isWebKit=parseFloat(i.split("WebKit/")[1])||undefined,t.isChrome=parseFloat(i.split(" Chrome/")[1])||undefined,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isIPad=i.indexOf("iPad")>=0,t.isTouchPad=i.indexOf("TouchPad")>=0,t.isChromeOS=i.indexOf(" CrOS ")>=0}),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,n){function r(e,t,n){return v.$options.wrap=!0,v.$options.needle=t,v.$options.backwards=n==-1,v.find(e)}function i(e,t){return e.row==t.row&&e.column==t.column}function s(e){if(e.$multiselectOnSessionChange)return;e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",l),e.commands.addCommands(p.defaultCommands),o(e)}function o(e){function t(t){r&&(e.renderer.setMouseCursor(""),r=!1)}var n=e.textInput.getElement(),r=!1;c.addListener(n,"keydown",function(n){n.keyCode==18&&!(n.ctrlKey||n.shiftKey||n.metaKey)?r||(e.renderer.setMouseCursor("crosshair"),r=!0):r&&t()}),c.addListener(n,"keyup",t),c.addListener(n,"blur",t)}var u=e("./range_list").RangeList,a=e("./range").Range,f=e("./selection").Selection,l=e("./mouse/multi_select_handler").onMouseDown,c=e("./lib/event"),h=e("./lib/lang"),p=e("./commands/multi_select_commands");t.commands=p.defaultCommands.concat(p.multiSelectCommands);var d=e("./search").Search,v=new d,m=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(!e)return;if(!this.inMultiSelectMode&&this.rangeCount==0){var n=this.toOrientedRange();this.rangeList.add(n),this.rangeList.add(e);if(this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){this.rangeCount=this.rangeList.ranges.length;if(this.rangeCount==1&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),this.rangeCount==0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){if(this.rangeList)return;this.rangeList=new u,this.ranges=[],this.rangeCount=0},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=a.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),r=this.isBackwards(),i=n.start.row,s=n.end.row;if(i==s){if(r)var o=n.end,u=n.start;else var o=n.start,u=n.end;this.addRange(a.fromPoints(u,u)),this.addRange(a.fromPoints(o,o));return}var f=[],l=this.getLineRange(i,!0);l.start.column=n.start.column,f.push(l);for(var c=i+1;c<s;c++)f.push(this.getLineRange(c,!0));l=this.getLineRange(s,!0),l.end.column=n.end.column,f.push(l),f.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=a.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.selectionLead),i=this.session.documentToScreenPosition(this.selectionAnchor),s=this.rectangularRangeBlock(r,i);s.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],s=e.column<t.column;if(s)var o=e.column,u=t.column;else var o=t.column,u=e.column;var f=e.row<t.row;if(f)var l=e.row,c=t.row;else var l=t.row,c=e.row;o<0&&(o=0),l<0&&(l=0),l==c&&(n=!0);for(var h=l;h<=c;h++){var p=a.fromPoints(this.session.screenToDocumentPosition(h,o),this.session.screenToDocumentPosition(h,u));if(p.isEmpty()){if(d&&i(p.end,d))break;var d=p.end}p.cursor=s?p.start:p.end,r.push(p)}f&&r.reverse();if(!n){var v=r.length-1;while(r[v].isEmpty()&&v>0)v--;if(v>0){var m=0;while(r[m].isEmpty())m++}for(var g=v;g>=m;g--)r[g].isEmpty()&&r.splice(g,1)}return r}}.call(f.prototype);var g=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(!e.marker)return;this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);t!=-1&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length},this.removeSelectionMarkers=function(e){var t=this.session.$selectionMarkers;for(var n=e.length;n--;){var r=e[n];if(!r.marker)continue;this.session.removeMarker(r.marker);var i=t.indexOf(r);i!=-1&&t.splice(i,1)}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){if(this.inMultiSelectMode)return;this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(p.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onSingleSelect=function(e){if(this.session.multiSelect.inVirtualMode)return;this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(p.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection")},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(!n.multiSelect)return;if(!t.multiSelectAction){var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}else t.multiSelectAction=="forEach"?r=n.forEachSelection(t,e.args):t.multiSelectAction=="forEachLine"?r=n.forEachSelection(t,e.args,!0):t.multiSelectAction=="single"?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});return r},this.forEachSelection=function(e,t,n){if(this.inVirtualSelectionMode)return;var r=n&&n.keepOrder,i=n==1||n&&n.$byLines,s=this.session,o=this.selection,u=o.rangeList,a=(r?o:u).ranges,l;if(!a.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var c=o._eventRegistry;o._eventRegistry={};var h=new f(s);this.inVirtualSelectionMode=!0;for(var p=a.length;p--;){if(i)while(p>0&&a[p].start.row==a[p-1].end.row)p--;h.fromOrientedRange(a[p]),h.index=p,this.selection=s.selection=h;var d=e.exec?e.exec(this,t||{}):e(this,t||{});!l&&d!==undefined&&(l=d),h.toOrientedRange(a[p])}h.detach(),this.selection=s.selection=o,this.inVirtualSelectionMode=!1,o._eventRegistry=c,o.mergeOverlappingRanges();var v=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),v&&v.from==v.to&&this.renderer.animateScrolling(v.from),l},this.exitMultiSelectMode=function(){if(!this.inMultiSelectMode||this.inVirtualSelectionMode)return;this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var t=this.multiSelect.rangeList.ranges,n=[];for(var r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();e=n.join(i),e.length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.onPaste=function(e){if(this.$readOnly)return;var t={text:e};this._signal("paste",t),e=t.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)return this.insert(e);var n=e.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges;if(n.length>r.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,e);for(var i=r.length;i--;){var s=r[i];s.isEmpty()||this.session.remove(s),this.session.insert(s.start,n[i])}},this.findAll=function(e,t,n){t=t||{},t.needle=e||t.needle;if(t.needle==undefined){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;this.$blockScrolling+=1;var s=this.multiSelect;n||s.toSingleRange(i[0]);for(var o=i.length;o--;)s.addRange(i[o],!0);return r&&s.rangeList.rangeAtPoint(r.start)&&s.addRange(r,!0),this.$blockScrolling-=1,i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,i=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(i.column=this.selection.$desiredColumn);var s=this.session.screenToDocumentPosition(i.row+e,i.column);if(!n.isEmpty())var o=this.session.documentToScreenPosition(r?n.end:n.start),u=this.session.screenToDocumentPosition(o.row+e,o.column);else var u=s;if(r){var f=a.fromPoints(s,u);f.cursor=f.start}else{var f=a.fromPoints(u,s);f.cursor=f.end}f.desiredColumn=i.column;if(!this.selection.inMultiSelectMode)this.selection.addRange(n);else if(t)var l=n.cursor;this.selection.addRange(f),l&&this.selection.substractPoint(l)},this.transposeSelections=function(e){var t=this.session,n=t.multiSelect,r=n.ranges;for(var i=r.length;i--;){var s=r[i];if(s.isEmpty()){var o=t.getWordRange(s.start.row,s.start.column);s.start.row=o.start.row,s.start.column=o.start.column,s.end.row=o.end.row,s.end.column=o.end.column}}n.mergeOverlappingRanges();var u=[];for(var i=r.length;i--;){var s=r[i];u.unshift(t.getTextRange(s))}e<0?u.unshift(u.pop()):u.push(u.shift());for(var i=r.length;i--;){var s=r[i],o=s.clone();t.replace(s,u[i]),s.start.row=o.start.row,s.start.column=o.start.column}},this.selectMore=function(e,t){var n=this.session,i=n.multiSelect,s=i.toOrientedRange();s.isEmpty()&&(s=n.getWordRange(s.start.row,s.start.column),s.cursor=e==-1?s.start:s.end,this.multiSelect.addRange(s));var o=n.getTextRange(s),u=r(n,o,e);u&&(u.cursor=e==-1?u.start:u.end,this.$blockScrolling+=1,this.session.unfold(u),this.multiSelect.addRange(u),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges;if(!n.length){var r=this.selection.getRange(),i=r.start.row,s=r.end.row,o=i==s;if(o){var u=this.session.getLength(),f;do f=this.session.getLine(s);while(/[=:]/.test(f)&&++s<u);do f=this.session.getLine(i);while(/[=:]/.test(f)&&--i>0);i<0&&(i=0),s>=u&&(s=u-1)}var l=this.session.doc.removeLines(i,s);l=this.$reAlignText(l,o),this.session.doc.insert({row:i,column:0},l.join("\n")+"\n"),o||(r.start.column=0,r.end.column=l[l.length-1].length),this.selection.setRange(r)}else{var c=-1,p=n.filter(function(e){if(e.cursor.row==c)return!0;c=e.cursor.row});t.$onRemoveRange(p);var d=0,v=Infinity,m=n.map(function(t){var n=t.cursor,r=e.getLine(n.row),i=r.substr(n.column).search(/\S/g);return i==-1&&(i=0),n.column>d&&(d=n.column),i<v&&(v=i),i});n.forEach(function(t,n){var r=t.cursor,i=d-r.column,s=m[n]-v;i>s?e.insert(r,h.stringRepeat(" ",i-s)):e.remove(new a(r.row,r.column,r.row,r.column-i+s)),t.start.column=t.end.column=d,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(e,t){function n(e){return h.stringRepeat(" ",e)}function r(e){return e[2]?n(a)+e[2]+n(f-e[2].length+l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function i(e){return e[2]?n(a+f-e[2].length)+e[2]+n(l," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function s(e){return e[2]?n(a)+e[2]+n(l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var o=!0,u=!0,a,f,l;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?a==null?(a=t[1].length,f=t[2].length,l=t[3].length,t):(a+f+l!=t[1].length+t[2].length+t[3].length&&(u=!1),a!=t[1].length&&(o=!1),a>t[1].length&&(a=t[1].length),f<t[2].length&&(f=t[2].length),l>t[3].length&&(l=t[3].length),t):[e]}).map(t?r:o?u?i:r:s)}}).call(g.prototype),t.onSessionChange=function(e){var t=e.session;t.multiSelect||(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.removeEventListener("addRange",this.$onAddRange),n.multiSelect.removeEventListener("removeRange",this.$onRemoveRange),n.multiSelect.removeEventListener("multiSelect",this.$onMultiSelect),n.multiSelect.removeEventListener("singleSelect",this.$onSingleSelect)),t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=s,e("./config").defineOptions(g.prototype,"editor",{enableMultiselect:{set:function(e){s(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",l)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",l))},value:!0}})}),define("ace/lib/oop",["require","exports","module"],function(e,t,n){t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event"],function(e,t,n){function r(e,t){return e.row==t.row&&e.column==t.column}function i(e){var t=e.domEvent,n=t.altKey,i=t.shiftKey,o=e.getAccelKey(),u=e.getButton();if(e.editor.inMultiSelectMode&&u==2){e.editor.textInput.onContextMenu(e.domEvent);return}if(!o&&!n){u===0&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode();return}var a=e.editor,f=a.selection,l=a.inMultiSelectMode,c=e.getDocumentPosition(),h=f.getCursor(),p=e.inSelection()||f.isEmpty()&&r(c,h),d=e.x,v=e.y,m=function(e){d=e.clientX,v=e.clientY},g=function(){var e=a.renderer.pixelToScreenCoordinates(d,v),t=y.screenToDocumentPosition(e.row,e.column);if(r(w,e)&&r(t,f.selectionLead))return;w=e,a.selection.moveToPosition(t),a.renderer.scrollCursorIntoView(),a.removeSelectionMarkers(x),x=f.rectangularRangeBlock(w,b),x.forEach(a.addSelectionMarker,a),a.updateSelectionMarkers()},y=a.session,b=a.renderer.pixelToScreenCoordinates(d,v),w=b;if(o&&!n&&!i&&u===0){if(!l&&p)return;if(!l){var E=f.toOrientedRange();a.addSelectionMarker(E)}var S=f.rangeList.rangeAtPoint(c);a.$blockScrolling++,a.once("mouseup",function(){var e=f.toOrientedRange();S&&e.isEmpty()&&r(S.cursor,e.cursor)?f.substractPoint(e.cursor):(E&&(a.removeSelectionMarker(E),f.addRange(E)),f.addRange(e)),a.$blockScrolling--})}else if(n&&u===0){e.stop(),l&&!o?f.toSingleRange():!l&&o&&f.addRange();var x=[];i?(b=y.documentToScreenPosition(f.lead),g()):f.moveToPosition(c);var T=function(e){clearInterval(C),a.removeSelectionMarkers(x);for(var t=0;t<x.length;t++)f.addRange(x[t])},N=g;s.capture(a.container,m,T);var C=setInterval(function(){N()},20);return e.preventDefault()}}var s=e("../lib/event");t.onMouseDown=i}),define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(e,t,n){var r=e("./oop"),i=function(){var e={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}},t,n;for(n in e.FUNCTION_KEYS)t=e.FUNCTION_KEYS[n].toLowerCase(),e[t]=parseInt(n,10);for(n in e.PRINTABLE_KEYS)t=e.PRINTABLE_KEYS[n].toLowerCase(),e[t]=parseInt(n,10);return r.mixin(e,e.MODIFIER_KEYS),r.mixin(e,e.PRINTABLE_KEYS),r.mixin(e,e.FUNCTION_KEYS),e.enter=e["return"],e.escape=e.esc,e.del=e["delete"],e[173]="-",function(){var t=["cmd","ctrl","alt","shift"];for(var n=Math.pow(2,t.length);n--;)e.KEY_MODS[n]=t.filter(function(t){return n&e.KEY_MODS[t]}).join("-")+"-"}(),e}();r.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return typeof t!="string"&&(t=String.fromCharCode(e)),t.toLowerCase()}}),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},readonly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},readonly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},readonly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},readonly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},readonly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},readonly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readonly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"}},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},readonly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},readonly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)}),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){function r(e,t,n){var r=o(t);if(!s.isMac&&u){if(u[91]||u[92])r|=8;if(u.altGr){if((3&r)==3)return;u.altGr=0}if(n===18||n===17){var f=t.location||t.keyLocation;if(n===17&&f===1)a=t.timeStamp;else if(n===18&&r===3&&f===2){var l=-a;a=t.timeStamp,l+=a,l<3&&(u.altGr=!0)}}}if(n in i.MODIFIER_KEYS){switch(i.MODIFIER_KEYS[n]){case"Alt":r=2;break;case"Shift":r=4;break;case"Ctrl":r=1;break;default:r=8}n=-1}r&8&&(n===91||n===93)&&(n=-1);if(!r&&n===13)if(t.location||t.keyLocation===3){e(t,r,-n);if(t.defaultPrevented)return}if(s.isChromeOS&&r&8){e(t,r,n);if(t.defaultPrevented)return;r&=-9}return!!r||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS?e(t,r,n):!1}var i=e("./keys"),s=e("./useragent");t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var r=function(){n.call(e,window.event)};n._wrapper=r,e.attachEvent("on"+t,r)}},t.removeListener=function(e,t,n){if(e.removeEventListener)return e.removeEventListener(t,n,!1);e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return e.type=="dblclick"?0:e.type=="contextmenu"||e.ctrlKey&&s.isMac?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,r){function i(e){n&&n(e),r&&r(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",i,!0),t.removeListener(document,"dragstart",i,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",i,!0),t.addListener(document,"dragstart",i,!0),i},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){var t=8;e.wheelDeltaX!==undefined?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),n(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=(e.deltaX||0)*5,e.wheelY=(e.deltaY||0)*5}n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=(e.detail||0)*5,e.wheelY=0):(e.wheelX=0,e.wheelY=(e.detail||0)*5),n(e)})},t.addMultiMouseDownListener=function(e,n,r,i){var o=0,u,a,f,l={2:"dblclick",3:"tripleclick",4:"quadclick"};t.addListener(e,"mousedown",function(e){t.getButton(e)!==0?o=0:e.detail>1?(o++,o>4&&(o=1)):o=1;if(s.isIE){var c=Math.abs(e.clientX-u)>5||Math.abs(e.clientY-a)>5;if(!f||c)o=1;f&&clearTimeout(f),f=setTimeout(function(){f=null},n[o-1]||600),o==1&&(u=e.clientX,a=e.clientY)}r[i]("mousedown",e);if(o>4)o=0;else if(o>1)return r[i](l[o],e)}),s.isOldIE&&t.addListener(e,"dblclick",function(e){o=2,f&&clearTimeout(f),f=setTimeout(function(){f=null},n[o-1]||600),r[i]("mousedown",e),r[i](l[o],e)})};var o=!s.isMac||!s.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};t.getModifierString=function(e){return i.KEY_MODS[o(e)]};var u=null,a=0;t.addCommandKeyListener=function(e,n){var i=t.addListener;if(s.isOldGecko||s.isOpera&&!("KeyboardEvent"in window)){var o=null;i(e,"keydown",function(e){o=e.keyCode}),i(e,"keypress",function(e){return r(n,e,o)})}else{var a=null;i(e,"keydown",function(e){u[e.keyCode]=!0;var t=r(n,e,e.keyCode);return a=e.defaultPrevented,t}),i(e,"keypress",function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),i(e,"keyup",function(e){u[e.keyCode]=null}),u||(u=Object.create(null),i(window,"focus",function(e){u=Object.create(null)}))}};if(window.postMessage&&!s.isOldIE){var f=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+f;t.addListener(n,"message",function i(s){s.data==r&&(t.stopPropagation(s),t.removeListener(n,"message",i),e())}),n.postMessage(r,"*")}}t.nextFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,n){var r=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":t=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\S/,s=e.getLine(t),o=s.search(i);if(o==-1)return;var u=n||s.length,a=e.getLength(),f=t,l=t;while(++t<a){var c=e.getLine(t).search(i);if(c==-1)continue;if(c<=o)break;l=t}if(l>f){var h=e.getLine(l).length;return new r(f,u,l,h)}},this.openingBracketBlock=function(e,t,n,i,s){var o={row:n,column:i+1},u=e.$findClosingBracket(t,o,s);if(!u)return;var a=e.foldWidgets[u.row];return a==null&&(a=e.getFoldWidget(u.row)),a=="start"&&u.row>o.row&&(u.row--,u.column=e.getLine(u.row).length),r.fromPoints(o,u)},this.closingBracketBlock=function(e,t,n,i,s){var o={row:n,column:i},u=e.$findOpeningBracket(t,o);if(!u)return;return u.column++,o.column--,r.fromPoints(u,o)}}).call(i.prototype)}),define("ace/lib/dom",["require","exports","module"],function(e,t,n){if(typeof document=="undefined")return;var r="http://www.w3.org/1999/xhtml";t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||r,e):document.createElement(e)},t.hasCssClass=function(e,t){var n=e.className.split(/\s+/g);return n.indexOf(t)!==-1},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){var n=e.className.split(/\s+/g);for(;;){var r=n.indexOf(t);if(r==-1)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){var n=e.className.split(/\s+/g),r=!0;for(;;){var i=n.indexOf(t);if(i==-1)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n=0,r;t=t||document;if(t.createStyleSheet&&(r=t.styleSheets)){while(n<r.length)if(r[n++].owningElement.id===e)return!0}else if(r=t.getElementsByTagName("style"))while(n<r.length)if(r[n++].id===e)return!0;return!1},t.importCssString=function(e,n,i){i=i||document;if(n&&t.hasCssString(n,i))return null;var s;i.createStyleSheet?(s=i.createStyleSheet(),s.cssText=e,n&&(s.owningElement.id=n)):(s=i.createElementNS?i.createElementNS(r,"style"):i.createElement("style"),s.appendChild(i.createTextNode(e)),n&&(s.id=n),t.getDocumentHead(i).appendChild(s))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var r=t.createElement("link");r.rel="stylesheet",r.href=e,t.getDocumentHead(n).appendChild(r)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},window.pageYOffset!==undefined?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var s=e.documentElement;s.appendChild(r);var o=n.offsetWidth;i.overflow="scroll";var u=n.offsetWidth;return o==u&&(u=r.clientWidth),s.removeChild(r),o-u},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow}}),define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)}),define("ace/lib/es5-shim",["require","exports","module"],function(e,t,n){function r(){}function i(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}function s(e){return e=+e,e!==e?e=0:e!==0&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function o(e){var t=typeof e;return e===null||t==="undefined"||t==="boolean"||t==="number"||t==="string"}function u(e){var t,n,r;if(o(e))return e;n=e.valueOf;if(typeof n=="function"){t=n.call(e);if(o(t))return t}r=e.toString;if(typeof r=="function"){t=r.call(e);if(o(t))return t}throw new TypeError}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError("Function.prototype.bind called on incompatible "+t);var n=c.call(arguments,1),i=function(){if(this instanceof i){var r=t.apply(this,n.concat(c.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(c.call(arguments)))};return t.prototype&&(r.prototype=t.prototype,i.prototype=new r,r.prototype=null),i});var a=Function.prototype.call,f=Array.prototype,l=Object.prototype,c=f.slice,h=a.bind(l.toString),p=a.bind(l.hasOwnProperty),d,v,m,g,y;if(y=p(l,"__defineGetter__"))d=a.bind(l.__defineGetter__),v=a.bind(l.__defineSetter__),m=a.bind(l.__lookupGetter__),g=a.bind(l.__lookupSetter__);if([1,2].splice(0).length!=2)if(!function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t=[],n;t.splice.apply(t,e(20)),t.splice.apply(t,e(26)),n=t.length,t.splice(5,0,"XXX"),n+1==t.length;if(n+1==t.length)return!0}())Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):e==void 0?e=0:e<0&&(e=Math.max(n+e,0)),e+t<n||(t=n-e);var r=this.slice(e,e+t),i=c.call(arguments,2),s=i.length;if(e===n)s&&this.push.apply(this,i);else{var o=Math.min(t,n-e),u=e+o,a=u+s-o,f=n-u,l=n-o;if(a<u)for(var h=0;h<f;++h)this[a+h]=this[u+h];else if(a>u)for(h=f;h--;)this[a+h]=this[u+h];if(s&&e===l)this.length=l,this.push.apply(this,i);else{this.length=l+s;for(h=0;h<s;++h)this[e+h]=i[h]}}return r};else{var b=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?b.apply(this,[e===void 0?0:e,t===void 0?this.length-e:t].concat(c.call(arguments,2))):[]}}Array.isArray||(Array.isArray=function(e){return h(e)=="[object Array]"});var w=Object("a"),E=w[0]!="a"||!(0 in w);Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=F(this),n=E&&h(this)=="[object String]"?this.split(""):t,r=arguments[1],i=-1,s=n.length>>>0;if(h(e)!="[object Function]")throw new TypeError;while(++i<s)i in n&&e.call(r,n[i],i,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=F(this),n=E&&h(this)=="[object String]"?this.split(""):t,r=n.length>>>0,i=Array(r),s=arguments[1];if(h(e)!="[object Function]")throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)o in n&&(i[o]=e.call(s,n[o],o,t));return i}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=F(this),n=E&&h(this)=="[object String]"?this.split(""):t,r=n.length>>>0,i=[],s,o=arguments[1];if(h(e)!="[object Function]")throw new TypeError(e+" is not a function");for(var u=0;u<r;u++)u in n&&(s=n[u],e.call(o,s,u,t)&&i.push(s));return i}),Array.prototype.every||(Array.prototype.every=function(e){var t=F(this),n=E&&h(this)=="[object String]"?this.split(""):t,r=n.length>>>0,i=arguments[1];if(h(e)!="[object Function]")throw new TypeError(e+" is not a function");for(var s=0;s<r;s++)if(s in n&&!e.call(i,n[s],s,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=F(this),n=E&&h(this)=="[object String]"?this.split(""):t,r=n.length>>>0,i=arguments[1];if(h(e)!="[object Function]")throw new TypeError(e+" is not a function");for(var s=0;s<r;s++)if(s in n&&e.call(i,n[s],s,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=F(this),n=E&&h(this)=="[object String]"?this.split(""):t,r=n.length>>>0;if(h(e)!="[object Function]")throw new TypeError(e+" is not a function");if(!r&&arguments.length==1)throw new TypeError("reduce of empty array with no initial value");var i=0,s;if(arguments.length>=2)s=arguments[1];else do{if(i in n){s=n[i++];break}if(++i>=r)throw new TypeError("reduce of empty array with no initial value")}while(!0);for(;i<r;i++)i in n&&(s=e.call(void 0,s,n[i],i,t));return s}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=F(this),n=E&&h(this)=="[object String]"?this.split(""):t,r=n.length>>>0;if(h(e)!="[object Function]")throw new TypeError(e+" is not a function");if(!r&&arguments.length==1)throw new TypeError("reduceRight of empty array with no initial value");var i,s=r-1;if(arguments.length>=2)i=arguments[1];else do{if(s in n){i=n[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}while(!0);do s in this&&(i=e.call(void 0,i,n[s],s,t));while(s--);return i});if(!Array.prototype.indexOf||[0,1].indexOf(1,2)!=-1)Array.prototype.indexOf=function(e){var t=E&&h(this)=="[object String]"?this.split(""):F(this),n=t.length>>>0;if(!n)return-1;var r=0;arguments.length>1&&(r=s(arguments[1])),r=r>=0?r:Math.max(0,n+r);for(;r<n;r++)if(r in t&&t[r]===e)return r;return-1};if(!Array.prototype.lastIndexOf||[0,1].lastIndexOf(0,-3)!=-1)Array.prototype.lastIndexOf=function(e){var t=E&&h(this)=="[object String]"?this.split(""):F(this),n=t.length>>>0;if(!n)return-1;var r=n-1;arguments.length>1&&(r=Math.min(r,s(arguments[1]))),r=r>=0?r:n-Math.abs(r);for(;r>=0;r--)if(r in t&&e===t[r])return r;return-1};Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:l)});if(!Object.getOwnPropertyDescriptor){var S="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if(typeof e!="object"&&typeof e!="function"||e===null)throw new TypeError(S+e);if(!p(e,t))return;var n,r,i;n={enumerable:!0,configurable:!0};if(y){var s=e.__proto__;e.__proto__=l;var r=m(e,t),i=g(e,t);e.__proto__=s;if(r||i)return r&&(n.get=r),i&&(n.set=i),n}return n.value=e[t],n}}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)});if(!Object.create){var x;Object.prototype.__proto__===null?x=function(){return{__proto__:null}}:x=function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(e===null)n=x();else{if(typeof e!="object")throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return t!==void 0&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var T=i({}),N=typeof document=="undefined"||i(document.createElement("div"));if(!T||!N)var C=Object.defineProperty}if(!Object.defineProperty||C){var k="Property description must be an object: ",L="Object.defineProperty called on non-object: ",A="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,n){if(typeof e!="object"&&typeof e!="function"||e===null)throw new TypeError(L+e);if(typeof n!="object"&&typeof n!="function"||n===null)throw new TypeError(k+n);if(C)try{return C.call(Object,e,t,n)}catch(r){}if(p(n,"value"))if(y&&(m(e,t)||g(e,t))){var i=e.__proto__;e.__proto__=l,delete e[t],e[t]=n.value,e.__proto__=i}else e[t]=n.value;else{if(!y)throw new TypeError(A);p(n,"get")&&d(e,t,n.get),p(n,"set")&&v(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)p(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(O){Object.freeze=function(e){return function(t){return typeof t=="function"?t:e(t)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;var t="";while(p(e,t))t+="?";e[t]=!0;var n=p(e,t);return delete e[t],n});if(!Object.keys){var M=!0,_=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],D=_.length;for(var P in{toString:null})M=!1;Object.keys=function I(e){if(typeof e!="object"&&typeof e!="function"||e===null)throw new TypeError("Object.keys called on a non-object");var I=[];for(var t in e)p(e,t)&&I.push(t);if(M)for(var n=0,r=D;n<r;n++){var i=_[n];p(e,i)&&I.push(i)}return I}}Date.now||(Date.now=function(){return(new Date).getTime()});var H="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||H.trim()){H="["+H+"]";var B=new RegExp("^"+H+H+"*"),j=new RegExp(H+H+"*$");String.prototype.trim=function(){return String(this).replace(B,"").replace(j,"")}}var F=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),define("ace/lib/regexp",["require","exports","module"],function(e,t,n){function r(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function i(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1}var s={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},o=s.exec.call(/()??/,"")[1]===undefined,u=function(){var e=/^/g;return s.test.call(e,""),!e.lastIndex}();if(u&&o)return;RegExp.prototype.exec=function(e){var t=s.exec.apply(this,arguments),n,a;if(typeof e=="string"&&t){!o&&t.length>1&&i(t,"")>-1&&(a=RegExp(this.source,s.replace.call(r(this),"g","")),s.replace.call(e.slice(t.index),a,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===undefined&&(t[e]=undefined)}));if(this._xregexp&&this._xregexp.captureNames)for(var f=1;f<t.length;f++)n=this._xregexp.captureNames[f-1],n&&(t[n]=t[f]);!u&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--}return t},u||(RegExp.prototype.test=function(e){var t=s.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t})}),define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,n){function r(e,t,n){var r=0,i=e.length-1;while(r<=i){var s=r+i>>1,o=n(t,e[s]);if(o>0)r=s+1;else{if(!(o<0))return s;i=s-1}}return-(r+1)}function i(e,t,n){var i=e.getAnnotations().sort(u.comparePoints);if(!i.length)return;var s=r(i,{row:t,column:-1},u.comparePoints);s<0&&(s=-s-1),s>=i.length-1?s=n>0?0:i.length-1:s===0&&n<0&&(s=i.length-1);var o=i[s];if(!o||!n)return;if(o.row===t){do o=i[s+=n];while(o&&o.row===t);if(!o)return i.slice()}var a=[];t=o.row;do a[n<0?"unshift":"push"](o),o=i[s+=n];while(o&&o.row==t);return a.length&&a}var s=e("ace/line_widgets").LineWidgets,o=e("ace/lib/dom"),u=e("ace/range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new s(n),n.widgetManager.attach(e));var r=e.getCursorPosition(),u=r.row,a=n.lineWidgets&&n.lineWidgets[u];a?a.destroy():u-=t;var f=i(n,u,t),l;if(f){var c=f[0];r.column=(c.pos&&typeof c.column!="number"?c.pos.sc:c.column)||0,r.row=c.row,l=e.renderer.$gutterLayer.$annotations[r.row]}else{if(a)return;l={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(r.row),e.selection.moveToPosition(r);var h={row:r.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div")},p=h.el.appendChild(o.createElement("div")),d=h.el.appendChild(o.createElement("div"));d.className="error_widget_arrow "+l.className;var v=e.renderer.$cursorLayer.getPixelPosition(r).left;d.style.left=v+e.renderer.gutterWidth-5+"px",h.el.className="error_widget_wrapper",p.className="error_widget "+l.className,p.innerHTML=l.text.join("<br>"),p.appendChild(o.createElement("div"));var m=function(e,t,n){if(t===0&&(n==="esc"||n==="return"))return h.destroy(),{command:"null"}};h.destroy=function(){if(e.$mouseHandler.isMousePressed)return;e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(h),e.off("changeSelection",h.destroy),e.off("changeSession",h.destroy),e.off("mouseup",h.destroy),e.off("change",h.destroy)},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",h.destroy),e.on("changeSession",h.destroy),e.on("mouseup",h.destroy),e.on("change",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},o.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,n){e("./regexp"),e("./es5-shim")}),define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,n){function r(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.detach=this.detach.bind(this),this.session.on("change",this.updateOnChange)}var i=e("./lib/oop"),s=e("./lib/dom"),o=e("./range").Range;(function(){this.getRowLength=function(e){var t;return this.lineWidgets?t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:t=0,!this.$useWrapMode||!this.$wrapData[e]?1+t:this.$wrapData[e].length+1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&(e+=t.rowCount)}),e},this.attach=function(e){e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach();if(this.editor==e)return;this.detach(),this.editor=e,this.editor.on("changeSession",this.detach),e.widgetManager=this,e.setOption("enableLineWidgets",!0),e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)},this.detach=function(e){if(e&&e.session==this.session)return;var t=this.editor;if(!t)return;t.off("changeSession",this.detach),this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(!t)return;var n=e.data,r=n.range,i=r.start.row,s=r.end.row-i;if(s!==0)if(n.action=="removeText"||n.action=="removeLines"){var o=t.splice(i+1,s);o.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var u=new Array(s);u.unshift(i,0),t.splice.apply(t,u),this.$updateRows()}},this.$updateRows=function(){var e=this.session.lineWidgets;if(!e)return;var t=!0;e.forEach(function(e,n){e&&(t=!1,e.row=n)}),t&&(this.session.lineWidgets=null)},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength())),this.session.lineWidgets[e.row]=e;var t=this.editor.renderer;return e.html&&!e.el&&(e.el=s.createElement("div"),e.el.innerHTML=e.html),e.el&&(s.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight||(e.pixelHeight=e.el.offsetHeight),e.rowCount==null&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),e},this.removeLineWidget=function(e){e._inDocument=!1,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el);if(e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(t){}this.session.lineWidgets&&(this.session.lineWidgets[e.row]=undefined),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(!n||!n.length)return;var i=Infinity;for(var s=0;s<n.length;s++){var o=n[s];o._inDocument||(o._inDocument=!0,t.container.appendChild(o.el)),o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/r.characterWidth));var u=o.h/r.lineHeight;o.coverLine&&(u-=this.session.getRowLineCount(o.row),u<0&&(u=0)),o.rowCount!=u&&(o.rowCount=u,o.row<i&&(i=o.row))}i!=Infinity&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(!r)return;var i=Math.min(this.firstRow,n.firstRow),s=Math.max(this.lastRow,n.lastRow,r.length);while(i>0&&!r[i])i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var o=i;o<=s;o++){var u=r[o];if(!u||!u.el)continue;u._inDocument||(u._inDocument=!0,t.container.appendChild(u.el));var a=t.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;u.coverLine||(a+=n.lineHeight*this.session.getRowLineCount(u.row)),u.el.style.top=a-n.offset+"px";var f=u.coverGutter?0:t.gutterWidth;u.fixedWidth||(f-=t.scrollLeft),u.el.style.left=f+"px",u.fixedWidth?u.el.style.right=t.scrollBar.getWidth()+"px":u.el.style.right=""}}}).call(r.prototype),t.LineWidgets=r}),define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,n){var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,o=e("./anchor").Anchor,u=function(e){this.$lines=[],e.length===0?this.$lines=[""]:Array.isArray(e)?this._insertLines(0,e):this.insert({row:0,column:0},e)};(function(){r.implement(this,i),this.setValue=function(e){var t=this.getLength();this.remove(new s(0,0,t,this.getLine(t-1).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new o(this,e,t)},"aaa".split(/a/).length===0?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){if(this.$newLineMode===e)return;this.$newLineMode=e,this._signal("changeNewLineMode")},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return e=="\r\n"||e=="\r"||e=="\n"},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){if(e.start.row==e.end.row)return this.getLine(e.start.row).substring(e.start.column,e.end.column);var t=this.getLines(e.start.row,e.end.row);t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;return e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column)),t.join(this.getNewLineCharacter())},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):e.row<0&&(e.row=0),e},this.insert=function(e,t){if(!t||t.length===0)return e;e=this.$clipPosition(e),this.getLength()<=1&&this.$detectNewLine(t);var n=this.$split(t),r=n.splice(0,1)[0],i=n.length==0?null:n.splice(n.length-1,1)[0];return e=this.insertInLine(e,r),i!==null&&(e=this.insertNewLine(e),e=this._insertLines(e.row,n),e=this.insertInLine(e,i||"")),e},this.insertLines=function(e,t){return e>=this.getLength()?this.insert({row:e,column:0},"\n"+t.join("\n")):this._insertLines(Math.max(e,0),t)},this._insertLines=function(e,t){if(t.length==0)return{row:e,column:0};while(t.length>61440){var n=this._insertLines(e,t.slice(0,61440));t=t.slice(61440),e=n.row}var r=[e,0];r.push.apply(r,t),this.$lines.splice.apply(this.$lines,r);var i=new s(e,0,e+t.length,0),o={action:"insertLines",range:i,lines:t};return this._signal("change",{data:o}),i.end},this.insertNewLine=function(e){e=this.$clipPosition(e);var t=this.$lines[e.row]||"";this.$lines[e.row]=t.substring(0,e.column),this.$lines.splice(e.row+1,0,t.substring(e.column,t.length));var n={row:e.row+1,column:0},r={action:"insertText",range:s.fromPoints(e,n),text:this.getNewLineCharacter()};return this._signal("change",{data:r}),n},this.insertInLine=function(e,t){if(t.length==0)return e;var n=this.$lines[e.row]||"";this.$lines[e.row]=n.substring(0,e.column)+t+n.substring(e.column);var r={row:e.row,column:e.column+t.length},i={action:"insertText",range:s.fromPoints(e,r),text:t};return this._signal("change",{data:i}),r},this.remove=function(e){e instanceof s||(e=s.fromPoints(e.start,e.end)),e.start=this.$clipPosition(e.start),e.end=this.$clipPosition(e.end);if(e.isEmpty())return e.start;var t=e.start.row,n=e.end.row;if(e.isMultiLine()){var r=e.start.column==0?t:t+1,i=n-1;e.end.column>0&&this.removeInLine(n,0,e.end.column),i>=r&&this._removeLines(r,i),r!=t&&(this.removeInLine(t,e.start.column,this.getLine(t).length),this.removeNewLine(e.start.row))}else this.removeInLine(t,e.start.column,e.end.column);return e.start},this.removeInLine=function(e,t,n){if(t==n)return;var r=new s(e,t,e,n),i=this.getLine(e),o=i.substring(t,n),u=i.substring(0,t)+i.substring(n,i.length);this.$lines.splice(e,1,u);var a={action:"removeText",range:r,text:o};return this._signal("change",{data:a}),r.start},this.removeLines=function(e,t){return e<0||t>=this.getLength()?this.remove(new s(e,0,t+1,0)):this._removeLines(e,t)},this._removeLines=function(e,t){var n=new s(e,0,t+1,0),r=this.$lines.splice(e,t-e+1),i={action:"removeLines",range:n,nl:this.getNewLineCharacter(),lines:r};return this._signal("change",{data:i}),r},this.removeNewLine=function(e){var t=this.getLine(e),n=this.getLine(e+1),r=new s(e,t.length,e+1,0),i=t+n;this.$lines.splice(e,2,i);var o={action:"removeText",range:r,text:this.getNewLineCharacter()};this._signal("change",{data:o})},this.replace=function(e,t){e instanceof s||(e=s.fromPoints(e.start,e.end));if(t.length==0&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);if(t)var n=this.insert(e.start,t);else n=e.start;return n},this.applyDeltas=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=s.fromPoints(n.range.start,n.range.end);n.action=="insertLines"?this.insertLines(r.start.row,n.lines):n.action=="insertText"?this.insert(r.start,n.text):n.action=="removeLines"?this._removeLines(r.start.row,r.end.row-1):n.action=="removeText"&&this.remove(r)}},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--){var n=e[t],r=s.fromPoints(n.range.start,n.range.end);n.action=="insertLines"?this._removeLines(r.start.row,r.end.row-1):n.action=="insertText"?this.remove(r):n.action=="removeLines"?this._insertLines(r.start.row,n.lines):n.action=="removeText"&&this.insert(r.start,n.text)}},this.indexToPosition=function(e,t){var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length;for(var i=t||0,s=n.length;i<s;i++){e-=n[i].length+r;if(e<0)return{row:i,column:e+n[i].length+r}}return{row:s-1,column:n[s-1].length}},this.positionToIndex=function(e,t){var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,s=Math.min(e.row,n.length);for(var o=t||0;o<s;++o)i+=n[o].length+r;return i+e.column}}).call(u.prototype),t.Document=u}),function(){window.require(["ace/ace"],function(e){e&&e.config.init(!0),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(ace[t]=e[t])})}(),define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(e,t,n){var r=e("../lib/dom"),i=e("../lib/lang"),s=e("../lib/event"),o="/* ------------------------------------------------------------------------------------------* Editor Search Form* --------------------------------------------------------------------------------------- */.ace_search {background-color: #ddd;border: 1px solid #cbcbcb;border-top: 0 none;max-width: 297px;overflow: hidden;margin: 0;padding: 4px;padding-right: 6px;padding-bottom: 0;position: absolute;top: 0px;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {border-radius: 3px;border: 1px solid #cbcbcb;float: left;margin-bottom: 4px;overflow: hidden;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {background-color: white;border-right: 1px solid #cbcbcb;border: 0 none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;display: block;float: left;height: 22px;outline: 0;padding: 0 7px;width: 214px;margin: 0;}.ace_searchbtn,.ace_replacebtn {background: #fff;border: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;display: block;float: left;height: 22px;margin: 0;padding: 0;position: relative;}.ace_searchbtn:last-child,.ace_replacebtn:last-child {border-top-right-radius: 3px;border-bottom-right-radius: 3px;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn {background-position: 50% 50%;background-repeat: no-repeat;width: 27px;}.ace_searchbtn.prev {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiSU1NZUAC/6E0I0yACYskCpsJiySKIiY0SUZk40FyTEgCjGgKwTRAgAEAQJUIPCE+qfkAAAAASUVORK5CYII=);    }.ace_searchbtn.next {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNpiTE1NZQCC/0DMyIAKwGJMUAYDEo3M/s+EpvM/mkKwCQxYjIeLMaELoLMBAgwAU7UJObTKsvAAAAAASUVORK5CYII=);    }.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;display: block;float: right;font-family: Arial;font-size: 16px;height: 14px;line-height: 16px;margin: 5px 1px 9px 5px;padding: 0;text-align: center;width: 14px;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_replacebtn.prev {width: 54px}.ace_replacebtn.next {width: 27px}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;-moz-box-sizing: border-box;box-sizing:    border-box;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;}",u=e("../keyboard/hash_handler").HashHandler,a=e("../lib/keys");r.importCssString(o,"ace_searchbox");var f='<div class="ace_search right">    <button type="button" action="hide" class="ace_searchbtn_close"></button>    <div class="ace_search_form">        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>        <button type="button" action="findNext" class="ace_searchbtn next"></button>        <button type="button" action="findPrev" class="ace_searchbtn prev"></button>    </div>    <div class="ace_replace_form">        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>        <button type="button" action="replaceAndFindNext" class="ace_replacebtn">Replace</button>        <button type="button" action="replaceAll" class="ace_replacebtn">All</button>    </div>    <div class="ace_search_options">        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>    </div></div>'.replace(/>\s+/g,">"),l=function(e,t,n){var i=r.createElement("div");i.innerHTML=f,this.element=i.firstChild,this.$init(),this.setEditor(e)};(function(){this.setEditor=function(e){e.searchBox=this,e.container.appendChild(this.element),this.editor=e},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.searchOptions=e.querySelector(".ace_search_options"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field")},this.$init=function(){var e=this.element;this.$initElements(e);var t=this;s.addListener(e,"mousedown",function(e){setTimeout(function(){t.activeInput.focus()},0),s.stopPropagation(e)}),s.addListener(e,"click",function(e){var n=e.target||e.srcElement,r=n.getAttribute("action");r&&t[r]?t[r]():t.$searchBarKb.commands[r]&&t.$searchBarKb.commands[r].exec(t),s.stopPropagation(e)}),s.addCommandKeyListener(e,function(e,n,r){var i=a.keyCodeToString(r),o=t.$searchBarKb.findKeyCommand(n,i);o&&o.exec&&(o.exec(t),s.stopEvent(e))}),this.$onChange=i.delayedCall(function(){t.find(!1,!1)}),s.addListener(this.searchInput,"input",function(){t.$onChange.schedule(20)}),s.addListener(this.searchInput,"focus",function(){t.activeInput=t.searchInput,t.searchInput.value&&t.highlight()}),s.addListener(this.replaceInput,"focus",function(){t.activeInput=t.replaceInput,t.searchInput.value&&t.highlight()})},this.$closeSearchBarKb=new u([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new u,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f|Ctrl-H|Command-Option-F":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e[t?"replaceInput":"searchInput"].focus()},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout(function(){e.hide()})},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}}]),this.$syncOptions=function(){r.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),r.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),r.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked),this.find(!1,!1)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t){var n=this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),i=!n&&this.searchInput.value;r.setCssClass(this.searchBox,"ace_nomatch",i),this.editor._emit("findSearchBox",{match:!i}),this.highlight()},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(e,t){this.element.style.display="",this.replaceBox.style.display=t?"":"none",this.isReplace=t,e&&(this.searchInput.value=e),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb)}}).call(l.prototype),t.SearchBox=l,t.Search=function(e,t){var n=e.searchBox||new l(e);n.show(e.session.getTextRange(),t)}}),function(){window.require(["ace/ext/searchbox"],function(){})}(),define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(e,t,n){var r=e("../lib/oop"),i=e("./text").Mode,s=e("./json_highlight_rules").JsonHighlightRules,o=e("./matching_brace_outdent").MatchingBraceOutdent,u=e("./behaviour/cstyle").CstyleBehaviour,a=e("./folding/cstyle").FoldMode,f=e("../worker/worker_client").WorkerClient,l=function(){this.HighlightRules=s,this.$outdent=new o,this.$behaviour=new u,this.foldingRules=new a};r.inherits(l,i),function(){this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t);if(e=="start"){var i=t.match(/^.*[\{\(\[]\s*$/);i&&(r+=n)}return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new f(["ace"],"ace/mode/json_worker","JsonWorker");return t.attachToDocument(e.getDocument()),t.on("error",function(t){e.setAnnotations([t.data])}),t.on("ok",function(){e.clearAnnotations()}),t},this.$id="ace/mode/json"}.call(l.prototype),t.Mode=l}),define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'[^"\\\\]+'},{token:"string",regex:'"',next:"start"},{token:"string",regex:"",next:"start"}]}};r.inherits(s,i),t.JsonHighlightRules=s}),define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){var r=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return/^\s+$/.test(e)?/^\s*\}/.test(t):!1},this.autoOutdent=function(e,t){var n=e.getLine(t),i=n.match(/^(\s*\})/);if(!i)return 0;var s=i[1].length,o=e.findMatchingBracket({row:t,column:s});if(!o||o.row==t)return 0;var u=this.$getIndent(e.getLine(o.row));e.replace(new r(t,0,t,s-1),u)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i}),define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){var r=e("../../lib/oop"),i=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,o=e("../../lib/lang"),u=["text","paren.rparen","punctuation.operator"],a=["text","paren.rparen","punctuation.operator","comment"],f,l={},c=function(e){var t=-1;e.multiSelect&&(t=e.selection.id,l.rangeCount!=e.multiSelect.rangeCount&&(l={rangeCount:e.multiSelect.rangeCount}));if(l[t])return f=l[t];f=l[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},h=function(){this.add("braces","insertion",function(e,t,n,r,i){var s=n.getCursorPosition(),u=r.doc.getLine(s.row);if(i=="{"){c(n);var a=n.getSelectionRange(),l=r.doc.getTextRange(a);if(l!==""&&l!=="{"&&n.getWrapBehavioursEnabled())return{text:"{"+l+"}",selection:!1};if(h.isSaneInsertion(n,r))return/[\]\}\)]/.test(u[s.column])||n.inMultiSelectMode?(h.recordAutoInsert(n,r,"}"),{text:"{}",selection:[1,1]}):(h.recordMaybeInsert(n,r,"{"),{text:"{",selection:[1,1]})}else if(i=="}"){c(n);var p=u.substring(s.column,s.column+1);if(p=="}"){var d=r.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(d!==null&&h.isAutoInsertedClosing(s,u,i))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if(i=="\n"||i=="\r\n"){c(n);var v="";h.isMaybeInsertedClosing(s,u)&&(v=o.stringRepeat("}",f.maybeInsertedBrackets),h.clearMaybeInsertedClosing());var p=u.substring(s.column,s.column+1);if(p==="}"){var m=r.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!m)return null;var g=this.$getIndent(r.getLine(m.row))}else{if(!v){h.clearMaybeInsertedClosing();return}var g=this.$getIndent(u)}var y=g+r.getTabString();return{text:"\n"+y+"\n"+g+v,selection:[1,y.length,1,y.length]}}h.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s=="{"){c(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.end.column,i.end.column+1);if(u=="}")return i.end.column++,i;f.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,r,i){if(i=="("){c(n);var s=n.getSelectionRange(),o=r.doc.getTextRange(s);if(o!==""&&n.getWrapBehavioursEnabled())return{text:"("+o+")",selection:!1};if(h.isSaneInsertion(n,r))return h.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(i==")"){c(n);var u=n.getCursorPosition(),a=r.doc.getLine(u.row),f=a.substring(u.column,u.column+1);if(f==")"){var l=r.$findOpeningBracket(")",{column:u.column+1,row:u.row});if(l!==null&&h.isAutoInsertedClosing(u,a,i))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s=="("){c(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u==")")return i.end.column++,i}}),this.add("brackets","insertion",function(e,t,n,r,i){if(i=="["){c(n);var s=n.getSelectionRange(),o=r.doc.getTextRange(s);if(o!==""&&n.getWrapBehavioursEnabled())return{text:"["+o+"]",selection:!1};if(h.isSaneInsertion(n,r))return h.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if(i=="]"){c(n);var u=n.getCursorPosition(),a=r.doc.getLine(u.row),f=a.substring(u.column,u.column+1);if(f=="]"){var l=r.$findOpeningBracket("]",{column:u.column+1,row:u.row});if(l!==null&&h.isAutoInsertedClosing(u,a,i))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s=="["){c(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u=="]")return i.end.column++,i}}),this.add("string_dquotes","insertion",function(e,t,n,r,i){if(i=='"'||i=="'"){c(n);var s=i,o=n.getSelectionRange(),u=r.doc.getTextRange(o);if(u!==""&&u!=="'"&&u!='"'&&n.getWrapBehavioursEnabled())return{text:s+u+s,selection:!1};var a=n.getCursorPosition(),f=r.doc.getLine(a.row),l=f.substring(a.column-1,a.column);if(l=="\\")return null;var p=r.getTokens(o.start.row),d=0,v,m=-1;for(var g=0;g<p.length;g++){v=p[g],v.type=="string"?m=-1:m<0&&(m=v.value.indexOf(s));if(v.value.length+d>o.start.column)break;d+=p[g].value.length}if(!v||m<0&&v.type!=="comment"&&(v.type!=="string"||o.start.column!==v.value.length+d-1&&v.value.lastIndexOf(s)===v.value.length-1)){if(!h.isSaneInsertion(n,r))return;return{text:s+s,selection:[1,1]}}if(v&&v.type==="string"){var y=f.substring(a.column,a.column+1);if(y==s)return{text:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&(s=='"'||s=="'")){c(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u==s)return i.end.column++,i}})};h.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new s(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",u)){var i=new s(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",u))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",a)},h.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},h.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),i=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,i,f.autoInsertedLineEnd[0])||(f.autoInsertedBrackets=0),f.autoInsertedRow=r.row,f.autoInsertedLineEnd=n+i.substr(r.column),f.autoInsertedBrackets++},h.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),i=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,i)||(f.maybeInsertedBrackets=0),f.maybeInsertedRow=r.row,f.maybeInsertedLineStart=i.substr(0,r.column)+n,f.maybeInsertedLineEnd=i.substr(r.column),f.maybeInsertedBrackets++},h.isAutoInsertedClosing=function(e,t,n){return f.autoInsertedBrackets>0&&e.row===f.autoInsertedRow&&n===f.autoInsertedLineEnd[0]&&t.substr(e.column)===f.autoInsertedLineEnd},h.isMaybeInsertedClosing=function(e,t){return f.maybeInsertedBrackets>0&&e.row===f.maybeInsertedRow&&t.substr(e.column)===f.maybeInsertedLineEnd&&t.substr(0,e.column)==f.maybeInsertedLineStart},h.popAutoInsertedClosing=function(){f.autoInsertedLineEnd=f.autoInsertedLineEnd.substr(1),f.autoInsertedBrackets--},h.clearMaybeInsertedClosing=function(){f&&(f.maybeInsertedBrackets=0,f.maybeInsertedRow=-1)},r.inherits(h,i),t.CstyleBehaviour=h}),define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){var r=e("../../lib/oop"),i=e("../../range").Range,s=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(o,s),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(e,t,n,r){var i=e.getLine(n),s=i.match(this.foldingStartMarker);if(s){var o=s.index;if(s[1])return this.openingBracketBlock(e,s[1],n,o);var u=e.getCommentFoldRange(n,o+s[0].length,1);return u&&!u.isMultiLine()&&(r?u=this.getSectionRange(e,n):t!="all"&&(u=null)),u}if(t==="markbegin")return;var s=i.match(this.foldingStopMarker);if(s){var o=s.index+s[0].length;return s[1]?this.closingBracketBlock(e,s[1],n,o):e.getCommentFoldRange(n,o,-1)}},this.getSectionRange=function(e,t){var n=e.getLine(t),r=n.search(/\S/),s=t,o=n.length;t+=1;var u=t,a=e.getLength();while(++t<a){n=e.getLine(t);var f=n.search(/\S/);if(f===-1)continue;if(r>f)break;var l=this.getFoldWidgetRange(e,"all",t);if(l){if(l.start.row<=s)break;if(l.isMultiLine())t=l.end.row;else if(r==f)break}u=t}return new i(s,o,u,e.getLine(u).length)}}.call(o.prototype)}),define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)}),define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!1,t.cssClass="ace-jsoneditor",t.cssText='.ace-jsoneditor .ace_gutter {background: #ebebeb;color: #333}.ace-jsoneditor.ace_editor {font-family: droid sans mono, monospace, courier new, courier, sans-serif;line-height: 1.3;}.ace-jsoneditor .ace_print-margin {width: 1px;background: #e8e8e8}.ace-jsoneditor .ace_scroller {background-color: #FFFFFF}.ace-jsoneditor .ace_text-layer {color: gray}.ace-jsoneditor .ace_variable {color: #1a1a1a}.ace-jsoneditor .ace_cursor {border-left: 2px solid #000000}.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {border-left: 0px;border-bottom: 1px solid #000000}.ace-jsoneditor .ace_marker-layer .ace_selection {background: #D5DDF6}.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FFFFFF;border-radius: 2px}.ace-jsoneditor .ace_marker-layer .ace_step {background: rgb(255, 255, 0)}.ace-jsoneditor .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF}.ace-jsoneditor .ace_marker-layer .ace_active-line {background: #FFFBD1}.ace-jsoneditor .ace_gutter-active-line {background-color : #dcdcdc}.ace-jsoneditor .ace_marker-layer .ace_selected-word {border: 1px solid #D5DDF6}.ace-jsoneditor .ace_invisible {color: #BFBFBF}.ace-jsoneditor .ace_keyword,.ace-jsoneditor .ace_meta,.ace-jsoneditor .ace_support.ace_constant.ace_property-value {color: #AF956F}.ace-jsoneditor .ace_keyword.ace_operator {color: #484848}.ace-jsoneditor .ace_keyword.ace_other.ace_unit {color: #96DC5F}.ace-jsoneditor .ace_constant.ace_language {color: darkorange}.ace-jsoneditor .ace_constant.ace_numeric {color: red}.ace-jsoneditor .ace_constant.ace_character.ace_entity {color: #BF78CC}.ace-jsoneditor .ace_invalid {color: #FFFFFF;background-color: #FF002A;}.ace-jsoneditor .ace_fold {background-color: #AF956F;border-color: #000000}.ace-jsoneditor .ace_storage,.ace-jsoneditor .ace_support.ace_class,.ace-jsoneditor .ace_support.ace_function,.ace-jsoneditor .ace_support.ace_other,.ace-jsoneditor .ace_support.ace_type {color: #C52727}.ace-jsoneditor .ace_string {color: green}.ace-jsoneditor .ace_comment {color: #BCC8BA}.ace-jsoneditor .ace_entity.ace_name.ace_tag,.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {color: #606060}.ace-jsoneditor .ace_markup.ace_underline {text-decoration: underline}.ace-jsoneditor .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y}';var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)}),define("ace",function(){}),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("jsonEditor",t):"object"==typeof exports?exports.JSONEditor=t():e.JSONEditor=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var s=n[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r,i;r=[n(1),n(2),n(3)],i=function(e,t,n){function r(e,t,i){if(!(this instanceof r))throw new Error('JSONEditor constructor called without "new".');var s=n.getInternetExplorerVersion();if(-1!=s&&9>s)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");arguments.length&&this._create(e,t,i)}return r.modes={},r.prototype._create=function(e,t,n){this.container=e,this.options=t||{},this.json=n||{};var r=this.options.mode||"tree";this.setMode(r)},r.prototype._delete=function(){},r.prototype.set=function(e){this.json=e},r.prototype.get=function(){return this.json},r.prototype.setText=function(e){this.json=n.parse(e)},r.prototype.getText=function(){return JSON.stringify(this.json)},r.prototype.setName=function(e){this.options||(this.options={}),this.options.name=e},r.prototype.getName=function(){return this.options&&this.options.name},r.prototype.setMode=function(e){var t,i,s=this.container,o=n.extend({},this.options);o.mode=e;var u=r.modes[e];if(!u)throw new Error('Unknown mode "'+o.mode+'"');try{var a="text"==u.data;if(i=this.getName(),t=this[a?"getText":"get"](),this._delete(),n.clear(this),n.extend(this,u.mixin),this.create(s,o),this.setName(i),this[a?"setText":"set"](t),"function"==typeof u.load)try{u.load.call(this)}catch(f){}}catch(f){this._onError(f)}},r.prototype._onError=function(e){if("function"==typeof this.onError&&(n.log("WARNING: JSONEditor.onError is deprecated. Use options.error instead."),this.onError(e)),!this.options||"function"!=typeof this.options.error)throw e;this.options.error(e)},r.registerMode=function(e){var t,i;if(n.isArray(e))for(t=0;t<e.length;t++)r.registerMode(e[t]);else{if(!("mode"in e))throw new Error('Property "mode" missing');if(!("mixin"in e))throw new Error('Property "mixin" missing');if(!("data"in e))throw new Error('Property "data" missing');var s=e.mode;if(s in r.modes)throw new Error('Mode "'+s+'" already registered');if("function"!=typeof e.mixin.create)throw new Error('Required function "create" missing on mixin');var o=["setMode","registerMode","modes"];for(t=0;t<o.length;t++)if(i=o[t],i in e.mixin)throw new Error('Reserved property "'+i+'" not allowed in mixin');r.modes[s]=e}},r.registerMode(e),r.registerMode(t),r}.apply(t,r),void 0===i||!(e.exports=i)},function(e,t,n){var r,i;r=[n(4),n(5),n(6),n(7),n(8),n(3)],i=function(e,t,n,r,i,s){var o={};o.create=function(n,r){if(!n)throw new Error("No container element provided.");this.container=n,this.dom={},this.highlighter=new e,this.selection=void 0,this._setOptions(r),this.options.history&&"view"!==this.options.mode&&(this.history=new t(this)),this._createFrame(),this._createTable()},o._delete=function(){this.frame&&this.container&&this.frame.parentNode==this.container&&this.container.removeChild(this.frame)},o._setOptions=function(e){if(this.options={search:!0,history:!0,mode:"tree",name:void 0},e)for(var t in e)e.hasOwnProperty(t)&&(this.options[t]=e[t])};var u=void 0,a=null;return o.set=function(e,t){if(t&&(s.log('Warning: second parameter "name" is deprecated. Use setName(name) instead.'),this.options.name=t),e instanceof Function||void 0===e)this.clear();else{this.content.removeChild(this.table);var n={field:this.options.name,value:e},i=new r(this,n);this._setRoot(i);var o=!1;this.node.expand(o),this.content.appendChild(this.table)}this.history&&this.history.clear()},o.get=function(){return u&&u.blur(),this.node?this.node.getValue():void 0},o.getText=function(){return JSON.stringify(this.get())},o.setText=function(e){this.set(s.parse(e))},o.setName=function(e){this.options.name=e,this.node&&this.node.updateField(this.options.name)},o.getName=function(){return this.options.name},o.clear=function(){this.node&&(this.node.collapse(),this.tbody.removeChild(this.node.getDom()),delete this.node)},o._setRoot=function(e){this.clear(),this.node=e,this.tbody.appendChild(e.getDom())},o.search=function(e){var t;return this.node?(this.content.removeChild(this.table),t=this.node.search(e),this.content.appendChild(this.table)):t=[],t},o.expandAll=function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},o.collapseAll=function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},o._onAction=function(e,t){if(this.history&&this.history.add(e,t),this.options.change)try{this.options.change()}catch(n){s.log("Error in change callback: ",n)}},o.startAutoScroll=function(e){var t=this,n=this.content,r=s.getAbsoluteTop(n),i=n.clientHeight,o=r+i,u=24,a=50;this.autoScrollStep=r+u>e&&n.scrollTop>0?(r+u-e)/3:e>o-u&&i+n.scrollTop<n.scrollHeight?(o-u-e)/3:void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval(function(){t.autoScrollStep?n.scrollTop-=t.autoScrollStep:t.stopAutoScroll()},a)):this.stopAutoScroll()},o.stopAutoScroll=function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},o.setSelection=function(e){e&&("scrollTop"in e&&this.content&&(this.content.scrollTop=e.scrollTop),e.range&&s.setSelectionOffset(e.range),e.dom&&e.dom.focus())},o.getSelection=function(){return{dom:a,scrollTop:this.content?this.content.scrollTop:0,range:s.getSelectionOffset()}},o.scrollTo=function(e,t){var n=this.content;if(n){var r=this;r.animateTimeout&&(clearTimeout(r.animateTimeout),delete r.animateTimeout),r.animateCallback&&(r.animateCallback(!1),delete r.animateCallback);var i=n.clientHeight,s=n.scrollHeight-i,o=Math.min(Math.max(e-i/4,0),s),u=function(){var e=n.scrollTop,i=o-e;Math.abs(i)>3?(n.scrollTop+=i/3,r.animateCallback=t,r.animateTimeout=setTimeout(u,50)):(t&&t(!0),n.scrollTop=o,delete r.animateTimeout,delete r.animateCallback)};u()}else t&&t(!1)},o._createFrame=function(){function e(e){t._onEvent(e)}this.frame=document.createElement("div"),this.frame.className="jsoneditor",this.container.appendChild(this.frame);var t=this;this.frame.onclick=function(t){var n=t.target;e(t),"BUTTON"==n.nodeName&&t.preventDefault()},this.frame.oninput=e,this.frame.onchange=e,this.frame.onkeydown=e,this.frame.onkeyup=e,this.frame.oncut=e,this.frame.onpaste=e,this.frame.onmousedown=e,this.frame.onmouseup=e,this.frame.onmouseover=e,this.frame.onmouseout=e,s.addEventListener(this.frame,"focus",e,!0),s.addEventListener(this.frame,"blur",e,!0),this.frame.onfocusin=e,this.frame.onfocusout=e,this.menu=document.createElement("div"),this.menu.className="menu",this.frame.appendChild(this.menu);var r=document.createElement("button");r.className="expand-all",r.title="Expand all fields",r.onclick=function(){t.expandAll()},this.menu.appendChild(r);var o=document.createElement("button");if(o.title="Collapse all fields",o.className="collapse-all",o.onclick=function(){t.collapseAll()},this.menu.appendChild(o),this.history){var u=document.createElement("button");u.className="undo separator",u.title="Undo last action (Ctrl+Z)",u.onclick=function(){t._onUndo()},this.menu.appendChild(u),this.dom.undo=u;var a=document.createElement("button");a.className="redo",a.title="Redo (Ctrl+Shift+Z)",a.onclick=function(){t._onRedo()},this.menu.appendChild(a),this.dom.redo=a,this.history.onChange=function(){u.disabled=!t.history.canUndo(),a.disabled=!t.history.canRedo()},this.history.onChange()}if(this.options&&this.options.modes&&this.options.modes.length){var f=i.create(this,this.options.modes,this.options.mode);this.menu.appendChild(f),this.dom.modeBox=f}this.options.search&&(this.searchBox=new n(this,this.menu))},o._onUndo=function(){this.history&&(this.history.undo(),this.options.change&&this.options.change())},o._onRedo=function(){this.history&&(this.history.redo(),this.options.change&&this.options.change())},o._onEvent=function(e){var t=e.target;"keydown"==e.type&&this._onKeyDown(e),"focus"==e.type&&(a=t);var n=r.getNodeFromTarget(t);n&&n.onEvent(e)},o._onKeyDown=function(e){var t=e.which||e.keyCode,n=e.ctrlKey,r=e.shiftKey,i=!1;if(9==t&&setTimeout(function(){s.selectContentEditable(a)},0),this.searchBox)if(n&&70==t)this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),i=!0;else if(114==t||n&&71==t){var o=!0;r?this.searchBox.previous(o):this.searchBox.next(o),i=!0}this.history&&(n&&!r&&90==t?(this._onUndo(),i=!0):n&&r&&90==t&&(this._onRedo(),i=!0)),i&&(e.preventDefault(),e.stopPropagation())},o._createTable=function(){var e=document.createElement("div");e.className="outer",this.contentOuter=e,this.content=document.createElement("div"),this.content.className="tree",e.appendChild(this.content),this.table=document.createElement("table"),this.table.className="tree",this.content.appendChild(this.table);var t;this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&(t=document.createElement("col"),t.width="24px",this.colgroupContent.appendChild(t)),t=document.createElement("col"),t.width="24px",this.colgroupContent.appendChild(t),t=document.createElement("col"),this.colgroupContent.appendChild(t),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(e)},[{mode:"tree",mixin:o,data:"json"},{mode:"view",mixin:o,data:"json"},{mode:"form",mixin:o,data:"json"}]}.apply(t,r),void 0===i||!(e.exports=i)},function(e,t,n){var r,i;r=[n(8),n(3)],i=function(e,t){var n={};return n.create=function(n,r){r=r||{},this.options=r,this.indentation=r.indentation?Number(r.indentation):2,this.mode="code"==r.mode?"code":"text","code"==this.mode&&"undefined"==typeof ace&&(this.mode="text",t.log("WARNING: Cannot load code editor, Ace library not loaded. Falling back to plain text editor"));var i=this;this.container=n,this.dom={},this.editor=void 0,this.textarea=void 0,this.width=n.clientWidth,this.height=n.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor",this.frame.onclick=function(e){e.preventDefault()},this.menu=document.createElement("div"),this.menu.className="menu",this.frame.appendChild(this.menu);var s=document.createElement("button");s.className="format",s.title="Format JSON data, with proper indentation and line feeds",this.menu.appendChild(s),s.onclick=function(){try{i.format()}catch(e){i._onError(e)}};var o=document.createElement("button");if(o.className="compact",o.title="Compact JSON data, remove all whitespaces",this.menu.appendChild(o),o.onclick=function(){try{i.compact()}catch(e){i._onError(e)}},this.options&&this.options.modes&&this.options.modes.length){var u=e.create(this,this.options.modes,this.options.mode);this.menu.appendChild(u),this.dom.modeBox=u}if(this.content=document.createElement("div"),this.content.className="outer",this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"==this.mode){this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom);var a=ace.edit(this.editorDom);a.setTheme("ace/theme/jsoneditor"),a.setShowPrintMargin(!1),a.setFontSize(13),a.getSession().setMode("ace/mode/json"),a.getSession().setTabSize(2),a.getSession().setUseSoftTabs(!0),a.getSession().setUseWrapMode(!0),this.editor=a;var f=document.createElement("a");f.appendChild(document.createTextNode("powered by ace")),f.href="http://ace.ajax.org",f.target="_blank",f.className="poweredBy",f.onclick=function(){window.open(f.href,f.target)},this.menu.appendChild(f),r.change&&a.on("change",function(){r.change()})}else{var l=document.createElement("textarea");l.className="text",l.spellcheck=!1,this.content.appendChild(l),this.textarea=l,r.change&&(null===this.textarea.oninput?this.textarea.oninput=function(){r.change()}:this.textarea.onchange=function(){r.change()})}},n._delete=function(){this.frame&&this.container&&this.frame.parentNode==this.container&&this.container.removeChild(this.frame)},n._onError=function(e){if("function"==typeof this.onError&&(t.log("WARNING: JSONEditor.onError is deprecated. Use options.error instead."),this.onError(e)),!this.options||"function"!=typeof this.options.error)throw e;this.options.error(e)},n.compact=function(){var e=t.parse(this.getText());this.setText(JSON.stringify(e))},n.format=function(){var e=t.parse(this.getText());this.setText(JSON.stringify(e,null,this.indentation))},n.focus=function(){this.textarea&&this.textarea.focus(),this.editor&&this.editor.focus()},n.resize=function(){if(this.editor){var e=!1;this.editor.resize(e)}},n.set=function(e){this.setText(JSON.stringify(e,null,this.indentation))},n.get=function(){return t.parse(this.getText())},n.getText=function(){return this.textarea?this.textarea.value:this.editor?this.editor.getValue():""},n.setText=function(e){this.textarea&&(this.textarea.value=e),this.editor&&this.editor.setValue(e,-1)},[{mode:"text",mixin:n,data:"text",load:n.format},{mode:"code",mixin:n,data:"text",load:n.format}]}.apply(t,r),void 0===i||!(e.exports=i)},function(e,t,n){var r;r=function(){var e={};e.parse=function(t){try{return JSON.parse(t)}catch(n){try{return e.parseJS(t)}catch(r){throw e.validate(t),n}}},e.parseJS=function(e){for(var t=[],n=!1,r=0;r<e.length;){var i=e.charAt(r),s="\\"===e.charAt(r-1);'"'!==i&&"'"!==i||s||(i===n?n=!1:n?t.push("\\"):n=i),t.push(i),r++}var o=t.join("");return o=o.replace(/(.?)'/g,function(e,t){return"\\"==t?"'":t+'"'}),o=o.replace(/([{,]\s*)([a-zA-Z_][a-zA-Z0-9_]*)(\s*:)/g,function(e,t,n,r){return t+'"'+n+'"'+r}),JSON.parse(o)},e.validate=function(e){"undefined"!=typeof jsonlint?jsonlint.parse(e):JSON.parse(e)},e.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},e.clear=function(e){for(var t in e)e.hasOwnProperty(t)&&delete e[t];return e},e.log=function(){"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)},e.type=function(t){return null===t?"null":void 0===t?"undefined":t instanceof Number||"number"==typeof t?"number":t instanceof String||"string"==typeof t?"string":t instanceof Boolean||"boolean"==typeof t?"boolean":t instanceof RegExp||"regexp"==typeof t?"regexp":e.isArray(t)?"array":"object"};var t=/^https?:\/\/\S+$/;e.isUrl=function(e){return("string"==typeof e||e instanceof String)&&t.test(e)},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.getAbsoluteLeft=function(e){var t=e.getBoundingClientRect();return t.left+window.pageXOffset||document.scrollLeft||0},e.getAbsoluteTop=function(e){var t=e.getBoundingClientRect();return t.top+window.pageYOffset||document.scrollTop||0},e.addClassName=function(e,t){var n=e.className.split(" ");-1==n.indexOf(t)&&(n.push(t),e.className=n.join(" "))},e.removeClassName=function(e,t){var n=e.className.split(" "),r=n.indexOf(t);-1!=r&&(n.splice(r,1),e.className=n.join(" "))},e.stripFormatting=function(t){for(var n=t.childNodes,r=0,i=n.length;i>r;r++){var s=n[r];s.style&&s.removeAttribute("style");var o=s.attributes;if(o)for(var u=o.length-1;u>=0;u--){var a=o[u];1==a.specified&&s.removeAttribute(a.name)}e.stripFormatting(s)}},e.setEndOfContentEditable=function(e){var t,n;document.createRange&&(t=document.createRange(),t.selectNodeContents(e),t.collapse(!1),n=window.getSelection(),n.removeAllRanges(),n.addRange(t))},e.selectContentEditable=function(e){if(e&&"DIV"==e.nodeName){var t,n;window.getSelection&&document.createRange&&(n=document.createRange(),n.selectNodeContents(e),t=window.getSelection(),t.removeAllRanges(),t.addRange(n))}},e.getSelection=function(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}return null},e.setSelection=function(e){if(e&&window.getSelection){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}},e.getSelectionOffset=function(){var t=e.getSelection();return t&&"startOffset"in t&&"endOffset"in t&&t.startContainer&&t.startContainer==t.endContainer?{startOffset:t.startOffset,endOffset:t.endOffset,container:t.startContainer.parentNode}:null},e.setSelectionOffset=function(t){if(document.createRange&&window.getSelection){var n=window.getSelection();if(n){var r=document.createRange();r.setStart(t.container.firstChild,t.startOffset),r.setEnd(t.container.firstChild,t.endOffset),e.setSelection(r)}}},e.getInnerText=function(t,n){var r=void 0==n;if(r&&(n={text:"",flush:function(){var e=this.text;return this.text="",e},set:function(e){this.text=e}}),t.nodeValue)return n.flush()+t.nodeValue;if(t.hasChildNodes()){for(var i=t.childNodes,s="",o=0,u=i.length;u>o;o++){var a=i[o];if("DIV"==a.nodeName||"P"==a.nodeName){var f=i[o-1],l=f?f.nodeName:void 0;l&&"DIV"!=l&&"P"!=l&&"BR"!=l&&(s+="\n",n.flush()),s+=e.getInnerText(a,n),n.set("\n")}else"BR"==a.nodeName?(s+=n.flush(),n.set("\n")):s+=e.getInnerText(a,n)}return s}return"P"==t.nodeName&&-1!=e.getInternetExplorerVersion()?n.flush():""},e.getInternetExplorerVersion=function(){if(-1==n){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,r=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=r.exec(t)&&(e=parseFloat(RegExp.$1))}n=e}return n},e.isFirefox=function(){return-1!=navigator.userAgent.indexOf("Firefox")};var n=-1;return e.addEventListener=function(t,n,r,i){if(t.addEventListener)return void 0===i&&(i=!1),"mousewheel"===n&&e.isFirefox()&&(n="DOMMouseScroll"),t.addEventListener(n,r,i),r;if(t.attachEvent){var s=function(){return r.call(t,window.event)};return t.attachEvent("on"+n,s),s}},e.removeEventListener=function(t,n,r,i){t.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===n&&e.isFirefox()&&(n="DOMMouseScroll"),t.removeEventListener(n,r,i)):t.detachEvent&&t.detachEvent("on"+n,r)},e}.call(t,n,t,e),void 0===r||!(e.exports=r)},function(e,t,n){var r;r=function(){function e(){this.locked=!1}return e.prototype.highlight=function(e){this.locked||(this.node!=e&&(this.node&&this.node.setHighlight(!1),this.node=e,this.node.setHighlight(!0)),this._cancelUnhighlight())},e.prototype.unhighlight=function(){if(!this.locked){var e=this;this.node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout(function(){e.node.setHighlight(!1),e.node=void 0,e.unhighlightTimer=void 0},0))}},e.prototype._cancelUnhighlight=function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)},e.prototype.lock=function(){this.locked=!0},e.prototype.unlock=function(){this.locked=!1},e}.call(t,n,t,e),void 0===r||!(e.exports=r)},function(e,t,n){var r,i;r=[n(3)],i=function(e){function t(e){this.editor=e,this.clear(),this.actions={editField:{undo:function(e){e.node.updateField(e.oldValue)},redo:function(e){e.node.updateField(e.newValue)}},editValue:{undo:function(e){e.node.updateValue(e.oldValue)},redo:function(e){e.node.updateValue(e.newValue)}},appendNode:{undo:function(e){e.parent.removeChild(e.node)},redo:function(e){e.parent.appendChild(e.node)}},insertBeforeNode:{undo:function(e){e.parent.removeChild(e.node)},redo:function(e){e.parent.insertBefore(e.node,e.beforeNode)}},insertAfterNode:{undo:function(e){e.parent.removeChild(e.node)},redo:function(e){e.parent.insertAfter(e.node,e.afterNode)}},removeNode:{undo:function(e){var t=e.parent,n=t.childs[e.index]||t.append;t.insertBefore(e.node,n)},redo:function(e){e.parent.removeChild(e.node)}},duplicateNode:{undo:function(e){e.parent.removeChild(e.clone)},redo:function(e){e.parent.insertAfter(e.clone,e.node)}},changeType:{undo:function(e){e.node.changeType(e.oldType)},redo:function(e){e.node.changeType(e.newType)}},moveNode:{undo:function(e){e.startParent.moveTo(e.node,e.startIndex)},redo:function(e){e.endParent.moveTo(e.node,e.endIndex)}},sort:{undo:function(e){var t=e.node;t.hideChilds(),t.sort=e.oldSort,t.childs=e.oldChilds,t.showChilds()},redo:function(e){var t=e.node;t.hideChilds(),t.sort=e.newSort,t.childs=e.newChilds,t.showChilds()}}}}return t.prototype.onChange=function(){},t.prototype.add=function(e,t){this.index++,this.history[this.index]={action:e,params:t,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()},t.prototype.clear=function(){this.history=[],this.index=-1,this.onChange()},t.prototype.canUndo=function(){return this.index>=0},t.prototype.canRedo=function(){return this.index<this.history.length-1},t.prototype.undo=function(){if(this.canUndo()){var t=this.history[this.index];if(t){var n=this.actions[t.action];n&&n.undo?(n.undo(t.params),t.params.oldSelection&&this.editor.setSelection(t.params.oldSelection)):e.log('Error: unknown action "'+t.action+'"')}this.index--,this.onChange()}},t.prototype.redo=function(){if(this.canRedo()){this.index++;var t=this.history[this.index];if(t){var n=this.actions[t.action];n&&n.redo?(n.redo(t.params),t.params.newSelection&&this.editor.setSelection(t.params.newSelection)):e.log('Error: unknown action "'+t.action+'"')}this.onChange()}},t}.apply(t,r),void 0===i||!(e.exports=i)},function(e,t,n){var r;r=function(){function e(e,t){var n=this;this.editor=e,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.dom={},this.dom.container=t;var r=document.createElement("table");this.dom.table=r,r.className="search",t.appendChild(r);var i=document.createElement("tbody");this.dom.tbody=i,r.appendChild(i);var s=document.createElement("tr");i.appendChild(s);var o=document.createElement("td");s.appendChild(o);var u=document.createElement("div");this.dom.results=u,u.className="results",o.appendChild(u),o=document.createElement("td"),s.appendChild(o);var a=document.createElement("div");this.dom.input=a,a.className="frame",a.title="Search fields and values",o.appendChild(a);var f=document.createElement("table");a.appendChild(f);var l=document.createElement("tbody");f.appendChild(l),s=document.createElement("tr"),l.appendChild(s);var c=document.createElement("button");c.className="refresh",o=document.createElement("td"),o.appendChild(c),s.appendChild(o);var h=document.createElement("input");this.dom.search=h,h.oninput=function(e){n._onDelayedSearch(e)},h.onchange=function(e){n._onSearch(e)},h.onkeydown=function(e){n._onKeyDown(e)},h.onkeyup=function(e){n._onKeyUp(e)},c.onclick=function(){h.select()},o=document.createElement("td"),o.appendChild(h),s.appendChild(o);var p=document.createElement("button");p.title="Next result (Enter)",p.className="next",p.onclick=function(){n.next()},o=document.createElement("td"),o.appendChild(p),s.appendChild(o);var d=document.createElement("button");d.title="Previous result (Shift+Enter)",d.className="previous",d.onclick=function(){n.previous()},o=document.createElement("td"),o.appendChild(d),s.appendChild(o)}return e.prototype.next=function(e){if(void 0!=this.results){var t=void 0!=this.resultIndex?this.resultIndex+1:0;t>this.results.length-1&&(t=0),this._setActiveResult(t,e)}},e.prototype.previous=function(e){if(void 0!=this.results){var t=this.results.length-1,n=void 0!=this.resultIndex?this.resultIndex-1:t;0>n&&(n=t),this._setActiveResult(n,e)}},e.prototype._setActiveResult=function(e,t){if(this.activeResult){var n=this.activeResult.node,r=this.activeResult.elem;"field"==r?delete n.searchFieldActive:delete n.searchValueActive,n.updateDom()}if(!this.results||!this.results[e])return this.resultIndex=void 0,void (this.activeResult=void 0);this.resultIndex=e;var i=this.results[this.resultIndex].node,s=this.results[this.resultIndex].elem;"field"==s?i.searchFieldActive=!0:i.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],i.updateDom(),i.scrollTo(function(){t&&i.focus(s)})},e.prototype._clearDelay=function(){void 0!=this.timeout&&(clearTimeout(this.timeout),delete this.timeout)},e.prototype._onDelayedSearch=function(){this._clearDelay();var e=this;this.timeout=setTimeout(function(t){e._onSearch(t)},this.delay)},e.prototype._onSearch=function(e,t){this._clearDelay();var n=this.dom.search.value,r=n.length>0?n:void 0;if(r!=this.lastText||t)if(this.lastText=r,this.results=this.editor.search(r),this._setActiveResult(void 0),void 0!=r){var i=this.results.length;switch(i){case 0:this.dom.results.innerHTML="no&nbsp;results";break;case 1:this.dom.results.innerHTML="1&nbsp;result";break;default:this.dom.results.innerHTML=i+"&nbsp;results"}}else this.dom.results.innerHTML=""},e.prototype._onKeyDown=function(e){var t=e.which;27==t?(this.dom.search.value="",this._onSearch(e),e.preventDefault(),e.stopPropagation()):13==t&&(e.ctrlKey?this._onSearch(e,!0):e.shiftKey?this.previous():this.next(),e.preventDefault(),e.stopPropagation())},e.prototype._onKeyUp=function(e){var t=e.keyCode;27!=t&&13!=t&&this._onDelayedSearch(e)},e}.call(t,n,t,e),void 0===r||!(e.exports=r)},function(e,t,n){var r,i;r=[n(9),n(10),n(3)],i=function(e,t,n){function r(e,t){this.editor=e,this.dom={},this.expanded=!1,t&&t instanceof Object?(this.setField(t.field,t.fieldEditable),this.setValue(t.value,t.type)):(this.setField(""),this.setValue(null))}r.prototype._updateEditability=function(){if(this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,"tree"===this.editor.options.mode&&"function"==typeof this.editor.options.editable)){var e=this.editor.options.editable({field:this.field,value:this.value,path:this.path()});"boolean"==typeof e?(this.editable.field=e,this.editable.value=e):("boolean"==typeof e.field&&(this.editable.field=e.field),"boolean"==typeof e.value&&(this.editable.value=e.value))}},r.prototype.path=function(){for(var e=this,t=[];e;){var n=e.field||e.index;void 0!==n&&t.unshift(n),e=e.parent}return t},r.prototype.setParent=function(e){this.parent=e},r.prototype.setField=function(e,t){this.field=e,this.fieldEditable=1==t},r.prototype.getField=function(){return void 0===this.field&&this._getDomField(),this.field},r.prototype.setValue=function(e,t){var n,i,s=this.childs;if(s)for(;s.length;)this.removeChild(s[0]);if(this.type=this._getType(e),t&&t!=this.type){if("string"!=t||"auto"!=this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+t+'"');this.type=t}if("array"==this.type){this.childs=[];for(var o=0,u=e.length;u>o;o++)n=e[o],void 0===n||n instanceof Function||(i=new r(this.editor,{value:n}),this.appendChild(i));this.value=""}else if("object"==this.type){this.childs=[];for(var a in e)e.hasOwnProperty(a)&&(n=e[a],void 0===n||n instanceof Function||(i=new r(this.editor,{field:a,value:n}),this.appendChild(i)));this.value=""}else this.childs=void 0,this.value=e},r.prototype.getValue=function(){if("array"==this.type){var e=[];return this.childs.forEach(function(t){e.push(t.getValue())}),e}if("object"==this.type){var t={};return this.childs.forEach(function(e){t[e.getField()]=e.getValue()}),t}return void 0===this.value&&this._getDomValue(),this.value},r.prototype.getLevel=function(){return this.parent?this.parent.getLevel()+1:0},r.prototype.clone=function(){var e=new r(this.editor);if(e.type=this.type,e.field=this.field,e.fieldInnerText=this.fieldInnerText,e.fieldEditable=this.fieldEditable,e.value=this.value,e.valueInnerText=this.valueInnerText,e.expanded=this.expanded,this.childs){var t=[];this.childs.forEach(function(n){var r=n.clone();r.setParent(e),t.push(r)}),e.childs=t}else e.childs=void 0;return e},r.prototype.expand=function(e){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="expanded"),this.showChilds(),0!=e&&this.childs.forEach(function(t){t.expand(e)}))},r.prototype.collapse=function(e){this.childs&&(this.hideChilds(),0!=e&&this.childs.forEach(function(t){t.collapse(e)}),this.dom.expand&&(this.dom.expand.className="collapsed"),this.expanded=!1)},r.prototype.showChilds=function(){var e=this.childs;if(e&&this.expanded){var t=this.dom.tr,n=t?t.parentNode:void 0;if(n){var r=this.getAppend(),i=t.nextSibling;i?n.insertBefore(r,i):n.appendChild(r),this.childs.forEach(function(e){n.insertBefore(e.getDom(),r),e.showChilds()})}}},r.prototype.hide=function(){var e=this.dom.tr,t=e?e.parentNode:void 0;t&&t.removeChild(e),this.hideChilds()},r.prototype.hideChilds=function(){var e=this.childs;if(e&&this.expanded){var t=this.getAppend();t.parentNode&&t.parentNode.removeChild(t),this.childs.forEach(function(e){e.hide()})}},r.prototype.appendChild=function(e){if(this._hasChilds()){if(e.setParent(this),e.fieldEditable="object"==this.type,"array"==this.type&&(e.index=this.childs.length),this.childs.push(e),this.expanded){var t=e.getDom(),n=this.getAppend(),r=n?n.parentNode:void 0;n&&r&&r.insertBefore(t,n),e.showChilds()}this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})}},r.prototype.moveBefore=function(e,t){if(this._hasChilds()){var n=this.dom.tr?this.dom.tr.parentNode:void 0;if(n){var r=document.createElement("tr");r.style.height=n.clientHeight+"px",n.appendChild(r)}e.parent&&e.parent.removeChild(e),t instanceof i?this.appendChild(e):this.insertBefore(e,t),n&&n.removeChild(r)}},r.prototype.moveTo=function(e,t){if(e.parent==this){var n=this.childs.indexOf(e);t>n&&t++}var r=this.childs[t]||this.append;this.moveBefore(e,r)},r.prototype.insertBefore=function(e,t){if(this._hasChilds()){if(t==this.append)e.setParent(this),e.fieldEditable="object"==this.type,this.childs.push(e);else{var n=this.childs.indexOf(t);if(-1==n)throw new Error("Node not found");e.setParent(this),e.fieldEditable="object"==this.type,this.childs.splice(n,0,e)}if(this.expanded){var r=e.getDom(),i=t.getDom(),s=i?i.parentNode:void 0;i&&s&&s.insertBefore(r,i),e.showChilds()}this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})}},r.prototype.insertAfter=function(e,t){if(this._hasChilds()){var n=this.childs.indexOf(t),r=this.childs[n+1];r?this.insertBefore(e,r):this.appendChild(e)}},r.prototype.search=function(e){var t,n=[],r=e?e.toLowerCase():void 0;if(delete this.searchField,delete this.searchValue,void 0!=this.field){var i=String(this.field).toLowerCase();t=i.indexOf(r),-1!=t&&(this.searchField=!0,n.push({node:this,elem:"field"})),this._updateDomField()}if(this._hasChilds()){if(this.childs){var s=[];this.childs.forEach(function(t){s=s.concat(t.search(e))}),n=n.concat(s)}if(void 0!=r){var o=!1;0==s.length?this.collapse(o):this.expand(o)}}else{if(void 0!=this.value){var u=String(this.value).toLowerCase();t=u.indexOf(r),-1!=t&&(this.searchValue=!0,n.push({node:this,elem:"value"}))}this._updateDomValue()}return n},r.prototype.scrollTo=function(e){if(!this.dom.tr||!this.dom.tr.parentNode)for(var t=this.parent,n=!1;t;)t.expand(n),t=t.parent;this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,e)},r.focusElement=void 0,r.prototype.focus=function(e){if(r.focusElement=e,this.dom.tr&&this.dom.tr.parentNode){var t=this.dom;switch(e){case"drag":t.drag?t.drag.focus():t.menu.focus();break;case"menu":t.menu.focus();break;case"expand":this._hasChilds()?t.expand.focus():t.field&&this.fieldEditable?(t.field.focus(),n.selectContentEditable(t.field)):t.value&&!this._hasChilds()?(t.value.focus(),n.selectContentEditable(t.value)):t.menu.focus();break;case"field":t.field&&this.fieldEditable?(t.field.focus(),n.selectContentEditable(t.field)):t.value&&!this._hasChilds()?(t.value.focus(),n.selectContentEditable(t.value)):this._hasChilds()?t.expand.focus():t.menu.focus();break;case"value":default:t.value&&!this._hasChilds()?(t.value.focus(),n.selectContentEditable(t.value)):t.field&&this.fieldEditable?(t.field.focus(),n.selectContentEditable(t.field)):this._hasChilds()?t.expand.focus():t.menu.focus()}}},r.select=function(e){setTimeout(function(){n.selectContentEditable(e)},0)},r.prototype.blur=function(){this._getDomValue(!1),this._getDomField(!1)},r.prototype._duplicate=function(e){var t=e.clone();return this.insertAfter(t,e),t},r.prototype.containsNode=function(e){if(this==e)return!0;var t=this.childs;if(t)for(var n=0,r=t.length;r>n;n++)if(t[n].containsNode(e))return!0;return!1},r.prototype._move=function(e,t){if(e!=t){if(e.containsNode(this))throw new Error("Cannot move a field into a child of itself");e.parent&&e.parent.removeChild(e);var n=e.clone();e.clearDom(),t?this.insertBefore(n,t):this.appendChild(n)}},r.prototype.removeChild=function(e){if(this.childs){var t=this.childs.indexOf(e);if(-1!=t){e.hide(),delete e.searchField,delete e.searchValue;var n=this.childs.splice(t,1)[0];return this.updateDom({updateIndexes:!0}),n}}return void 0},r.prototype._remove=function(e){this.removeChild(e)},r.prototype.changeType=function(e){var t=this.type;if(t!=e){if("string"!=e&&"auto"!=e||"string"!=t&&"auto"!=t){var n,r=this.dom.tr?this.dom.tr.parentNode:void 0;n=this.expanded?this.getAppend():this.getDom();var i=n&&n.parentNode?n.nextSibling:void 0;this.hide(),this.clearDom(),this.type=e,"object"==e?(this.childs||(this.childs=[]),this.childs.forEach(function(e){e.clearDom(),delete e.index,e.fieldEditable=!0,void 0==e.field&&(e.field="")}),("string"==t||"auto"==t)&&(this.expanded=!0)):"array"==e?(this.childs||(this.childs=[]),this.childs.forEach(function(e,t){e.clearDom(),e.fieldEditable=!1,e.index=t}),("string"==t||"auto"==t)&&(this.expanded=!0)):this.expanded=!1,r&&(i?r.insertBefore(this.getDom(),i):r.appendChild(this.getDom())),this.showChilds()}else this.type=e;("auto"==e||"string"==e)&&(this.value="string"==e?String(this.value):this._stringCast(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0})}},r.prototype._getDomValue=function(e){if(this.dom.value&&"array"!=this.type&&"object"!=this.type&&(this.valueInnerText=n.getInnerText(this.dom.value)),void 0!=this.valueInnerText)try{var t;if("string"==this.type)t=this._unescapeHTML(this.valueInnerText);else{var r=this._unescapeHTML(this.valueInnerText);t=this._stringCast(r)}if(t!==this.value){var i=this.value;this.value=t,this.editor._onAction("editValue",{node:this,oldValue:i,newValue:t,oldSelection:this.editor.selection,newSelection:this.editor.getSelection()})}}catch(s){if(this.value=void 0,1!=e)throw s}},r.prototype._updateDomValue=function(){var e=this.dom.value;if(e){var t=this.value,r="auto"==this.type?n.type(t):this.type,i="string"==r&&n.isUrl(t),s="";s=i&&!this.editable.value?"":"string"==r?"green":"number"==r?"red":"boolean"==r?"darkorange":this._hasChilds()?"":null===t?"#004ED0":"black",e.style.color=s;var o=""==String(this.value)&&"array"!=this.type&&"object"!=this.type;if(o?n.addClassName(e,"empty"):n.removeClassName(e,"empty"),i?n.addClassName(e,"url"):n.removeClassName(e,"url"),"array"==r||"object"==r){var u=this.childs?this.childs.length:0;e.title=this.type+" containing "+u+" items"}else"string"==r&&n.isUrl(t)?this.editable.value&&(e.title="Ctrl+Click or Ctrl+Enter to open url in new window"):e.title="";this.searchValueActive?n.addClassName(e,"highlight-active"):n.removeClassName(e,"highlight-active"),this.searchValue?n.addClassName(e,"highlight"):n.removeClassName(e,"highlight"),n.stripFormatting(e)}},r.prototype._updateDomField=function(){var e=this.dom.field;if(e){var t=""==String(this.field)&&"array"!=this.parent.type;t?n.addClassName(e,"empty"):n.removeClassName(e,"empty"),this.searchFieldActive?n.addClassName(e,"highlight-active"):n.removeClassName(e,"highlight-active"),this.searchField?n.addClassName(e,"highlight"):n.removeClassName(e,"highlight"),n.stripFormatting(e)}},r.prototype._getDomField=function(e){if(this.dom.field&&this.fieldEditable&&(this.fieldInnerText=n.getInnerText(this.dom.field)),void 0!=this.fieldInnerText)try{var t=this._unescapeHTML(this.fieldInnerText);if(t!==this.field){var r=this.field;this.field=t,this.editor._onAction("editField",{node:this,oldValue:r,newValue:t,oldSelection:this.editor.selection,newSelection:this.editor.getSelection()})}}catch(i){if(this.field=void 0,1!=e)throw i}},r.prototype.clearDom=function(){this.dom={}},r.prototype.getDom=function(){var e=this.dom;if(e.tr)return e.tr;if(this._updateEditability(),e.tr=document.createElement("tr"),e.tr.node=this,"tree"===this.editor.options.mode){var t=document.createElement("td");if(this.editable.field&&this.parent){var n=document.createElement("button");e.drag=n,n.className="dragarea",n.title="Drag to move this field (Alt+Shift+Arrows)",t.appendChild(n)}e.tr.appendChild(t);var r=document.createElement("td"),i=document.createElement("button");e.menu=i,i.className="contextmenu",i.title="Click to open the actions menu (Ctrl+M)",r.appendChild(e.menu),e.tr.appendChild(r)}var s=document.createElement("td");return e.tr.appendChild(s),e.tree=this._createDomTree(),s.appendChild(e.tree),this.updateDom({updateIndexes:!0}),e.tr},r.prototype._onDragStart=function(e){var t=this;this.mousemove||(this.mousemove=n.addEventListener(document,"mousemove",function(e){t._onDrag(e)})),this.mouseup||(this.mouseup=n.addEventListener(document,"mouseup",function(e){t._onDragEnd(e)})),this.editor.highlighter.lock(),this.drag={oldCursor:document.body.style.cursor,startParent:this.parent,startIndex:this.parent.childs.indexOf(this),mouseX:e.pageX,level:this.getLevel()},document.body.style.cursor="move",e.preventDefault()},r.prototype._onDrag=function(e){var t,s,u,a,f,l,c,h,p,d,v,m,g,y,b=e.pageY,w=e.pageX,E=!1;if(t=this.dom.tr,p=n.getAbsoluteTop(t),m=t.offsetHeight,p>b){s=t;do s=s.previousSibling,c=r.getNodeFromTarget(s),d=s?n.getAbsoluteTop(s):0;while(s&&d>b);c&&!c.parent&&(c=void 0),c||(l=t.parentNode.firstChild,s=l?l.nextSibling:void 0,c=r.getNodeFromTarget(s),c==this&&(c=void 0)),c&&(s=c.dom.tr,d=s?n.getAbsoluteTop(s):0,b>d+m&&(c=void 0)),c&&(c.parent.moveBefore(this,c),E=!0)}else if(f=this.expanded&&this.append?this.append.getDom():this.dom.tr,a=f?f.nextSibling:void 0){v=n.getAbsoluteTop(a),u=a;do h=r.getNodeFromTarget(u),u&&(g=u.nextSibling?n.getAbsoluteTop(u.nextSibling):0,y=u?g-v:0,1==h.parent.childs.length&&h.parent.childs[0]==this&&(p+=23)),u=u.nextSibling;while(u&&b>p+y);if(h&&h.parent){var S=w-this.drag.mouseX,x=Math.round(S/24/2),T=this.drag.level+x,N=h.getLevel();for(s=h.dom.tr.previousSibling;T>N&&s;){if(c=r.getNodeFromTarget(s),c!=this&&!c._isChildOf(this)){if(!(c instanceof i))break;var C=c.parent.childs;if(!(C.length>1||1==C.length&&C[0]!=this))break;h=r.getNodeFromTarget(s),N=h.getLevel()}s=s.previousSibling}f.nextSibling!=h.dom.tr&&(h.parent.moveBefore(this,h),E=!0)}}E&&(this.drag.mouseX=w,this.drag.level=this.getLevel()),this.editor.startAutoScroll(b),e.preventDefault()},r.prototype._onDragEnd=function(e){var t={node:this,startParent:this.drag.startParent,startIndex:this.drag.startIndex,endParent:this.parent,endIndex:this.parent.childs.indexOf(this)};(t.startParent!=t.endParent||t.startIndex!=t.endIndex)&&this.editor._onAction("moveNode",t),document.body.style.cursor=this.drag.oldCursor,this.editor.highlighter.unlock(),delete this.drag,this.mousemove&&(n.removeEventListener(document,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&(n.removeEventListener(document,"mouseup",this.mouseup),delete this.mouseup),this.editor.stopAutoScroll(),e.preventDefault()},r.prototype._isChildOf=function(e){for(var t=this.parent;t;){if(t==e)return!0;t=t.parent}return!1},r.prototype._createDomField=function(){return document.createElement("div")},r.prototype.setHighlight=function(e){this.dom.tr&&(this.dom.tr.className=e?"highlight":"",this.append&&this.append.setHighlight(e),this.childs&&this.childs.forEach(function(t){t.setHighlight(e)}))},r.prototype.updateValue=function(e){this.value=e,this.updateDom()},r.prototype.updateField=function(e){this.field=e,this.updateDom()},r.prototype.updateDom=function(e){var t=this.dom.tree;t&&(t.style.marginLeft=24*this.getLevel()+"px");var n=this.dom.field;if(n){this.fieldEditable?(n.contentEditable=this.editable.field,n.spellcheck=!1,n.className="field"):n.className="readonly";var r;r=void 0!=this.index?this.index:void 0!=this.field?this.field:this._hasChilds()?this.type:"",n.innerHTML=this._escapeHTML(r)}var i=this.dom.value;if(i){var s=this.childs?this.childs.length:0;i.innerHTML="array"==this.type?"["+s+"]":"object"==this.type?"{"+s+"}":this._escapeHTML(this.value)}this._updateDomField(),this._updateDomValue(),e&&1==e.updateIndexes&&this._updateDomIndexes(),e&&1==e.recurse&&this.childs&&this.childs.forEach(function(t){t.updateDom(e)}),this.append&&this.append.updateDom()},r.prototype._updateDomIndexes=function(){var e=this.dom.value,t=this.childs;e&&t&&("array"==this.type?t.forEach(function(e,t){e.index=t;var n=e.dom.field;n&&(n.innerHTML=t)}):"object"==this.type&&t.forEach(function(e){void 0!=e.index&&(delete e.index,void 0==e.field&&(e.field=""))}))},r.prototype._createDomValue=function(){var e;return"array"==this.type?(e=document.createElement("div"),e.className="readonly",e.innerHTML="[...]"):"object"==this.type?(e=document.createElement("div"),e.className="readonly",e.innerHTML="{...}"):!this.editable.value&&n.isUrl(this.value)?(e=document.createElement("a"),e.className="value",e.href=this.value,e.target="_blank",e.innerHTML=this._escapeHTML(this.value)):(e=document.createElement("div"),e.contentEditable=this.editable.value,e.spellcheck=!1,e.className="value",e.innerHTML=this._escapeHTML(this.value)),e},r.prototype._createDomExpandButton=function(){var e=document.createElement("button");return this._hasChilds()?(e.className=this.expanded?"expanded":"collapsed",e.title="Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs."):(e.className="invisible",e.title=""),e},r.prototype._createDomTree=function(){var e=this.dom,t=document.createElement("table"),n=document.createElement("tbody");t.style.borderCollapse="collapse",t.className="values",t.appendChild(n);var r=document.createElement("tr");n.appendChild(r);var i=document.createElement("td");i.className="tree",r.appendChild(i),e.expand=this._createDomExpandButton(),i.appendChild(e.expand),e.tdExpand=i;var s=document.createElement("td");s.className="tree",r.appendChild(s),e.field=this._createDomField(),s.appendChild(e.field),e.tdField=s;var o=document.createElement("td");o.className="tree",r.appendChild(o),"object"!=this.type&&"array"!=this.type&&(o.appendChild(document.createTextNode(":")),o.className="separator"),e.tdSeparator=o;var u=document.createElement("td");return u.className="tree",r.appendChild(u),e.value=this._createDomValue(),u.appendChild(e.value),e.tdValue=u,t},r.prototype.onEvent=function(e){var t,r=e.type,i=e.target||e.srcElement,s=this.dom,o=this,u=this._hasChilds();if((i==s.drag||i==s.menu)&&("mouseover"==r?this.editor.highlighter.highlight(this):"mouseout"==r&&this.editor.highlighter.unhighlight()),"mousedown"==r&&i==s.drag&&this._onDragStart(e),"click"==r&&i==s.menu){var a=o.editor.highlighter;a.highlight(o),a.lock(),n.addClassName(s.menu,"selected"),this.showContextMenu(s.menu,function(){n.removeClassName(s.menu,"selected"),a.unlock(),a.unhighlight()})}if("click"==r&&i==s.expand&&u){var f=e.ctrlKey;this._onExpand(f)}var l=s.value;if(i==l)switch(r){case"focus":t=this;break;case"blur":case"change":this._getDomValue(!0),this._updateDomValue(),this.value&&(l.innerHTML=this._escapeHTML(this.value));break;case"input":this._getDomValue(!0),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getSelection();break;case"click":(e.ctrlKey||!this.editable.value)&&n.isUrl(this.value)&&window.open(this.value,"_blank");break;case"keyup":this._getDomValue(!0),this._updateDomValue();break;case"cut":case"paste":setTimeout(function(){o._getDomValue(!0),o._updateDomValue()},1)}var c=s.field;if(i==c)switch(r){case"focus":t=this;break;case"blur":case"change":this._getDomField(!0),this._updateDomField(),this.field&&(c.innerHTML=this._escapeHTML(this.field));break;case"input":this._getDomField(!0),this._updateDomField();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getSelection();break;case"keyup":this._getDomField(!0),this._updateDomField();break;case"cut":case"paste":setTimeout(function(){o._getDomField(!0),o._updateDomField()},1)}var h=s.tree;if(i==h.parentNode)switch(r){case"click":var p=void 0!=e.offsetX?e.offsetX<24*(this.getLevel()+1):e.pageX<n.getAbsoluteLeft(s.tdSeparator);p||u?c&&(n.setEndOfContentEditable(c),c.focus()):l&&(n.setEndOfContentEditable(l),l.focus())}if(i==s.tdExpand&&!u||i==s.tdField||i==s.tdSeparator)switch(r){case"click":c&&(n.setEndOfContentEditable(c),c.focus())}"keydown"==r&&this.onKeyDown(e)},r.prototype.onKeyDown=function(e){var t,s,u,a,f=e.which||e.keyCode,l=e.target||e.srcElement,c=e.ctrlKey,h=e.shiftKey,p=e.altKey,d=!1,v="tree"===this.editor.options.mode;if(13==f){if(l==this.dom.value)(!this.editable.value||e.ctrlKey)&&n.isUrl(this.value)&&(window.open(this.value,"_blank"),d=!0);else if(l==this.dom.expand){var m=this._hasChilds();if(m){var g=e.ctrlKey;this._onExpand(g),l.focus(),d=!0}}}else if(68==f)c&&v&&(this._onDuplicate(),d=!0);else if(69==f)c&&(this._onExpand(h),l.focus(),d=!0);else if(77==f&&v)c&&(this.showContextMenu(l),d=!0);else if(46==f&&v)c&&(this._onRemove(),d=!0);else if(45==f&&v)c&&!h?(this._onInsertBefore(),d=!0):c&&h&&(this._onInsertAfter(),d=!0);else if(35==f){if(p){var y=this._lastNode();y&&y.focus(r.focusElement||this._getElementName(l)),d=!0}}else if(36==f){if(p){var b=this._firstNode();b&&b.focus(r.focusElement||this._getElementName(l)),d=!0}}else if(37==f){if(p&&!h){var w=this._previousElement(l);w&&this.focus(this._getElementName(w)),d=!0}else if(p&&h&&v){if(this.expanded){var E=this.getAppend();u=E?E.nextSibling:void 0}else{var S=this.getDom();u=S.nextSibling}u&&(s=r.getNodeFromTarget(u),a=u.nextSibling,N=r.getNodeFromTarget(a),s&&s instanceof i&&1!=this.parent.childs.length&&N&&N.parent&&(N.parent.moveBefore(this,N),this.focus(r.focusElement||this._getElementName(l))))}}else if(38==f)p&&!h?(t=this._previousNode(),t&&t.focus(r.focusElement||this._getElementName(l)),d=!0):p&&h&&(t=this._previousNode(),t&&t.parent&&(t.parent.moveBefore(this,t),this.focus(r.focusElement||this._getElementName(l))),d=!0);else if(39==f){if(p&&!h){var x=this._nextElement(l);x&&this.focus(this._getElementName(x)),d=!0}else if(p&&h){S=this.getDom();var T=S.previousSibling;T&&(t=r.getNodeFromTarget(T),t&&t.parent&&t instanceof i&&!t.isVisible()&&(t.parent.moveBefore(this,t),this.focus(r.focusElement||this._getElementName(l))))}}else if(40==f)if(p&&!h)s=this._nextNode(),s&&s.focus(r.focusElement||this._getElementName(l)),d=!0;else if(p&&h&&v){s=this.expanded?this.append?this.append._nextNode():void 0:this._nextNode(),u=s?s.getDom():void 0,a=1==this.parent.childs.length?u:u?u.nextSibling:void 0;var N=r.getNodeFromTarget(a);N&&N.parent&&(N.parent.moveBefore(this,N),this.focus(r.focusElement||this._getElementName(l))),d=!0}d&&(e.preventDefault(),e.stopPropagation())},r.prototype._onExpand=function(e){if(e){var t=this.dom.tr.parentNode,n=t.parentNode,r=n.scrollTop;n.removeChild(t)}this.expanded?this.collapse(e):this.expand(e),e&&(n.appendChild(t),n.scrollTop=r)},r.prototype._onRemove=function(){this.editor.highlighter.unhighlight();var e=this.parent.childs,t=e.indexOf(this),n=this.editor.getSelection();e[t+1]?e[t+1].focus():e[t-1]?e[t-1].focus():this.parent.focus();var r=this.editor.getSelection();this.parent._remove(this),this.editor._onAction("removeNode",{node:this,parent:this.parent,index:t,oldSelection:n,newSelection:r})},r.prototype._onDuplicate=function(){var e=this.editor.getSelection(),t=this.parent._duplicate(this);t.focus();var n=this.editor.getSelection();this.editor._onAction("duplicateNode",{node:this,clone:t,parent:this.parent,oldSelection:e,newSelection:n})},r.prototype._onInsertBefore=function(e,t,n){var i=this.editor.getSelection(),s=new r(this.editor,{field:void 0!=e?e:"",value:void 0!=t?t:"",type:n});s.expand(!0),this.parent.insertBefore(s,this),this.editor.highlighter.unhighlight(),s.focus("field");var o=this.editor.getSelection();this.editor._onAction("insertBeforeNode",{node:s,beforeNode:this,parent:this.parent,oldSelection:i,newSelection:o})},r.prototype._onInsertAfter=function(e,t,n){var i=this.editor.getSelection(),s=new r(this.editor,{field:void 0!=e?e:"",value:void 0!=t?t:"",type:n});s.expand(!0),this.parent.insertAfter(s,this),this.editor.highlighter.unhighlight(),s.focus("field");var o=this.editor.getSelection();this.editor._onAction("insertAfterNode",{node:s,afterNode:this,parent:this.parent,oldSelection:i,newSelection:o})},r.prototype._onAppend=function(e,t,n){var i=this.editor.getSelection(),s=new r(this.editor,{field:void 0!=e?e:"",value:void 0!=t?t:"",type:n});s.expand(!0),this.parent.appendChild(s),this.editor.highlighter.unhighlight(),s.focus("field");var o=this.editor.getSelection();this.editor._onAction("appendNode",{node:s,parent:this.parent,oldSelection:i,newSelection:o})},r.prototype._onChangeType=function(e){var t=this.type;if(e!=t){var n=this.editor.getSelection();this.changeType(e);var r=this.editor.getSelection();this.editor._onAction("changeType",{node:this,oldType:t,newType:e,oldSelection:n,newSelection:r})}},r.prototype._onSort=function(e){if(this._hasChilds()){var t="desc"==e?-1:1,n="array"==this.type?"value":"field";this.hideChilds();var r=this.childs,i=this.sort;this.childs=this.childs.concat(),this.childs.sort(function(e,r){return e[n]>r[n]?t:e[n]<r[n]?-t:0}),this.sort=1==t?"asc":"desc",this.editor._onAction("sort",{node:this,oldChilds:r,oldSort:i,newChilds:this.childs,newSort:this.sort}),this.showChilds()}},r.prototype.getAppend=function(){return this.append||(this.append=new i(this.editor),this.append.setParent(this)),this.append.getDom()},r.getNodeFromTarget=function(e){for(;e;){if(e.node)return e.node;e=e.parentNode}return void 0},r.prototype._previousNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var n=t;do n=n.previousSibling,e=r.getNodeFromTarget(n);while(n&&e instanceof i&&!e.isVisible())}return e},r.prototype._nextNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var n=t;do n=n.nextSibling,e=r.getNodeFromTarget(n);while(n&&e instanceof i&&!e.isVisible())}return e},r.prototype._firstNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var n=t.parentNode.firstChild;e=r.getNodeFromTarget(n)}return e},r.prototype._lastNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var n=t.parentNode.lastChild;for(e=r.getNodeFromTarget(n);n&&e instanceof i&&!e.isVisible();)n=n.previousSibling,e=r.getNodeFromTarget(n)}return e},r.prototype._previousElement=function(e){var t=this.dom;switch(e){case t.value:if(this.fieldEditable)return t.field;case t.field:if(this._hasChilds())return t.expand;case t.expand:return t.menu;case t.menu:if(t.drag)return t.drag;default:return null}},r.prototype._nextElement=function(e){var t=this.dom;switch(e){case t.drag:return t.menu;case t.menu:if(this._hasChilds())return t.expand;case t.expand:if(this.fieldEditable)return t.field;case t.field:if(!this._hasChilds())return t.value;default:return null}},r.prototype._getElementName=function(e){var t=this.dom;for(var n in t)if(t.hasOwnProperty(n)&&t[n]==e)return n;return null},r.prototype._hasChilds=function(){return"array"==this.type||"object"==this.type},r.TYPE_TITLES={auto:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',object:'Field type "object". An object contains an unordered set of key/value pairs.',array:'Field type "array". An array contains an ordered collection of values.',string:'Field type "string". Field type is not determined from the value, but always returned as string.'},r.prototype.showContextMenu=function(t,n){var i=this,s=r.TYPE_TITLES,o=[];if(this.editable.value&&o.push({text:"Type",title:"Change the type of this field",className:"type-"+this.type,submenu:[{text:"Auto",className:"type-auto"+("auto"==this.type?" selected":""),title:s.auto,click:function(){i._onChangeType("auto")}},{text:"Array",className:"type-array"+("array"==this.type?" selected":""),title:s.array,click:function(){i._onChangeType("array")}},{text:"Object",className:"type-object"+("object"==this.type?" selected":""),title:s.object,click:function(){i._onChangeType("object")}},{text:"String",className:"type-string"+("string"==this.type?" selected":""),title:s.string,click:function(){i._onChangeType("string")}}]}),this._hasChilds()){var u="asc"==this.sort?"desc":"asc";o.push({text:"Sort",title:"Sort the childs of this "+this.type,className:"sort-"+u,click:function(){i._onSort(u)},submenu:[{text:"Ascending",className:"sort-asc",title:"Sort the childs of this "+this.type+" in ascending order",click:function(){i._onSort("asc")}},{text:"Descending",className:"sort-desc",title:"Sort the childs of this "+this.type+" in descending order",click:function(){i._onSort("desc")}}]})}if(this.parent&&this.parent._hasChilds()){o.length&&o.push({type:"separator"});var a=i.parent.childs;i==a[a.length-1]&&o.push({text:"Append",title:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",submenuTitle:"Select the type of the field to be appended",className:"append",click:function(){i._onAppend("","","auto")},submenu:[{text:"Auto",className:"type-auto",title:s.auto,click:function(){i._onAppend("","","auto")}},{text:"Array",className:"type-array",title:s.array,click:function(){i._onAppend("",[])}},{text:"Object",className:"type-object",title:s.object,click:function(){i._onAppend("",{})}},{text:"String",className:"type-string",title:s.string,click:function(){i._onAppend("","","string")}}]}),o.push({text:"Insert",title:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",submenuTitle:"Select the type of the field to be inserted",className:"insert",click:function(){i._onInsertBefore("","","auto")},submenu:[{text:"Auto",className:"type-auto",title:s.auto,click:function(){i._onInsertBefore("","","auto")}},{text:"Array",className:"type-array",title:s.array,click:function(){i._onInsertBefore("",[])}},{text:"Object",className:"type-object",title:s.object,click:function(){i._onInsertBefore("",{})}},{text:"String",className:"type-string",title:s.string,click:function(){i._onInsertBefore("","","string")}}]}),this.editable.field&&(o.push({text:"Duplicate",title:"Duplicate this field (Ctrl+D)",className:"duplicate",click:function(){i._onDuplicate()}}),o.push({text:"Remove",title:"Remove this field (Ctrl+Del)",className:"remove",click:function(){i._onRemove()}}))}var f=new e(o,{close:n});f.show(t)},r.prototype._getType=function(e){return e instanceof Array?"array":e instanceof Object?"object":"string"==typeof e&&"string"!=typeof this._stringCast(e)?"string":"auto"},r.prototype._stringCast=function(e){var t=e.toLowerCase(),n=Number(e),r=parseFloat(e);return""==e?"":"null"==t?null:"true"==t?!0:"false"==t?!1:isNaN(n)||isNaN(r)?e:n},r.prototype._escapeHTML=function(e){var t=String(e).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/  /g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),n=JSON.stringify(t);return n.substring(1,n.length-1)},r.prototype._unescapeHTML=function(e){var t='"'+this._escapeJSON(e)+'"',r=n.parse(t);return r.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ")},r.prototype._escapeJSON=function(e){for(var t="",n=0,r=e.length;r>n;){var i=e.charAt(n);"\n"==i?t+="\\n":"\\"==i?(t+=i,n++,i=e.charAt(n),-1=='"\\/bfnrtu'.indexOf(i)&&(t+="\\"),t+=i):t+='"'==i?'\\"':i,n++}return t};var i=t(r);return r}.apply(t,r),void 0===i||!(e.exports=i)},function(e,t,n){var r,i;r=[n(9)],i=function(e){function t(t,n,r){function i(e){t.setMode(e);var n=t.dom&&t.dom.modeBox;n&&n.focus()}for(var s={code:{text:"Code",title:"Switch to code highlighter",click:function(){i("code")}},form:{text:"Form",title:"Switch to form editor",click:function(){i("form")}},text:{text:"Text",title:"Switch to plain text editor",click:function(){i("text")}},tree:{text:"Tree",title:"Switch to tree editor",click:function(){i("tree")}},view:{text:"View",title:"Switch to tree view",click:function(){i("view")}}},o=[],u=0;u<n.length;u++){var a=n[u],f=s[a];if(!f)throw new Error('Unknown mode "'+a+'"');f.className="type-modes"+(r==a?" selected":""),o.push(f)}var l=s[r];if(!l)throw new Error('Unknown mode "'+r+'"');var c=l.text,h=document.createElement("button");return h.className="modes separator",h.innerHTML=c+" &#x25BE;",h.title="Switch editor mode",h.onclick=function(){var t=new e(o);t.show(h)},h}return{create:t}}.apply(t,r),void 0===i||!(e.exports=i)},function(e,t,n){var r,i;r=[n(3)],i=function(e){function t(e,t){function n(e,t,i){i.forEach(function(i){if("separator"==i.type){var s=document.createElement("div");s.className="separator",u=document.createElement("li"),u.appendChild(s),e.appendChild(u)}else{var o={},u=document.createElement("li");e.appendChild(u);var a=document.createElement("button");if(a.className=i.className,o.button=a,i.title&&(a.title=i.title),i.click&&(a.onclick=function(){r.hide(),i.click()}),u.appendChild(a),i.submenu){var f=document.createElement("div");f.className="icon",a.appendChild(f),a.appendChild(document.createTextNode(i.text));var l;if(i.click){a.className+=" default";var c=document.createElement("button");o.buttonExpand=c,c.className="expand",c.innerHTML='<div class="expand"></div>',u.appendChild(c),i.submenuTitle&&(c.title=i.submenuTitle),l=c}else{var h=document.createElement("div");h.className="expand",a.appendChild(h),l=a}l.onclick=function(){r._onExpandItem(o),l.focus()};var p=[];o.subItems=p;var d=document.createElement("ul");o.ul=d,d.className="menu",d.style.height="0",u.appendChild(d),n(d,p,i.submenu)}else a.innerHTML='<div class="icon"></div>'+i.text;t.push(o)}})}this.dom={};var r=this,i=this.dom;this.anchor=void 0,this.items=e,this.eventListeners={},this.selection=void 0,this.visibleSubmenu=void 0,this.onClose=t?t.close:void 0;var s=document.createElement("div");s.className="jsoneditor-contextmenu",i.menu=s;var o=document.createElement("ul");o.className="menu",s.appendChild(o),i.list=o,i.items=[];var u=document.createElement("button");i.focusButton=u;var a=document.createElement("li");a.style.overflow="hidden",a.style.height="0",a.appendChild(u),o.appendChild(a),n(o,this.dom.items,e),this.maxHeight=0,e.forEach(function(t){var n=24*(e.length+(t.submenu?t.submenu.length:0));r.maxHeight=Math.max(r.maxHeight,n)})}return t.prototype._getVisibleButtons=function(){var e=[],t=this;return this.dom.items.forEach(function(n){e.push(n.button),n.buttonExpand&&e.push(n.buttonExpand),n.subItems&&n==t.expandedItem&&n.subItems.forEach(function(t){e.push(t.button),t.buttonExpand&&e.push(t.buttonExpand)})}),e},t.visibleMenu=void 0,t.prototype.show=function(n){this.hide();var r=window.innerHeight,i=window.pageYOffset||document.scrollTop||0,s=r+i,o=n.offsetHeight,u=this.maxHeight,a=e.getAbsoluteLeft(n),f=e.getAbsoluteTop(n);s>f+o+u?(this.dom.menu.style.left=a+"px",this.dom.menu.style.top=f+o+"px",this.dom.menu.style.bottom=""):(this.dom.menu.style.left=a+"px",this.dom.menu.style.top="",this.dom.menu.style.bottom=r-f+"px"),document.body.appendChild(this.dom.menu);var l=this,c=this.dom.list;this.eventListeners.mousedown=e.addEventListener(document,"mousedown",function(e){var t=e.target;t==c||l._isChildOf(t,c)||(l.hide(),e.stopPropagation(),e.preventDefault())}),this.eventListeners.mousewheel=e.addEventListener(document,"mousewheel",function(e){e.stopPropagation(),e.preventDefault()}),this.eventListeners.keydown=e.addEventListener(document,"keydown",function(e){l._onKeyDown(e)}),this.selection=e.getSelection(),this.anchor=n,setTimeout(function(){l.dom.focusButton.focus()},0),t.visibleMenu&&t.visibleMenu.hide(),t.visibleMenu=this},t.prototype.hide=function(){this.dom.menu.parentNode&&(this.dom.menu.parentNode.removeChild(this.dom.menu),this.onClose&&this.onClose());for(var n in this.eventListeners)if(this.eventListeners.hasOwnProperty(n)){var r=this.eventListeners[n];r&&e.removeEventListener(document,n,r),delete this.eventListeners[n]}t.visibleMenu==this&&(t.visibleMenu=void 0)},t.prototype._onExpandItem=function(t){var n=this,r=t==this.expandedItem,i=this.expandedItem;if(i&&(i.ul.style.height="0",i.ul.style.padding="",setTimeout(function(){n.expandedItem!=i&&(i.ul.style.display="",e.removeClassName(i.ul.parentNode,"selected"))},300),this.expandedItem=void 0),!r){var s=t.ul;s.style.display="block",s.clientHeight,setTimeout(function(){n.expandedItem==t&&(s.style.height=24*s.childNodes.length+"px",s.style.padding="5px 10px")},0),e.addClassName(s.parentNode,"selected"),this.expandedItem=t}},t.prototype._onKeyDown=function(t){var n,r,i,s,o=t.target,u=t.which,a=!1;27==u?(this.selection&&e.setSelection(this.selection),this.anchor&&this.anchor.focus(),this.hide(),a=!0):9==u?t.shiftKey?(n=this._getVisibleButtons(),r=n.indexOf(o),0==r&&(n[n.length-1].focus(),a=!0)):(n=this._getVisibleButtons(),r=n.indexOf(o),r==n.length-1&&(n[0].focus(),a=!0)):37==u?("expand"==o.className&&(n=this._getVisibleButtons(),r=n.indexOf(o),i=n[r-1],i&&i.focus()),a=!0):38==u?(n=this._getVisibleButtons(),r=n.indexOf(o),i=n[r-1],i&&"expand"==i.className&&(i=n[r-2]),i||(i=n[n.length-1]),i&&i.focus(),a=!0):39==u?(n=this._getVisibleButtons(),r=n.indexOf(o),s=n[r+1],s&&"expand"==s.className&&s.focus(),a=!0):40==u&&(n=this._getVisibleButtons(),r=n.indexOf(o),s=n[r+1],s&&"expand"==s.className&&(s=n[r+2]),s||(s=n[0]),s&&(s.focus(),a=!0),a=!0),a&&(t.stopPropagation(),t.preventDefault())},t.prototype._isChildOf=function(e,t){for(var n=e.parentNode;n;){if(n==t)return!0;n=n.parentNode}return!1},t}.apply(t,r),void 0===i||!(e.exports=i)},function(e,t,n){var r,i;r=[n(9),n(3)],i=function(e,t){function n(n){function r(e){this.editor=e,this.dom={}}return r.prototype=new n,r.prototype.getDom=function(){var e=this.dom;if(e.tr)return e.tr;this._updateEditability();var t=document.createElement("tr");if(t.node=this,e.tr=t,this.editable.field){e.tdDrag=document.createElement("td");var n=document.createElement("td");e.tdMenu=n;var r=document.createElement("button");r.className="contextmenu",r.title="Click to open the actions menu (Ctrl+M)",e.menu=r,n.appendChild(e.menu)}var i=document.createElement("td"),s=document.createElement("div");return s.innerHTML="(empty)",s.className="readonly",i.appendChild(s),e.td=i,e.text=s,this.updateDom(),t},r.prototype.updateDom=function(){var e=this.dom,t=e.td;t&&(t.style.paddingLeft=24*this.getLevel()+26+"px");var n=e.text;n&&(n.innerHTML="(empty "+this.parent.type+")");var r=e.tr;this.isVisible()?e.tr.firstChild||(e.tdDrag&&r.appendChild(e.tdDrag),e.tdMenu&&r.appendChild(e.tdMenu),r.appendChild(t)):e.tr.firstChild&&(e.tdDrag&&r.removeChild(e.tdDrag),e.tdMenu&&r.removeChild(e.tdMenu),r.removeChild(t))},r.prototype.isVisible=function(){return 0==this.parent.childs.length},r.prototype.showContextMenu=function(t,r){var i=this,s=n.TYPE_TITLES,o=[{text:"Append",title:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",submenuTitle:"Select the type of the field to be appended",className:"insert",click:function(){i._onAppend("","","auto")},submenu:[{text:"Auto",className:"type-auto",title:s.auto,click:function(){i._onAppend("","","auto")}},{text:"Array",className:"type-array",title:s.array,click:function(){i._onAppend("",[])}},{text:"Object",className:"type-object",title:s.object,click:function(){i._onAppend("",{})}},{text:"String",className:"type-string",title:s.string,click:function(){i._onAppend("","","string")}}]}],u=new e(o,{close:r});u.show(t)},r.prototype.onEvent=function(e){var n=e.type,r=e.target||e.srcElement,i=this.dom,s=i.menu;if(r==s&&("mouseover"==n?this.editor.highlighter.highlight(this.parent):"mouseout"==n&&this.editor.highlighter.unhighlight()),"click"==n&&r==i.menu){var o=this.editor.highlighter;o.highlight(this.parent),o.lock(),t.addClassName(i.menu,"selected"),this.showContextMenu(i.menu,function(){t.removeClassName(i.menu,"selected"),o.unlock(),o.unhighlight()})}"keydown"==n&&this.onKeyDown(e)},r}return n}.apply(t,r),void 0===i||!(e.exports=i)}])}),define("text!tpl/navbar/projectMappingSelector.html",[],function(){return'<div class="form-group">\n    <h4 class="projectName">No Project </h4>\n</div>\n<div class="form-group">\n    <select id="selectMapping" class="form-control"></select>\n</div>\n'}),define("util/MappingForm",["jquery","lodash","ProjectManager","jsonEditor","text!tpl/navbar/projectMappingSelector.html","text!tpl/navbar/radioButton.html","text!tpl/navbar/htmlGETForm.html","text!tpl/navbar/htmlPOSTForm.html"],function(e,t,n,r,i,s,o,u){function a(){var a=e(t.template(i)(null)),f=e(t.template(s)({name:"Device",active:""})),l=e(t.template(s)({name:"HTTP GET",active:""})),c=e(t.template(s)({name:"HTTP POST",active:""})),h=e(document.createElement("div")).attr("class","form-inline"),p=n.getProjectName();if(p){a.find(".projectName").text("Project: "+p),a.find("select").show();var d=n.getMappings();for(var v in d)d.hasOwnProperty(v)&&a.find("select").append(e(document.createElement("option")).attr("value",v).text(v));h.append(a)}var m=e(document.createElement("div")).attr("class","form-inline"),g=e(document.createElement("div")).attr("class","form-inline").css("height",550),y=new r(g[0],{mode:"view"}),b=e(document.createElement("div")).attr("class","form-inline").append(e(document.createElement("div")).attr("class","btn-group").attr("data-toggle","buttons").append(f.click(function(t){t.stopPropagation();var n=e('<div class ="form-group"></div>'),r=e(document.createElement("input")).attr("type","file").attr("class","form-control");n.append(r),r.change(function(){var t=e(this).prop("files")[0];if(t&&t.name.search(/.json/)!==-1){var n=new FileReader;n.readAsText(t,"UTF-8"),n.onload=function(e){y.set(JSON.parse(e.target.result))}}}),m.empty(),m.append(n)})).append(l.click(function(t){t.stopPropagation();var n=e(o);m.empty(),m.append(o),n.find("button").click(function(){var t=e(this).siblings("input").val();e.get(t,function(e){y.set(e)})})})).append(c).click(function(t){t.stopPropagation();var n=e(u);m.empty(),m.append(n)}));return{jsonEditor:y,form:[h,b,m,g]}}return a}),define("panels/MapPanel",["util/MappingForm","panels/FooterContent"],function(e,t){function n(n){var r=e(),i=$.jsPanel({size:{width:712,height:553},selector:"body",title:"Mapping for "+n.label,position:"top left",theme:"light",toolbarFooter:(new t).getContent()});i.find("div[class*=ui-resizable-handle]").remove(),i.content.append(r.form)}return n}),define("panels/NodePanel",["jquery","jsonEditor","panels/FooterContent","panels/MapPanel"],function(e,t,n,r){function i(i){var s=new n,o=s.getContent();if(i.hasOwnProperty("shape")&&i.shape==="square"){var u='<button type="button" class="btn btn-primary" style="float: left;"><span class="glyphicon glyphicon-file"></span></button>',a={item:u,event:"click",btnclass:"btn-sm",btntext:" Map",callback:function(){new r(i)}};o.unshift(a)}if(i.hasOwnProperty("cluster")){var f='<button type="button" class="btn btn-warning" style="float: left;"><span class="glyphicon glyphicon-minus"></span></button>',l={item:f,event:"click",btnclass:"btn-sm",btntext:" Close Cluster",callback:function(e){var t=require("NetworkManager"),n=t.getNetwork();n.clusterById(i.cluster),e.data.close()}};o.unshift(l)}var c=e.jsPanel({size:{width:512,height:203},selector:"body",title:i.label,position:"top center",theme:"light",toolbarFooter:o}),h=e(document.createElement("div")),p=new t(h[0],{mode:"view"});p.set(i),c.find("div[class*=ui-resizable-handle]").remove(),c.content.append(h)}return i}),define("panels/EdgePanel",["jquery","jsonEditor","panels/FooterContent"],function(e,t,n){function r(r){var i=new n,s=e.jsPanel({size:{width:452,height:153},selector:"body",title:r.id,position:"top right",theme:"light",toolbarFooter:i.getContent()}),o=e(document.createElement("div")),u=new t(o[0],{mode:"view"});u.set(r),s.find("div[class*=ui-resizable-handle]").remove(),s.content.append(o)}return r}),define("NetworkVis",["panels/NodePanel","panels/EdgePanel","bootstrapWrapper/TabWrapper","vis"],function(e,t,n,r){function i(i,s,o){var u=$("<div></div>")[0],a={nodes:i,edges:s},f={nodes:{shape:"dot",scaling:{min:10,max:30,label:{min:8,max:30,drawThreshold:12,maxVisible:20}},font:{size:12,face:"Tahoma"}},edges:{width:.15,color:{inherit:"from"},smooth:{type:"continuous"}},physics:!0,interaction:{tooltipDelay:200,hideEdgesOnDrag:!0}};n.AddCloseableTab("Network",u,!0);var l=new r.Network(u,a,f);this.getVisNetwork=function(){return l},l.on("click",function(n){if(n.nodes.length>0)if(this.isCluster(n.nodes[0]))this.openCluster(n.nodes[0]);else{var r=this.body.data.nodes._data[n.nodes[0]];new e(r)}else if(n.edges.length>0){var i=this.body.data.edges._data[n.edges[0]];new t(i)}});for(var c=0;c<o.length;c++)this.clusterById(o[c])}return i.prototype.clusterById=function(e){var t=this.getVisNetwork(),n=null,r=t.groups.groups[e.replace(/#\w*/g,"")].color.background,i={joinCondition:function(t){return n=t.color.background,t.cluster===e},processProperties:function(e,t){return e.label=t.length,e.mass=10,e},clusterNodeProperties:{borderWidth:3,shape:"database",color:r}};t.cluster(i)},i}),define("NetworkManager",["lodash","Global","entities/MappingCanvas","util/JPath","util/GUIDGenerator","NetworkVis","vis"],function(e,t,n,r,i,s,o){function u(){var u=null,a={},f=new o.DataSet,l=new o.DataSet,c=[];return{map:function(s,o){var u=this,a=t.Config.NETWORK;if(!s instanceof n)return new Error("Not a valid mapping object");var h={},p={},d,v=0,m=function(t){var n,s=null,f=t.Name,l=t.getIdentifier(),h=function(e){var t=new r(e.getId());n=t.GetRoot(),n.Path!=="$"?(n.ContainsArray()&&(n=n.SetIndexesOfPathArray(["*"])),s=n.eval(o)):s=[o]},m=function(e,t,n,r){var i={};return i.id=e,i.label=t,i.value=0,i.group=n,r&&(i.shape=r),i},g=function(t,r){var i=[],o=[],l=t.getMappingRule(),g=l.getDomain(),y=l.getRange(),b=y.Name,w=g.Name;h(g);var E=!1;s.length>a.CLUSTER.SIZE&&(c.push(f+"#"+v),E=!0);var S=0;for(var x=0;x<s.length;x++){var T=s[x],N=f+"/"+e.camelCase(T[w]);if(!u.lookupKey(N)){var C;r?C=m(N,T[w],f,"square"):C=m(N,T[w],f),E&&(C.cluster=f+"#"+v,S++,S%a.CLUSTER.SIZE===0&&(v++,S=0,c.push(f+"#"+v))),C[b]=T[w],u.addNodeKey(N,x+d),i.push(C)}else o.push(N);p[N]=n.SetIndexesOfPathArray([x]).Path}return c.push(f+"#"+v),{"new":i,existing:o}},y=function(e){var t=[],r=e.getDomain();h(r);var o=0,l=!1;s.length>a.CLUSTER.SIZE&&(c.push(f+"#"+v),l=!0);for(var g=0;g<s.length;g++){var y=s[g],b=f+"/"+i(),w=m(b,y[r.Name],f);l&&(w.cluster=f+"#"+v,o++,o%a.CLUSTER.SIZE===0&&(v++,o=0,c.push(f+"#"+v))),u.addNodeKey(b,g+d),p[b]=n.SetIndexesOfPathArray([g]).Path,t.push(w)}return c.push(f+"#"+v),t},b,w,E;if(l&&l.getMappingRule())w=g(l,t.isReference()),E=e.omit(t.getAllMappingRules(),l.getMappingRule().getId()),b=w.new;else{E=t.getAllMappingRules();var S=E[e.keys(E)[0]];b=y(S),w={"new":b},E=e.omit(t.getAllMappingRules(),S.getId())}return b.length===s.length&&e.forOwn(E,function(e){var t=e.getDomain(),n=e.getRange(),r=n.Name,i=t.Name;for(var o=0;o<s.length;o++){var u=s[o];b[o][r]=u[i]}}),w},g=s.getNodeClasses();e.forOwn(g,function(t,n){var r=m(g[n]);h[n]=e.union(e.pluck(r.new,"id"),r.existing),d+=r.length,f.add(r.new)});var y=s.getEdgeClasses();for(var b in y)if(y.hasOwnProperty(b)){var w=y[b],E=w.getSource(),S=w.getTarget(),x=f.get(h[E.getId()]),T=f.get(h[S.getId()]);for(var N=0;N<x.length;N++){var C=x[N],k=p[C.id];for(var L=0;L<T.length;L++){var A=T[L],O=p[A.id];if(k.indexOf(O)>-1||O.indexOf(k)>-1){var M={};M.from=C.id,f.update({id:C.id,value:C.value++}),C.value++,M.to=A.id,M.arrows="to",M.title=w.Name,l.add(M)}}}}},initNetwork:function(){u=new s(f,l,c)},getNetwork:function(){return u},addNodeKey:function(e,t){return this.lookupKey(e)?!1:(a[e]=t,!0)},lookupKey:function(e){return a.hasOwnProperty(e)},getNodeById:function(e){return a.hasOwnProperty(e)?f[a[e]]:null},clearNetwork:function(){u=null,a={},f=new o.DataSet,l=new o.DataSet}}}return new u}),define("modals/MappingModal",["bootstrapWrapper/ModalWrapper","NetworkManager","ProjectManager","util/MappingForm"],function(e,t,n,r){function i(){var i=r(),s=e.FooterContent({saveFunc:function(){var e=$("#selectMapping").find(":selected").attr("value"),r=n.getMappingById(e);t.map(r,i.jsonEditor.get()),$("#visNetwork").is("li")||t.initNetwork()}});e("modalMapping","Data input for Mapping",i.form,s,"modal-lg")}return i}),define("text!tpl/navbar/projectTab.html",[],function(){return'<div id="ProjectCtrl" class="panel panel-default tab-pane fade">\n    <div class="panel-body">\n        <div class ="form-group">\n            <button  id="btnCreateProject" class="btn btn-info">Create Project</button>\n            <button id="btnStartMapping" class="btn btn-info">Map Data</button>\n        </div>\n        <div class ="form-group">\n\n        </div>\n    </div>\n</div>'}),define("navbar/ProjectTab",["jquery","modals/CreateProjectModal","modals/AddMappingModal","modals/MappingModal","text!tpl/navbar/projectTab.html"],function(e,t,n,r,i){function s(){var s=e(i),o=s.find(".panel-body");s.find("#btnCreateProject").click(function(){t()}),s.find("#btnStartMapping").click(function(){r()}),o.append(e('<h4 class="projectName">').text("No Project!"));var u=e('<div class="list-group" id="lstMappings"></div>');o.append(u);var a=e('<button class="btn btn-default" id="btnAddMapping" style="display: none"><span class="glyphicon glyphicon-plus"></span></button>');a.click(function(){n()}),o.append(a),e("#mc_navbar_content").append(s)}return s}),define("text!tpl/navbar/navbar.html",[],function(){return'<div id="mc_navbar">\n    <ul class="nav nav-tabs" id="myTab">\n\n        <li class="dropdown">\n            <a data-toggle="dropdown" class="dropdown-toggle" href="#">File <b class="caret"></b></a>\n            <ul class="dropdown-menu">\n                <li><a data-toggle="tab" href="#inputCtrl"> Device</a></li>\n                <li><a data-toggle="tab" href="#httpInputCtrl">HTTP</a></li>\n                <li><a data-toggle="tab" href="#ImportCtrl">Import</a></li>\n                <li><a data-toggle="tab" href="#exportMC">Export </a></li>\n            </ul>\n        </li>\n        <li><a data-toggle="tab" href="#OntologyCtrl">Graph Schema</a></li>\n        <li><a data-toggle="tab" href="#ProjectCtrl">Project</a></li>\n    </ul>\n</div>'}),define("navbar/NavBarMain",["jquery","navbar/FileInputTab","navbar/OntologyTab","navbar/HttpInputTab","navbar/MappingExportTab","navbar/ImportTab","navbar/ProjectTab","text!tpl/navbar/navbar.html"],function(e,t,n,r,i,s,o,u){function a(){var a=e("body");a.append(e(u)),a.append(e(document.createElement("div")).attr("id","mc_navbar_content").attr("class","tab-content")),o(),t(),r(),s(),i(),n()}return a}),define("contextMenu/EditMenu",[],function(){return{MappingRule:{name:"Mapping Rule",icon:"add"},NodeClasses:{name:"NodeClasses",icon:"add",items:{"default":{name:"no ontology loaded"}}},EdgeClasses:{name:"EdgeClasses",icon:"add"}}}),define("contextMenu/VisibilityMenu",[],function(){return{Hide:{name:"Hide",items:{HideClass:{name:"Class Properties"},HideMR:{name:"Mapping Rules"},HideEdges:{name:"Edge Classes",items:{HideEdgesBoth:{name:"All"},HideEdgesIn:{name:"In"},HideEdgesOut:{name:"Out"}}}}},Show:{name:"Show",items:{ShowClass:{name:"Class Properties"},ShowMR:{name:"Mapping Rules"},ShowEdges:{name:"Edge Classes",items:{ShowEdgesBoth:{name:"All"},ShowEdgesIn:{name:"In"},ShowEdgesOut:{name:"Out"}}}}}}}),define("contextMenu/DeleteMenu",[],function(){return{"delete":{name:"Delete",icon:"delete"},truncateClass:{name:"Truncate Class",icon:"delete"}}}),function(e){typeof define=="function"&&define.amd?define("jquery-contextmenu",["jquery"],e):typeof exports=="object"?e(require("jquery")):e(jQuery)}(function(e){"use strict";function p(e){var t=e.split(/\s+/),n=[];for(var r=0,i;i=t[r];r++)i=i.charAt(0).toUpperCase(),n.push(i);return n}function d(t){return t.id&&e('label[for="'+t.id+'"]').val()||t.name}function v(t,n,r){return r||(r=0),n.each(function(){var n=e(this),i=this,s=this.nodeName.toLowerCase(),o,u;s==="label"&&n.find("input, textarea, select").length&&(o=n.text(),n=n.children().first(),i=n.get(0),s=i.nodeName.toLowerCase());switch(s){case"menu":u={name:n.attr("label"),items:{}},r=v(u.items,n.children(),r);break;case"a":case"button":u={name:n.text(),disabled:!!n.attr("disabled"),callback:function(){return function(){n.get(0).click()}}()};break;case"menuitem":case"command":switch(n.attr("type")){case undefined:case"command":case"menuitem":u={name:n.attr("label"),disabled:!!n.attr("disabled"),icon:n.attr("icon"),callback:function(){return function(){n.get(0).click()}}()};break;case"checkbox":u={type:"checkbox",disabled:!!n.attr("disabled"),name:n.attr("label"),selected:!!n.attr("checked")};break;case"radio":u={type:"radio",disabled:!!n.attr("disabled"),name:n.attr("label"),radio:n.attr("radiogroup"),value:n.attr("id"),selected:!!n.attr("checked")};break;default:u=undefined}break;case"hr":u="-------";break;case"input":switch(n.attr("type")){case"text":u={type:"text",name:o||d(i),disabled:!!n.attr("disabled"),value:n.val()};break;case"checkbox":u={type:"checkbox",name:o||d(i),disabled:!!n.attr("disabled"),selected:!!n.attr("checked")};break;case"radio":u={type:"radio",name:o||d(i),disabled:!!n.attr("disabled"),radio:!!n.attr("name"),value:n.val(),selected:!!n.attr("checked")};break;default:u=undefined}break;case"select":u={type:"select",name:o||d(i),disabled:!!n.attr("disabled"),selected:n.val(),options:{}},n.children().each(function(){u.options[this.value]=e(this).text()});break;case"textarea":u={type:"textarea",name:o||d(i),disabled:!!n.attr("disabled"),value:n.val()};break;case"label":break;default:u={type:"html",html:n.clone(!0)}}u&&(r++,t["key"+r]=u)}),r}e.support.htmlMenuitem="HTMLMenuItemElement"in window,e.support.htmlCommand="HTMLCommandElement"in window,e.support.eventSelectstart="onselectstart"in document.documentElement;if(!e.ui||!e.widget)e.cleanData=function(t){return function(n){var r,i,s;for(s=0;n[s]!=null;s++){i=n[s];try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(o){}}t(n)}}(e.cleanData);var t=null,n=!1,r=e(window),i=0,s={},o={},u={},a={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,selectableSubMenu:!1,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},determinePosition:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var n=this.offset();n.top+=this.outerHeight(),n.left+=this.outerWidth()/2-t.outerWidth()/2,t.css(n)}},position:function(e,t,n){var i;if(!t&&!n){e.determinePosition.call(this,e.$menu);return}if(t==="maintain"&&n==="maintain")i=e.$menu.position();else{var s=e.$menu.offsetParent().offset();i={top:n-s.top,left:t-s.left}}var o=r.scrollTop()+r.height(),u=r.scrollLeft()+r.width(),a=e.$menu.outerHeight(),f=e.$menu.outerWidth();i.top+a>o&&(i.top-=a),i.top<0&&(i.top=0),i.left+f>u&&(i.left-=f),i.left<0&&(i.left=0),e.$menu.css(i)},positionSubmenu:function(t){if(typeof t=="undefined")return;if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var n={top:-9,left:this.outerWidth()-5};t.css(n)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:e.noop,hide:e.noop},callback:null,items:{}},f={timer:null,pageX:null,pageY:null},l=function(e){var t=0,n=e;for(;;){t=Math.max(t,parseInt(n.css("z-index"),10)||0),n=n.parent();if(!n||!n.length||"html body".indexOf(n.prop("nodeName").toLowerCase())>-1)break}return t},c={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(n){var r=e(this);n.data.trigger==="right"&&(n.preventDefault(),n.stopImmediatePropagation());if(n.data.trigger!=="right"&&n.data.trigger!=="demand"&&n.originalEvent)return;if(!(typeof n.mouseButton=="undefined"||!n.data||n.data.trigger==="left"&&n.mouseButton===0||n.data.trigger==="right"&&n.mouseButton===2))return;if(r.hasClass("context-menu-active"))return;if(!r.hasClass("context-menu-disabled")){t=r;if(n.data.build){var i=n.data.build(t,n);if(i===!1)return;n.data=e.extend(!0,{},a,n.data,i||{});if(!n.data.items||e.isEmptyObject(n.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");n.data.$trigger=t,h.create(n.data)}var s=!1;for(var o in n.data.items)if(n.data.items.hasOwnProperty(o)){var u;e.isFunction(n.data.items[o].visible)?u=n.data.items[o].visible.call(e(n.currentTarget),o,n.data):typeof n.data.items[o]!="undefined"&&n.data.items[o].visible?u=n.data.items[o].visible===!0:u=!0,u&&(s=!0)}s&&h.show.call(r,n.data,n.pageX,n.pageY)}},click:function(t){t.preventDefault(),t.stopImmediatePropagation(),e(this).trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))},mousedown:function(n){var r=e(this);t&&t.length&&!t.is(r)&&t.data("contextMenu").$menu.trigger("contextmenu:hide"),n.button===2&&(t=r.data("contextMenuActive",!0))},mouseup:function(n){var r=e(this);r.data("contextMenuActive")&&t&&t.length&&t.is(r)&&!r.hasClass("context-menu-disabled")&&(n.preventDefault(),n.stopImmediatePropagation(),t=r,r.trigger(e.Event("contextmenu",{data:n.data,pageX:n.pageX,pageY:n.pageY}))),r.removeData("contextMenuActive")},mouseenter:function(n){var r=e(this),i=e(n.relatedTarget),s=e(document);if(i.is(".context-menu-list")||i.closest(".context-menu-list").length)return;if(t&&t.length)return;f.pageX=n.pageX,f.pageY=n.pageY,f.data=n.data,s.on("mousemove.contextMenuShow",c.mousemove),f.timer=setTimeout(function(){f.timer=null,s.off("mousemove.contextMenuShow"),t=r,r.trigger(e.Event("contextmenu",{data:f.data,pageX:f.pageX,pageY:f.pageY}))},n.data.delay)},mousemove:function(e){f.pageX=e.pageX,f.pageY=e.pageY},mouseleave:function(t){var n=e(t.relatedTarget);if(n.is(".context-menu-list")||n.closest(".context-menu-list").length)return;try{clearTimeout(f.timer)}catch(t){}f.timer=null},layerClick:function(t){var n=e(this),i=n.data("contextMenuRoot"),s=t.button,o=t.pageX,u=t.pageY,a,f;t.preventDefault(),setTimeout(function(){var n,l=i.trigger==="left"&&s===0||i.trigger==="right"&&s===2;if(document.elementFromPoint&&i.$layer){i.$layer.hide(),a=document.elementFromPoint(o-r.scrollLeft(),u-r.scrollTop());if(a.isContentEditable){var c=document.createRange(),h=window.getSelection();c.selectNode(a),c.collapse(!0),h.removeAllRanges(),h.addRange(c)}e(a).trigger(t),i.$layer.show()}if(i.reposition&&l)if(document.elementFromPoint){if(i.$trigger.is(a)){i.position.call(i.$trigger,i,o,u);return}}else{f=i.$trigger.offset(),n=e(window),f.top+=n.scrollTop();if(f.top<=t.pageY){f.left+=n.scrollLeft();if(f.left<=t.pageX){f.bottom=f.top+i.$trigger.outerHeight();if(f.bottom>=t.pageY){f.right=f.left+i.$trigger.outerWidth();if(f.right>=t.pageX){i.position.call(i.$trigger,i,o,u);return}}}}}a&&l&&i.$trigger.one("contextmenu:hidden",function(){e(a).contextMenu({x:o,y:u,button:s})}),i!==null&&typeof i!="undefined"&&i.$menu!==null&&typeof i.$menu!="undefined"&&i.$menu.trigger("contextmenu:hide")},50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var n={};t&&(n=t.data("contextMenu")||{}),typeof n.zIndex=="undefined"&&(n.zIndex=0);var r=0,i=function(e){e.style.zIndex!==""?r=e.style.zIndex:e.offsetParent!==null&&typeof e.offsetParent!="undefined"?i(e.offsetParent):e.parentElement!==null&&typeof e.parentElement!="undefined"&&i(e.parentElement)};i(e.target);if(n.$menu&&parseInt(r,10)>parseInt(n.$menu.css("zIndex"),10))return;switch(e.keyCode){case 9:case 38:c.keyStop(e,n);if(n.isInput){if(e.keyCode===9&&e.shiftKey){e.preventDefault(),n.$selected&&n.$selected.find("input, textarea, select").blur(),n.$menu!==null&&typeof n.$menu!="undefined"&&n.$menu.trigger("prevcommand");return}if(e.keyCode===38&&n.$selected.find("input, textarea, select").prop("type")==="checkbox"){e.preventDefault();return}}else if(e.keyCode!==9||e.shiftKey){n.$menu!==null&&typeof n.$menu!="undefined"&&n.$menu.trigger("prevcommand");return}break;case 40:c.keyStop(e,n);if(!n.isInput){n.$menu!==null&&typeof n.$menu!="undefined"&&n.$menu.trigger("nextcommand");return}if(e.keyCode===9){e.preventDefault(),n.$selected&&n.$selected.find("input, textarea, select").blur(),n.$menu!==null&&typeof n.$menu!="undefined"&&n.$menu.trigger("nextcommand");return}if(e.keyCode===40&&n.$selected.find("input, textarea, select").prop("type")==="checkbox"){e.preventDefault();return}break;case 37:c.keyStop(e,n);if(n.isInput||!n.$selected||!n.$selected.length)break;if(!n.$selected.parent().hasClass("context-menu-root")){var s=n.$selected.parent().parent();n.$selected.trigger("contextmenu:blur"),n.$selected=s;return}break;case 39:c.keyStop(e,n);if(n.isInput||!n.$selected||!n.$selected.length)break;var o=n.$selected.data("contextMenu")||{};if(o.$menu&&n.$selected.hasClass("context-menu-submenu")){n.$selected=null,o.$selected=null,o.$menu.trigger("nextcommand");return}break;case 35:case 36:if(n.$selected&&n.$selected.find("input, textarea, select").length)return;(n.$selected&&n.$selected.parent()||n.$menu).children(":not(."+n.classNames.disabled+", ."+n.classNames.notSelectable+")")[e.keyCode===36?"first":"last"]().trigger("contextmenu:focus"),e.preventDefault();return;case 13:c.keyStop(e,n);if(n.isInput){if(n.$selected&&!n.$selected.is("textarea, select")){e.preventDefault();return}break}typeof n.$selected!="undefined"&&n.$selected!==null&&n.$selected.trigger("mouseup");return;case 32:case 33:case 34:c.keyStop(e,n);return;case 27:c.keyStop(e,n),n.$menu!==null&&typeof n.$menu!="undefined"&&n.$menu.trigger("contextmenu:hide");return;default:var u=String.fromCharCode(e.keyCode).toUpperCase();if(n.accesskeys&&n.accesskeys[u]){n.accesskeys[u].$node.trigger(n.accesskeys[u].$menu?"contextmenu:focus":"mouseup");return}}e.stopPropagation(),typeof n.$selected!="undefined"&&n.$selected!==null&&n.$selected.trigger(e)},prevItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},r=e(this).data("contextMenuRoot")||{};if(n.$selected){var i=n.$selected;n=n.$selected.parent().data("contextMenu")||{},n.$selected=i}var s=n.$menu.children(),o=!n.$selected||!n.$selected.prev().length?s.last():n.$selected.prev(),u=o;while(o.hasClass(r.classNames.disabled)||o.hasClass(r.classNames.notSelectable)||o.is(":hidden")){o.prev().length?o=o.prev():o=s.last();if(o.is(u))return}n.$selected&&c.itemMouseleave.call(n.$selected.get(0),t),c.itemMouseenter.call(o.get(0),t);var a=o.find("input, textarea, select");a.length&&a.focus()},nextItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},r=e(this).data("contextMenuRoot")||{};if(n.$selected){var i=n.$selected;n=n.$selected.parent().data("contextMenu")||{},n.$selected=i}var s=n.$menu.children(),o=!n.$selected||!n.$selected.next().length?s.first():n.$selected.next(),u=o;while(o.hasClass(r.classNames.disabled)||o.hasClass(r.classNames.notSelectable)||o.is(":hidden")){o.next().length?o=o.next():o=s.first();if(o.is(u))return}n.$selected&&c.itemMouseleave.call(n.$selected.get(0),t),c.itemMouseenter.call(o.get(0),t);var a=o.find("input, textarea, select");a.length&&a.focus()},focusInput:function(){var t=e(this).closest(".context-menu-item"),n=t.data(),r=n.contextMenu,i=n.contextMenuRoot;i.$selected=r.$selected=t,i.isInput=r.isInput=!0},blurInput:function(){var t=e(this).closest(".context-menu-item"),n=t.data(),r=n.contextMenu,i=n.contextMenuRoot;i.isInput=r.isInput=!1},menuMouseenter:function(){var t=e(this).data().contextMenuRoot;t.hovering=!0},menuMouseleave:function(t){var n=e(this).data().contextMenuRoot;n.$layer&&n.$layer.is(t.relatedTarget)&&(n.hovering=!1)},itemMouseenter:function(t){var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;s.hovering=!0,t&&s.$layer&&s.$layer.is(t.relatedTarget)&&(t.preventDefault(),t.stopImmediatePropagation()),(i.$menu?i:s).$menu.children("."+s.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur");if(n.hasClass(s.classNames.disabled)||n.hasClass(s.classNames.notSelectable)){i.$selected=null;return}n.trigger("contextmenu:focus")},itemMouseleave:function(t){var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;if(s!==i&&s.$layer&&s.$layer.is(t.relatedTarget)){typeof s.$selected!="undefined"&&s.$selected!==null&&s.$selected.trigger("contextmenu:blur"),t.preventDefault(),t.stopImmediatePropagation(),s.$selected=i.$selected=i.$node;return}if(i&&i.$menu&&i.$menu.hasClass("context-menu-visible"))return;n.trigger("contextmenu:blur")},itemClick:function(t){var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot,o=r.contextMenuKey,u;if(!i.items[o]||n.is("."+s.classNames.disabled+", .context-menu-separator, ."+s.classNames.notSelectable)||n.is(".context-menu-submenu")&&s.selectableSubMenu===!1)return;t.preventDefault(),t.stopImmediatePropagation();if(e.isFunction(i.callbacks[o])&&Object.prototype.hasOwnProperty.call(i.callbacks,o))u=i.callbacks[o];else{if(!e.isFunction(s.callback))return;u=s.callback}u.call(s.$trigger,o,s,t)!==!1?s.$menu.trigger("contextmenu:hide"):s.$menu.parent().length&&h.update.call(s.$trigger,s)},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(t,n){var r=e(this).data("contextMenuRoot");h.hide.call(r.$trigger,r,n&&n.force)},focusItem:function(t){t.stopPropagation();var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;if(n.hasClass(s.classNames.disabled)||n.hasClass(s.classNames.notSelectable))return;n.addClass([s.classNames.hover,s.classNames.visible].join(" ")).parent().find(".context-menu-item").not(n).removeClass(s.classNames.visible).filter("."+s.classNames.hover).trigger("contextmenu:blur"),i.$selected=s.$selected=n,i&&i.$node&&i.$node.hasClass("context-menu-submenu")&&i.$node.addClass(s.classNames.hover),i.$node&&s.positionSubmenu.call(i.$node,i.$menu)},blurItem:function(t){t.stopPropagation();var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;i.autoHide&&n.removeClass(s.classNames.visible),n.removeClass(s.classNames.hover),i.$selected=null}},h={show:function(n,r,i){var s=e(this),o={};e("#context-menu-layer").trigger("mousedown"),n.$trigger=s;if(n.events.show.call(s,n)===!1){t=null;return}h.update.call(s,n),n.position.call(s,n,r,i);if(n.zIndex){var u=n.zIndex;typeof n.zIndex=="function"&&(u=n.zIndex.call(s,n)),o.zIndex=l(s)+u}h.layer.call(n.$menu,n,o.zIndex),n.$menu.find("ul").css("zIndex",o.zIndex+1),n.$menu.css(o)[n.animation.show](n.animation.duration,function(){s.trigger("contextmenu:visible")}),s.data("contextMenu",n).addClass("context-menu-active"),e(document).off("keydown.contextMenu").on("keydown.contextMenu",c.key),n.autoHide&&e(document).on("mousemove.contextMenuAutoHide",function(e){var t=s.offset();t.right=t.left+s.outerWidth(),t.bottom=t.top+s.outerHeight(),n.$layer&&!n.hovering&&(!(e.pageX>=t.left&&e.pageX<=t.right)||!(e.pageY>=t.top&&e.pageY<=t.bottom))&&setTimeout(function(){!n.hovering&&n.$menu!==null&&typeof n.$menu!="undefined"&&n.$menu.trigger("contextmenu:hide")},50)})},hide:function(n,r){var i=e(this);n||(n=i.data("contextMenu")||{});if(!r&&n.events&&n.events.hide.call(i,n)===!1)return;i.removeData("contextMenu").removeClass("context-menu-active");if(n.$layer){setTimeout(function(e){return function(){e.remove()}}(n.$layer),10);try{delete n.$layer}catch(s){n.$layer=null}}t=null,n.$menu.find("."+n.classNames.hover).trigger("contextmenu:blur"),n.$selected=null,n.$menu.find("."+n.classNames.visible).removeClass(n.classNames.visible),e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),n.$menu&&n.$menu[n.animation.hide](n.animation.duration,function(){n.build&&(n.$menu.remove(),e.each(n,function(e){switch(e){case"ns":case"selector":case"build":case"trigger":return!0;default:n[e]=undefined;try{delete n[e]}catch(t){}return!0}})),setTimeout(function(){i.trigger("contextmenu:hidden")},10)})},create:function(t,n){function r(t){var n=e("<span></span>");if(t._accesskey)t._beforeAccesskey&&n.append(document.createTextNode(t._beforeAccesskey)),e("<span></span>").addClass("context-menu-accesskey").text(t._accesskey).appendTo(n),t._afterAccesskey&&n.append(document.createTextNode(t._afterAccesskey));else if(t.isHtmlName){if(typeof t.accesskey!="undefined")throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");n.html(t.name)}else n.text(t.name);return n}typeof n=="undefined"&&(n=t),t.$menu=e('<ul class="context-menu-list"></ul>').addClass(t.className||"").data({contextMenu:t,contextMenuRoot:n}),e.each(["callbacks","commands","inputs"],function(e,r){t[r]={},n[r]||(n[r]={})}),n.accesskeys||(n.accesskeys={}),e.each(t.items,function(i,s){var o=e('<li class="context-menu-item"></li>').addClass(s.className||""),a=null,f=null;o.on("click",e.noop);if(typeof s=="string"||s.type==="cm_separator")s={type:"cm_seperator"};s.$node=o.data({contextMenu:t,contextMenuRoot:n,contextMenuKey:i});if(typeof s.accesskey!="undefined"){var l=p(s.accesskey);for(var d=0,v;v=l[d];d++)if(!n.accesskeys[v]){n.accesskeys[v]=s;var m=s.name.match(new RegExp("^(.*?)("+v+")(.*)$","i"));m&&(s._beforeAccesskey=m[1],s._accesskey=m[2],s._afterAccesskey=m[3]);break}}if(s.type&&u[s.type])u[s.type].call(o,s,t,n),e.each([t,n],function(n,r){r.commands[i]=s,e.isFunction(s.callback)&&(typeof r.callbacks[i]=="undefined"||typeof t.type=="undefined")&&(r.callbacks[i]=s.callback)});else{s.type==="cm_seperator"?o.addClass("context-menu-separator "+n.classNames.notSelectable):s.type==="html"?o.addClass("context-menu-html "+n.classNames.notSelectable):s.type!=="sub"&&(s.type?(a=e("<label></label>").appendTo(o),r(s).appendTo(a),o.addClass("context-menu-input"),t.hasTypes=!0,e.each([t,n],function(e,t){t.commands[i]=s,t.inputs[i]=s})):s.items&&(s.type="sub"));switch(s.type){case"cm_seperator":break;case"text":f=e('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+i).val(s.value||"").appendTo(a);break;case"textarea":f=e('<textarea name=""></textarea>').attr("name","context-menu-input-"+i).val(s.value||"").appendTo(a),s.height&&f.height(s.height);break;case"checkbox":f=e('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+i).val(s.value||"").prop("checked",!!s.selected).prependTo(a);break;case"radio":f=e('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+s.radio).val(s.value||"").prop("checked",!!s.selected).prependTo(a);break;case"select":f=e('<select name=""></select>').attr("name","context-menu-input-"+i).appendTo(a),s.options&&(e.each(s.options,function(t,n){e("<option></option>").val(t).text(n).appendTo(f)}),f.val(s.selected));break;case"sub":r(s).appendTo(o),s.appendTo=s.$node,o.data("contextMenu",s).addClass("context-menu-submenu"),s.callback=null,"function"==typeof s.items.then?h.processPromises(s,n,s.items):h.create(s,n);break;case"html":e(s.html).appendTo(o);break;default:e.each([t,n],function(n,r){r.commands[i]=s,e.isFunction(s.callback)&&(typeof r.callbacks[i]=="undefined"||typeof t.type=="undefined")&&(r.callbacks[i]=s.callback)}),r(s).appendTo(o)}s.type&&s.type!=="sub"&&s.type!=="html"&&s.type!=="cm_seperator"&&(f.on("focus",c.focusInput).on("blur",c.blurInput),s.events&&f.on(s.events,t)),s.icon&&(e.isFunction(s.icon)?s._icon=s.icon.call(this,this,o,i,s):typeof s.icon=="string"&&s.icon.substring(0,3)==="fa-"?s._icon=n.classNames.icon+" "+n.classNames.icon+"--fa fa "+s.icon:s._icon=n.classNames.icon+" "+n.classNames.icon+"-"+s.icon,o.addClass(s._icon))}s.$input=f,s.$label=a,o.appendTo(t.$menu),!t.hasTypes&&e.support.eventSelectstart&&o.on("selectstart.disableTextSelect",c.abortevent)}),t.$node||t.$menu.css("display","none").addClass("context-menu-root"),t.$menu.appendTo(t.appendTo||document.body)},resize:function(t,n){var r;t.css({position:"absolute",display:"block"}),t.data("width",(r=t.get(0)).getBoundingClientRect?Math.ceil(r.getBoundingClientRect().width):t.outerWidth()+1),t.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),t.find("> li > ul").each(function(){h.resize(e(this),!0)}),n||t.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth(function(){return e(this).data("width")})},update:function(t,n){var r=this;typeof n=="undefined"&&(n=t,h.resize(t.$menu)),t.$menu.children().each(function(){var i=e(this),s=i.data("contextMenuKey"),o=t.items[s],u=e.isFunction(o.disabled)&&o.disabled.call(r,s,n)||o.disabled===!0,a;e.isFunction(o.visible)?a=o.visible.call(r,s,n):typeof o.visible!="undefined"?a=o.visible===!0:a=!0,i[a?"show":"hide"](),i[u?"addClass":"removeClass"](n.classNames.disabled),e.isFunction(o.icon)&&(i.removeClass(o._icon),o._icon=o.icon.call(this,r,i,s,o),i.addClass(o._icon));if(o.type){i.find("input, select, textarea").prop("disabled",u);switch(o.type){case"text":case"textarea":o.$input.val(o.value||"");break;case"checkbox":case"radio":o.$input.val(o.value||"").prop("checked",!!o.selected);break;case"select":o.$input.val((o.selected===0?"0":o.selected)||"")}}o.$menu&&h.update.call(r,o,n)})},layer:function(t,n){var i=t.$layer=e('<div id="context-menu-layer"></div>').css({height:r.height(),width:r.width(),display:"block",position:"fixed","z-index":n,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",t).insertBefore(this).on("contextmenu",c.abortevent).on("mousedown",c.layerClick);return typeof document.body.style.maxWidth=="undefined"&&i.css({position:"absolute",height:e(document).height()}),i},processPromises:function(e,t,n){function r(e,t,n){typeof n=="undefined"&&i(undefined),s(e,t,n)}function i(e,t,n){typeof n=="undefined"?(n={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):typeof n=="string"&&(n={error:{name:n}}),s(e,t,n)}function s(e,t,n){if(typeof t.$menu=="undefined"||!t.$menu.is(":visible"))return;e.$node.removeClass(t.classNames.iconLoadingClass),e.items=n,h.create(e,t,!0),h.update(e,t),t.positionSubmenu.call(e.$node,e.$menu)}e.$node.addClass(t.classNames.iconLoadingClass),n.then(r.bind(this,e,t),i.bind(this,e,t))}};e.fn.contextMenu=function(t){var n=this,r=t;if(this.length>0)if(typeof t=="undefined")this.first().trigger("contextmenu");else if(typeof t.x!="undefined"&&typeof t.y!="undefined")this.first().trigger(e.Event("contextmenu",{pageX:t.x,pageY:t.y,mouseButton:t.button}));else if(t==="hide"){var i=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;i&&i.trigger("contextmenu:hide")}else t==="destroy"?e.contextMenu("destroy",{context:this}):e.isPlainObject(t)?(t.context=this,e.contextMenu("create",t)):t?this.removeClass("context-menu-disabled"):t||this.addClass("context-menu-disabled");else e.each(o,function(){this.selector===n.selector&&(r.data=this,e.extend(r.data,{trigger:"demand"}))}),c.contextmenu.call(r.target,r);return this},e.contextMenu=function(t,r){typeof t!="string"&&(r=t,t="create"),typeof r=="string"?r={selector:r}:typeof r=="undefined"&&(r={});var u=e.extend(!0,{},a,r||{}),f=e(document),l=f,p=!1;!u.context||!u.context.length?u.context=document:(l=e(u.context).first(),u.context=l.get(0),p=!e(u.context).is(document));switch(t){case"create":if(!u.selector)throw new Error("No selector specified");if(u.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+u.selector+'" as it contains a reserved className');if(!u.build&&(!u.items||e.isEmptyObject(u.items)))throw new Error("No Items specified");i++,u.ns=".contextMenu"+i,p||(s[u.selector]=u.ns),o[u.ns]=u,u.trigger||(u.trigger="right");if(!n){var d=u.itemClickEvent==="click"?"click.contextMenu":"mouseup.contextMenu",v={"contextmenu:focus.contextMenu":c.focusItem,"contextmenu:blur.contextMenu":c.blurItem,"contextmenu.contextMenu":c.abortevent,"mouseenter.contextMenu":c.itemMouseenter,"mouseleave.contextMenu":c.itemMouseleave};v[d]=c.itemClick,f.on({"contextmenu:hide.contextMenu":c.hideMenu,"prevcommand.contextMenu":c.prevItem,"nextcommand.contextMenu":c.nextItem,"contextmenu.contextMenu":c.abortevent,"mouseenter.contextMenu":c.menuMouseenter,"mouseleave.contextMenu":c.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",c.inputClick).on(v,".context-menu-item"),n=!0}l.on("contextmenu"+u.ns,u.selector,u,c.contextmenu),p&&l.on("remove"+u.ns,function(){e(this).contextMenu("destroy")});switch(u.trigger){case"hover":l.on("mouseenter"+u.ns,u.selector,u,c.mouseenter).on("mouseleave"+u.ns,u.selector,u,c.mouseleave);break;case"left":l.on("click"+u.ns,u.selector,u,c.click);break;case"touchstart":l.on("touchstart"+u.ns,u.selector,u,c.click)}u.build||h.create(u);break;case"destroy":var m;if(p){var g=u.context;e.each(o,function(t,n){if(!n)return!0;if(!e(g).is(n.selector))return!0;m=e(".context-menu-list").filter(":visible"),m.length&&m.data().contextMenuRoot.$trigger.is(e(n.context).find(n.selector))&&m.trigger("contextmenu:hide",{force:!0});try{o[n.ns].$menu&&o[n.ns].$menu.remove(),delete o[n.ns]}catch(r){o[n.ns]=null}return e(n.context).off(n.ns),!0})}else if(!u.selector)f.off(".contextMenu .contextMenuAutoHide"),e.each(o,function(t,n){e(n.context).off(n.ns)}),s={},o={},i=0,n=!1,e("#context-menu-layer, .context-menu-list").remove();else if(s[u.selector]){m=e(".context-menu-list").filter(":visible"),m.length&&m.data().contextMenuRoot.$trigger.is(u.selector)&&m.trigger("contextmenu:hide",{force:!0});try{o[s[u.selector]].$menu&&o[s[u.selector]].$menu.remove(),delete o[s[u.selector]]}catch(y){o[s[u.selector]]=null}f.off(s[u.selector])}break;case"html5":(!e.support.htmlCommand&&!e.support.htmlMenuitem||typeof r=="boolean"&&r)&&e('menu[type="context"]').each(function(){this.id&&e.contextMenu({selector:"[contextmenu="+this.id+"]",items:e.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+t+'"')}return this},e.contextMenu.setInputValues=function(t,n){typeof n=="undefined"&&(n={}),e.each(t.inputs,function(e,t){switch(t.type){case"text":case"textarea":t.value=n[e]||"";break;case"checkbox":t.selected=n[e]?!0:!1;break;case"radio":t.selected=(n[t.radio]||"")===t.value;break;case"select":t.selected=n[e]||""}})},e.contextMenu.getInputValues=function(t,n){return typeof n=="undefined"&&(n={}),e.each(t.inputs,function(e,t){switch(t.type){case"text":case"textarea":case"select":n[e]=t.$input.val();break;case"checkbox":n[e]=t.$input.prop("checked");break;case"radio":t.$input.prop("checked")&&(n[t.radio]=t.value)}}),n},e.contextMenu.fromMenu=function(t){var n=e(t),r={};return v(r,n.children()),r},e.contextMenu.defaults=a,e.contextMenu.types=u,e.contextMenu.handle=c,e.contextMenu.op=h,e.contextMenu.menus=o}),define("contextMenu/ContextMenu",["jquery","lodash","Global","contextMenu/EditMenu","contextMenu/VisibilityMenu","contextMenu/DeleteMenu","MappingManager","events/NodeClassEvent","events/EdgeClassEvent","events/MappingRuleEvent","jquery-contextmenu"],function(e,t,n,r,i,s,o,u,a,f){e(function(){var l=function(e){var t=null;e?t="vertex_classes":t="edge_classes";var r={};if(!n.Ontology)return;for(var i in n.Ontology[t])n.Ontology[t].hasOwnProperty(i)&&(r[i]={name:i});return r},c=null,h=["JsonProperty","JsonArray","JsonObject","NodeClass","EdgeClass","MappingRule","ClassProperty"],p=function(r){var i=o.getMappingCanvasById(n.CurrentTabId),s;switch(r){case"MappingRule":f.MappingRuleCreateEvent();break;case"HideClass":s=e(c.target).parents(".NodeClass"),s.is(".NodeClass")?i.getNodeClassById(s.attr("id")).setPropertiesVisibility("hide"):(e(n.CurrentTabId).find(".ClassProperty").hide(),e(n.CurrentTabId).find(".MappingRule").hide());break;case"HideMR":s=e(c.target).parents(".NodeClass"),s.length>0?i.getNodeClassById(s.attr("id")).setMappingRulesVisibility("hide"):e(n.CurrentTabId).find(".MappingRule").hide();break;case"HideEdgesBoth":s=e(c.target).parents(".NodeClass"),s.length>0?i.getNodeClassById(s.attr("id")).setVisibilityOfEdges("hide"):e(n.CurrentTabId).find(".EdgeClass").hide();break;case"HideEdgesIn":s=e(c.target).parents(".NodeClass"),s.length>0?(s=e(c.target).parents(".NodeClass"),i.getNodeClassById(s.attr("id")).setVisibilityOfEdges("hide","in")):e(n.CurrentTabId).find(".EdgeClass").hide();break;case"HideEdgesOut":s=e(c.target).parents(".NodeClass"),s.length>0?(s=e(c.target).parents(".NodeClass"),i.getNodeClassById(s.attr("id")).setVisibilityOfEdges("hide","out")):e(n.CurrentTabId).find(".EdgeClass").hide();break;case"ShowClass":s=e(c.target).parents(".NodeClass"),s.length>0?i.getNodeClassById(s.attr("id")).setPropertiesVisibility("show"):e(n.CurrentTabId).find(".ClassProperty").show();break;case"ShowMR":s=e(c.target).parents(".NodeClass"),s.length>0?i.getNodeClassById(s.attr("id")).setMappingRulesVisibility("show"):e(n.CurrentTabId).find(".MappingRule").show();break;case"ShowEdgesBoth":s=e(c.target).parents(".NodeClass"),s.length>0?i.getNodeClassById(s.attr("id")).setVisibilityOfEdges("show"):e(n.CurrentTabId).find(".EdgeClass").show();break;case"ShowEdgesIn":s=e(c.target).parents(".NodeClass"),s.length>0?(s=e(c.target).parents(".NodeClass"),i.getNodeClassById(s.attr("id")).setVisibilityOfEdges("show","in")):e(n.CurrentTabId).find(".EdgeClass").show();break;case"ShowEdgesOut":s=e(c.target).parents(".NodeClass"),s.length>0?(s=e(c.target).parents(".NodeClass"),i.getNodeClassById(s.attr("id")).setVisibilityOfEdges("show","out")):e(n.CurrentTabId).find(".EdgeClass").show();break;case"delete":var l=function(e){if(!e.is("svg")){var n=e.attr("class");return t.contains(h,n)?e:l(e.parent())}},p=e(c.target);p=l(p);switch(p.attr("class")){case"NodeClass":i.deleteNodeClassById(p.attr("id"));break;case"EdgeClass":i.deleteEdgeClassById(p.attr("id"));break;case"MappingRule":i.deleteMappingRuleById(p.attr("id"));break;case"ClassProperty":var d=p.attr("id"),v=p.parents(".NodeClass").attr("id"),m=i.getNodeClassById(v);m.deletePropertyById(d)}break;case"truncateClass":s=e(c.target).parents(".NodeClass");var g=i.getNodeClassById(s.attr("id")),y=g.getProperties();for(var b in y)y.hasOwnProperty(b)&&y[b].getMappingRule()==null&&g.deletePropertyById(b);break;default:if(n.Ontology){e.inArray(r,Object.keys(n.Ontology.edge_classes))!==-1&&a.EdgeCreateEvent(r);if(e.inArray(r,Object.keys(n.Ontology.vertex_classes))!==-1){var w=n.GetOffsetCoordinates(c);u.CreateNodeClassEvent(r,w.x,w.y)}break}}};e.contextMenu({selector:".context-menu-one",build:function(n,o){r.EdgeClasses.items=l(!1),r.NodeClasses.items=l(!0),c=o;var u=e(o.target),a=null;return u.is(".mapping")?a=t.assign(t.clone(r),{sep:"---"},i):u.parent().is(".NodeClass")||u.parent().is(".ClassProperty")?a=t.assign(t.clone(i),{sep:"---"},s):a={Quit:{name:"Quit",icon:"delete"}},{callback:p,items:a}}})})}),define("Main",["jquery","MappingManager","ProjectManager","Global","bootstrapWrapper/TabWrapper","util/InitGraphSchema","navbar/NavBarMain","contextMenu/ContextMenu"],function(e,t,n,r,i,s,o){function u(){e.get(r.URL+"init.json",function(i){if(!i){console.error("No init.json found");return}i.source&&e.get(i.url+i.source,function(e){var n=null;try{n=JSON.parse(e)}catch(r){n=e}t.createMappingCanvasFromExample("Premapping",n)}).fail(function(e){alert(e.responseText+" No datasource example found!")}),i.ontology&&e.get(i.url+i.ontology,function(e){var t=null;try{t=JSON.parse(e)}catch(n){t=e}r.Ontology=t,s.LoadJsonOntology()}).fail(function(e){alert(e.responseText+" No Ontology found!")}),i.import&&e.get(i.url+i.import,function(e){var n=null;try{n=JSON.parse(e)}catch(r){n=e}t.createMappingCanvasFromJSON("Import",n)}).fail(function(){console.log("No mapping found in init")}),i.hasOwnProperty("project")&&e.get(i.url+i.project,function(e){var t=null;try{t=JSON.parse(e)}catch(r){t=e}n.fromJSON(t)}).fail(function(){console.log("No mapping found in init")})}).error(function(e){console.error(e)})}e(document).ready(function(){o(),i.InitTabContainer()})});if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.2.0",r.prototype.close=function(t){function n(){s.detach().trigger("closed.bs.alert").remove()}var r=e(this),i=r.attr("data-target");i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var s=e(i);t&&t.preventDefault(),s.length||(s=r.hasClass("alert")?r:r.parent()),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),s="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,s)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",null==s.resetText&&r.data("resetText",r[i]()),r[i](null==s[t]?this.options[t]:s[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),n.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),o="string"==typeof t?t:s.slide;i||r.data("bs.carousel",i=new n(this,s)),"number"==typeof t?i.to(t):o?i[o]():s.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,r=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o="next"==t?"left":"right",u="next"==t?"first":"last",f=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[u]()}if(i.hasClass("active"))return this.sliding=!1;var l=i[0],c=e.Event("slide.bs.carousel",{relatedTarget:l,direction:o});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=e(this.$indicators.children()[this.getItemIndex(i)]);h&&h.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:l,direction:o});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),r.one("bsTransitionEnd",function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),f.sliding=!1,setTimeout(function(){f.$element.trigger(p)},0)}).emulateTransitionEnd(1e3*r.css("transition-duration").slice(0,-1))):(r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(p)),s&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var r,i=e(this),s=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=e.extend({},s.data(),i.data()),u=i.attr("data-slide-to");u&&(o.interval=!1),t.call(s,o),u&&s.data("bs.carousel").to(u),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.collapse"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);!i&&s.toggle&&"show"==t&&(t=!t),i||r.data("bs.collapse",i=new n(this,s)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var r=this.$parent&&this.$parent.find("> .panel > .in");if(r&&r.length){var i=r.data("bs.collapse");if(i&&i.transitioning)return;t.call(r,"hide"),i||r.data("bs.collapse",null)}var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return o.call(this);var u=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(350)[s](this.$element[0][u])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(350):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var r=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r,i=e(this),s=i.attr("data-target")||n.preventDefault()||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),o=e(s),u=o.data("bs.collapse"),f=u?"toggle":i.data(),l=i.attr("data-parent"),c=l&&e(l);u&&u.transitioning||(c&&c.find('[data-toggle="collapse"][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(o,f)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(s).each(function(){var r=n(e(this)),i={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",i)),t.isDefaultPrevented()||r.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.2.0",o.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var s=n(i),o=s.hasClass("open");if(t(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var u={relatedTarget:this};if(s.trigger(r=e.Event("show.bs.dropdown",u)),r.isDefaultPrevented())return;i.trigger("focus"),s.toggleClass("open").trigger("shown.bs.dropdown",u)}return!1}},o.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),o=i.hasClass("open");if(!o||o&&27==t.keyCode)return 27==t.which&&i.find(s).trigger("focus"),r.trigger("click");var u=" li:not(.divider):visible a",l=i.find('[role="menu"]'+u+', [role="listbox"]'+u);if(l.length){var h=l.index(l.filter(":focus"));38==t.keyCode&&h>0&&h--,40==t.keyCode&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var u=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=u,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s+', [role="menu"], [role="listbox"]',o.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);s||i.data("bs.modal",s=new n(this,o)),"string"==typeof t?s[t](r):o.show&&s.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;if(this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(150):s()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),s=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},s.data(),r.data());r.is("a")&&n.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(s,o,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s="object"==typeof t&&t;(i||"destroy"!=t)&&(i||r.data("bs.tooltip",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),s=i.length;s--;){var o=i[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var u="hover"==o?"mouseenter":"focusin",f="hover"==o?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void (n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void (n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var r=this,i=this.tip(),s=this.getUID(this.type);this.setContent(),i.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,u=/\s?auto?\s?/i,f=u.test(o);f&&(o=o.replace(u,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var l=this.getPosition(),c=i[0].offsetWidth,h=i[0].offsetHeight;if(f){var p=o,d=this.$element.parent(),v=this.getPosition(d);o="bottom"==o&&l.top+l.height+h-v.scroll>v.height?"top":"top"==o&&l.top-v.scroll-h<0?"bottom":"right"==o&&l.right+c>v.width?"left":"left"==o&&l.left-c<v.left?"right":o,i.removeClass(p).addClass(o)}var m=this.getCalculatedOffset(o,l,c,h);this.applyPlacement(m,o);var g=function(){r.$element.trigger("shown.bs."+r.type),r.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",g).emulateTransitionEnd(150):g()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(u)&&(u=0),t.top=t.top+o,t.left=t.left+u,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var f=r[0].offsetWidth,l=r[0].offsetHeight;"top"==n&&l!=s&&(t.top=t.top+s-l);var c=this.getViewportAdjustedDelta(n,t,f,l);c.left?t.left+=c.left:t.top+=c.top;var h=c.left?2*c.left-i+f:2*c.top-s+l,p=c.left?"left":"top",d=c.left?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(h,r[0][d],p)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&r.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,r=this.tip(),i=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:r?e(window).width():t.outerWidth(),height:r?e(window).height():t.outerHeight()},r?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var u=t.top-s-o.scroll,a=t.top+s-o.scroll+r;u<o.top?i.top=o.top-u:a>o.top+o.height&&(i.top=o.top+o.height-a)}else{var f=t.left-s,l=t.left+s+n;f<o.left?i.left=o.left-f:l>o.width&&(i.left=o.left+o.width-l)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s="object"==typeof t&&t;(i||"destroy"!=t)&&(i||r.data("bs.popover",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function t(n,r){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,s)),"string"==typeof n&&i[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var r=this;this.$body.find(this.selector).map(function(){var r=e(this),i=r.data("target")||r.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[t]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){r.offsets.push(this[0]),r.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return o!=(e=s[s.length-1])&&this.activate(e);if(o&&t<=i[0])return o!=(e=s[0])&&this.activate(e);for(e=i.length;e--;)o!=s[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],s=e.Event("show.bs.tab",{relatedTarget:i});if(t.trigger(s),!s.isDefaultPrevented()){var o=e(r);this.activate(t.closest("li"),n),this.activate(o,o.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(t,n,r){function i(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var s=n.find("> .active"),o=r&&e.support.transition&&s.hasClass("fade");o?s.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),s.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,s)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),r=this.$target.scrollTop(),i=this.$element.offset(),s=this.options.offset,o=s.top,u=s.bottom;"object"!=typeof s&&(u=o=s),"function"==typeof o&&(o=s.top(this.$element)),"function"==typeof u&&(u=s.bottom(this.$element));var f=null!=this.unpin&&r+this.unpin<=i.top?!1:null!=u&&i.top+this.$element.height()>=t-u?"bottom":null!=o&&o>=r?"top":!1;if(this.affixed!==f){null!=this.unpin&&this.$element.css("top","");var l="affix"+(f?"-"+f:""),h=e.Event(l+".bs.affix");this.$element.trigger(h),h.isDefaultPrevented()||(this.affixed=f,this.unpin="bottom"==f?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(e.Event(l.replace("affix","affixed"))),"bottom"==f&&this.$element.offset({top:t-this.$element.height()-u}))}}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},r.offsetBottom&&(r.offset.bottom=r.offsetBottom),r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),define("bootstrap",["jquery"],function(){}),function(e){"function"==typeof define&&define.amd?define("jqueryui",["jquery"],e):e(jQuery)}(function(e){function t(t,r){var i,s,o,u=t.nodeName.toLowerCase();return"area"===u?(i=t.parentNode,s=i.name,t.href&&s&&"map"===i.nodeName.toLowerCase()?(o=e("img[usemap='#"+s+"']")[0],!!o&&n(o)):!1):(/^(input|select|textarea|button|object)$/.test(u)?!t.disabled:"a"===u?t.href||r:r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function r(e){for(var t,n;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=s(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(g.inline?g.dpDiv.parent()[0]:g.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function u(t,n){e.extend(t,n);for(var r in n)null==n[r]&&(t[r]=n[r]);return t}function a(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return r&&"static"===t.css("position")?!1:i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&s.length?s:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var r=e.attr(n,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function r(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?o["inner"+n].call(this):this.each(function(){e(this).css(s,r(this,t)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?o["outer"+n].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,r,i=e(this[0]);i.length&&i[0]!==document;){if(n=i.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,s=e.plugins[t];if(s&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;s.length>i;i++)e.options[s[i][0]]&&s[i][1].apply(e.element,n)}};var f=0,l=Array.prototype.slice;e.cleanData=function(t){return function(n){var r,i,s;for(s=0;null!=(i=n[s]);s++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(o){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];return t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){return e.isFunction(r)?(a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,s=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=s,t}}(),void 0):(a[t]=r,void 0)}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix||t:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,r,i=l.call(arguments,1),s=0,o=i.length;o>s;s++)for(n in i[s])r=i[s][n],i[s].hasOwnProperty(n)&&void 0!==r&&(t[n]=e.isPlainObject(r)?e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(i){var s="string"==typeof i,o=l.call(arguments,1),u=this;return s?this.each(function(){var n,s=e.data(this,r);return"instance"===i?(u=s,!1):s?e.isFunction(s[i])&&"_"!==i.charAt(0)?(n=s[i].apply(s,o),n!==s&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+i+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+i+"'")}):(o.length&&(i=e.widget.extend.apply(null,[i].concat(o))),this.each(function(){var t=e.data(this,r);t?(t.option(i||{}),t._init&&t._init()):e.data(this,r,new n(i,this))})),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=f++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,s,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},r=t.split("."),t=r.shift(),r.length){for(i=o[t]=e.widget.extend({},this.options[t]),s=0;r.length-1>s;s++)i[r[s]]=i[r[s]]||{},i=i[r[s]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,s=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^([\w:-]*)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){"string"==typeof i&&(i={effect:i});var o,u=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.widget;var c=!1;e(document).mouseup(function(){c=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,i="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return r&&!i&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),c=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,n){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function r(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var i,s,o=Math.max,u=Math.abs,a=Math.round,f=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,d=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,n,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),t=s.offsetWidth,r.css("overflow","scroll"),n=s.offsetWidth,t===n&&(n=r[0].clientWidth),r.remove(),i=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,s="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]),i=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:r,isDocument:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r||i?n.width():n.outerWidth(),height:r||i?n.height():n.outerHeight()}}},e.fn.position=function(i){if(!i||!i.of)return d.apply(this,arguments);i=e.extend({},i);var p,v,m,g,y,b,w=e(i.of),E=e.position.getWithinInfo(i.within),S=e.position.getScrollInfo(E),x=(i.collision||"flip").split(" "),T={};return b=r(w),w[0].preventDefault&&(i.at="left top"),v=b.width,m=b.height,g=b.offset,y=e.extend({},g),e.each(["my","at"],function(){var e,t,n=(i[this]||"").split(" ");1===n.length&&(n=f.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=f.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",e=c.exec(n[0]),t=c.exec(n[1]),T[this]=[e?e[0]:0,t?t[0]:0],i[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===i.at[0]?y.left+=v:"center"===i.at[0]&&(y.left+=v/2),"bottom"===i.at[1]?y.top+=m:"center"===i.at[1]&&(y.top+=m/2),p=t(T.at,v,m),y.left+=p[0],y.top+=p[1],this.each(function(){var r,f,l=e(this),c=l.outerWidth(),h=l.outerHeight(),d=n(this,"marginLeft"),b=n(this,"marginTop"),N=c+d+n(this,"marginRight")+S.width,C=h+b+n(this,"marginBottom")+S.height,L=e.extend({},y),A=t(T.my,l.outerWidth(),l.outerHeight());"right"===i.my[0]?L.left-=c:"center"===i.my[0]&&(L.left-=c/2),"bottom"===i.my[1]?L.top-=h:"center"===i.my[1]&&(L.top-=h/2),L.left+=A[0],L.top+=A[1],s||(L.left=a(L.left),L.top=a(L.top)),r={marginLeft:d,marginTop:b},e.each(["left","top"],function(t,n){e.ui.position[x[t]]&&e.ui.position[x[t]][n](L,{targetWidth:v,targetHeight:m,elemWidth:c,elemHeight:h,collisionPosition:r,collisionWidth:N,collisionHeight:C,offset:[p[0]+A[0],p[1]+A[1]],my:i.my,at:i.at,within:E,elem:l})}),i.using&&(f=function(e){var t=g.left-L.left,n=t+v-c,r=g.top-L.top,s=r+m-h,a={target:{element:w,left:g.left,top:g.top,width:v,height:m},element:{element:l,left:L.left,top:L.top,width:c,height:h},horizontal:0>n?"left":t>0?"right":"center",vertical:0>s?"top":r>0?"bottom":"middle"};c>v&&v>u(t+n)&&(a.horizontal="center"),h>m&&m>u(r+s)&&(a.vertical="middle"),a.important=o(u(t),u(n))>o(u(r),u(s))?"horizontal":"vertical",i.using.call(this,e,a)}),l.offset(e.extend(L,{using:f}))})},e.ui.position={fit:{left:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,u=e.left-t.collisionPosition.marginLeft,a=i-u,f=u+t.collisionWidth-s-i;t.collisionWidth>s?a>0&&0>=f?(n=e.left+a+t.collisionWidth-s-i,e.left+=a-n):e.left=f>0&&0>=a?i:a>f?i+s-t.collisionWidth:i:a>0?e.left+=a:f>0?e.left-=f:e.left=o(e.left-u,e.left)},top:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,s=t.within.height,u=e.top-t.collisionPosition.marginTop,a=i-u,f=u+t.collisionHeight-s-i;t.collisionHeight>s?a>0&&0>=f?(n=e.top+a+t.collisionHeight-s-i,e.top+=a-n):e.top=f>0&&0>=a?i:a>f?i+s-t.collisionHeight:i:a>0?e.top+=a:f>0?e.top-=f:e.top=o(e.top-u,e.top)}},flip:{left:function(e,t){var n,r,i=t.within,s=i.offset.left+i.scrollLeft,o=i.width,a=i.isWindow?i.scrollLeft:i.offset.left,f=e.left-t.collisionPosition.marginLeft,l=f-a,c=f+t.collisionWidth-o-a,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,d=-2*t.offset[0];0>l?(n=e.left+h+p+d+t.collisionWidth-o-s,(0>n||u(l)>n)&&(e.left+=h+p+d)):c>0&&(r=e.left-t.collisionPosition.marginLeft+h+p+d-a,(r>0||c>u(r))&&(e.left+=h+p+d))},top:function(e,t){var n,r,i=t.within,s=i.offset.top+i.scrollTop,o=i.height,a=i.isWindow?i.scrollTop:i.offset.top,f=e.top-t.collisionPosition.marginTop,l=f-a,c=f+t.collisionHeight-o-a,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,v=-2*t.offset[1];0>l?(r=e.top+p+d+v+t.collisionHeight-o-s,(0>r||u(l)>r)&&(e.top+=p+d+v)):c>0&&(n=e.top-t.collisionPosition.marginTop+p+d+v-a,(n>0||c>u(n))&&(e.top+=p+d+v))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,o,u=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(u?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},u&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in r)t.style[o]=r[o];t.appendChild(a),n=u||document.documentElement,n.insertBefore(t,n.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",i=e(a).offset().left,s=i>10&&11>i,t.innerHTML="",n.removeChild(t)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,r=this.headers.length,i=this.headers.index(t.target),s=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:s=this.headers[(i+1)%r];break;case n.LEFT:case n.UP:s=this.headers[(i-1+r)%r];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:s=this.headers[0];break;case n.END:s=this.headers[r-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,r=n.heightStyle,i=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),r=t.next(),i=r.uniqueId().attr("id");t.attr("aria-controls",i),r.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===r?(t=i.height(),this.element.siblings(":visible").each(function(){var n=e(this),r=n.css("position");"absolute"!==r&&"fixed"!==r&&(t-=n.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i[0]===r[0],o=s&&n.collapsible,u=o?e():i.next(),a=r.next(),f={oldHeader:r,oldPanel:a,newHeader:o?e():i,newPanel:u};t.preventDefault(),s&&!n.collapsible||this._trigger("beforeActivate",t,f)===!1||(n.active=o?!1:this.headers.index(i),this.active=s?e():i,this._toggle(f),r.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),s||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),i.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,r=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=r,this.options.animate?this._animate(n,r,t):(r.hide(),n.show(),this._toggleComplete(t)),r.attr({"aria-hidden":"true"}),r.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&r.length?r.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var r,i,s,o=this,u=0,a=e.css("box-sizing"),f=e.length&&(!t.length||e.index()<t.index()),l=this.options.animate||{},c=f&&l.down||l,h=function(){o._toggleComplete(n)};return"number"==typeof c&&(s=c),"string"==typeof c&&(i=c),i=i||c.easing||l.easing,s=s||c.duration||l.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(this.hideProps,{duration:s,easing:i,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:s,easing:i,complete:h,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?"content-box"===a&&(u+=n.now):"content"!==o.options.heightStyle&&(n.now=Math.round(r-t.outerHeight()-u),u=0)}}),void 0):t.animate(this.hideProps,s,i,h):e.animate(this.showProps,s,i,h)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,r,i,s,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,r=this.previousFilter||"",i=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),i===r?s=!0:i=r+i,n=this._filterMenuItems(i),n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(i=String.fromCharCode(t.keyCode),n=this._filterMenuItems(i)),n.length?(this.focus(t,n),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n,r=this,i=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.parent(),r=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",n.attr("id"))}),t=s.add(this.element),n=t.find(this.options.items),n.not(".ui-menu-item").each(function(){var t=e(this);r._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),n.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),r=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,i,s,o,u;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-n-r,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),u=t.outerHeight(),0>i?this.activeMenu.scrollTop(s+i):i+u>o&&this.activeMenu.scrollTop(s+i-o+u))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]()),this.focus(n,r)},nextPage:function(t){var n,r,i;return this.active?(this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),0>n.offset().top-r-i}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var n,r,i;return this.active?(this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-r+i>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return r.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,r,i=this.element[0].nodeName.toLowerCase(),s="textarea"===i,o="input"===i;this.isMultiLine=s?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly"))return t=!0,r=!0,n=!0,void 0;t=!1,r=!1,n=!1;var s=e.ui.keyCode;switch(i.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",i);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case s.UP:t=!0,this._keyEvent("previous",i);break;case s.DOWN:t=!0,this._keyEvent("next",i);break;case s.ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case s.TAB:this.menu.active&&this.menu.select(i);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(r){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault(),void 0;if(!n){var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r)}}},input:function(e){return r?(r=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===n||e.contains(n,r.target)||t.close()})})},menufocus:function(t,n){var r,i;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(i=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),r=n.item.attr("aria-label")||i.value,r&&e.trim(r).length&&(this.liveRegion.children().hide(),e("<div>").text(r).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,i){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!n&&!r)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}}),e.ui.autocomplete;var h,p="ui-button ui-widget ui-state-default ui-corner-all",d="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",v=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},m=function(t){var n=t.name,r=t.form,i=e([]);return n&&(n=n.replace(/'/g,"\\'"),i=r?e(r).find("[name='"+n+"'][type=radio]"):e("[name='"+n+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),i};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,v),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,r="checkbox"===this.type||"radio"===this.type,i=r?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===h&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||e(this).removeClass(i)}).bind("click"+this.eventNamespace,function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return n.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var r=t.element[0];m(r).not(r).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return n.disabled?!1:(e(this).addClass("ui-state-active"),h=this,t.document.one("mouseup",function(){h=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return n.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return n.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+d).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?m(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(d),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,s=[];r.primary||r.secondary?(this.options.text&&s.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(s.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),r=n.filter(":ui-button");n.not(":ui-button").button(),r.button("refresh"),this.buttons=n.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}});var g;e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return u(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,i,s;r=t.nodeName.toLowerCase(),i="div"===r||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),i),s.settings=e.extend({},n||{}),"input"===r?this._connectDatepicker(t,s):i&&this._inlineDatepicker(t,s)},_newInst:function(t,n){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?s(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var r=e(t);n.append=e([]),n.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,n),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var r,i,s,o=this._get(n,"appendText"),u=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[u?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),r=this._get(n,"showOn"),("focus"===r||"both"===r)&&t.focus(this._showDatepicker),("button"===r||"both"===r)&&(i=this._get(n,"buttonText"),s=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:i,title:i}):i)),t[u?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(n=0,r=0,i=0;e.length>i;i++)e[i].length>n&&(n=e[i].length,r=i);return r},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,n){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,r,i,s){var o,a,f,l,c,h=this._dialogInst;return h||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),u(h.settings,i||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(a=document.documentElement.clientWidth,f=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+l,f/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var n,r=e(t),i=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(i.append.remove(),i.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&r.removeClass(this.markerClassName).empty(),g===i&&(g=null))},_enableDatepicker:function(t){var n,r,i=e(t),s=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(r=i.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,r,i=e(t),s=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(r=i.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,r){var i,s,o,a,f=this._getInst(t);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):f?"all"===n?e.extend({},f.settings):this._get(f,n):null:(i=n||{},"string"==typeof n&&(i={},i[n]=r),f&&(this._curInst===f&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(f,"min"),a=this._getMinMaxDate(f,"max"),u(f.settings,i),null!==o&&void 0!==i.dateFormat&&void 0===i.minDate&&(f.settings.minDate=this._formatDate(f,o)),null!==a&&void 0!==i.dateFormat&&void 0===i.maxDate&&(f.settings.maxDate=this._formatDate(f,a)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),f),this._autoSize(f),this._setDate(f,s),this._updateAlternate(f),this._updateDatepicker(f)),void 0)},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,s=e.datepicker._getInst(t.target),o=!0,u=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),i[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,i[0]),n=e.datepicker._get(s,"onSelect"),n?(r=e.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[r,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,r,i=e.datepicker._getInst(t.target);return e.datepicker._get(i,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">r||!n||n.indexOf(r)>-1):void 0},_doKeyUp:function(t){var n,r=e.datepicker._getInst(t.target);if(r.input.val()!==r.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,e.datepicker._getFormatConfig(r)),n&&(e.datepicker._setDateFromField(r),e.datepicker._updateAlternate(r),e.datepicker._updateDatepicker(r))}catch(i){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,i,s,o,a,f,l;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),i=e.datepicker._get(n,"beforeShow"),s=i?i.apply(t,[t,n]):{},s!==!1&&(u(n.settings,s),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),a=e.datepicker._checkOffset(n,a,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(f=e.datepicker._get(n,"showAnim"),l=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",r(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[f]?n.dpDiv.show(f,e.datepicker._get(n,"showOptions"),l):n.dpDiv[f||"show"](f?l:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,g=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,r=this._getNumberOfMonths(t),i=r[1],s=17,u=t.dpDiv.find("."+this._dayOverClass+" a");u.length>0&&o.apply(u.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",s*i+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,u=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),f=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-o:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+u?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>a&&a>i?Math.abs(n.left+i-a):0),n.top-=Math.min(n.top,n.top+s>f&&f>s?Math.abs(s+u):0),n},_findPos:function(t){for(var n,r=this._getInst(t),i=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,r,i,s,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(o,"showAnim"),r=this._get(o,"duration"),i=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[n]||e.effects[n])?o.dpDiv.hide(n,e.datepicker._get(o,"showOptions"),r,i):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1,s=this._get(o,"onClose"),s&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==r)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,r){var i=e(t),s=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(s,n+("M"===r?this._get(s,"showCurrentAtPos"):0),r),this._updateDatepicker(s))},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),s=this._getInst(i[0]);s["selected"+("M"===r?"Month":"Year")]=s["draw"+("M"===r?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(i)},_selectDay:function(t,n,r,i){var s,o=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=e("a",i).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=r,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),s=this._getInst(i[0]);n=null!=n?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),r=this._get(s,"onSelect"),r?r.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,r,i,s=this._get(t,"altField");s&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),i=this.formatDate(n,r,this._getFormatConfig(t)),e(s).each(function(){e(this).val(i)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,r){if(null==t||null==n)throw"Invalid arguments";if(n="object"==typeof n?""+n:n+"",""===n)return null;var i,s,o,u,a=0,f=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof f?f:(new Date).getFullYear()%100+parseInt(f,10),c=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,h=(r?r.dayNames:null)||this._defaults.dayNames,p=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,d=(r?r.monthNames:null)||this._defaults.monthNames,v=-1,m=-1,g=-1,y=-1,b=!1,w=function(e){var n=t.length>i+1&&t.charAt(i+1)===e;return n&&i++,n},E=function(e){var t=w(e),r="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i="y"===e?r:1,s=RegExp("^\\d{"+i+","+r+"}"),o=n.substring(a).match(s);if(!o)throw"Missing number at position "+a;return a+=o[0].length,parseInt(o[0],10)},S=function(t,r,i){var s=-1,o=e.map(w(t)?i:r,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var r=t[1];return n.substr(a,r.length).toLowerCase()===r.toLowerCase()?(s=t[0],a+=r.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+a},x=function(){if(n.charAt(a)!==t.charAt(i))throw"Unexpected literal at position "+a;a++};for(i=0;t.length>i;i++)if(b)"'"!==t.charAt(i)||w("'")?x():b=!1;else switch(t.charAt(i)){case"d":g=E("d");break;case"D":S("D",c,h);break;case"o":y=E("o");break;case"m":m=E("m");break;case"M":m=S("M",p,d);break;case"y":v=E("y");break;case"@":u=new Date(E("@")),v=u.getFullYear(),m=u.getMonth()+1,g=u.getDate();break;case"!":u=new Date((E("!")-this._ticksTo1970)/1e4),v=u.getFullYear(),m=u.getMonth()+1,g=u.getDate();break;case"'":w("'")?x():b=!0;break;default:x()}if(n.length>a&&(o=n.substr(a),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===v?v=(new Date).getFullYear():100>v&&(v+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=v?0:-100)),y>-1)for(m=1,g=y;;){if(s=this._getDaysInMonth(v,m-1),s>=g)break;m++,g-=s}if(u=this._daylightSavingAdjust(new Date(v,m-1,g)),u.getFullYear()!==v||u.getMonth()+1!==m||u.getDate()!==g)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=function(t){var n=e.length>r+1&&e.charAt(r+1)===t;return n&&r++,n},f=function(e,t,n){var r=""+t;if(a(e))for(;n>r.length;)r="0"+r;return r},l=function(e,t,n,r){return a(e)?r[t]:n[t]},c="",h=!1;if(t)for(r=0;e.length>r;r++)if(h)"'"!==e.charAt(r)||a("'")?c+=e.charAt(r):h=!1;else switch(e.charAt(r)){case"d":c+=f("d",t.getDate(),2);break;case"D":c+=l("D",t.getDay(),i,s);break;case"o":c+=f("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":c+=f("m",t.getMonth()+1,2);break;case"M":c+=l("M",t.getMonth(),o,u);break;case"y":c+=a("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":a("'")?c+="'":h=!0;break;default:c+=e.charAt(r)}return c},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=e.length>t+1&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;e.length>t;t++)if(r)"'"!==e.charAt(t)||i("'")?n+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),s=i,o=this._getFormatConfig(e);try{s=this.parseDate(n,r,o)||i}catch(u){r=t?"":r}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=r?s.getDate():0,e.currentMonth=r?s.getMonth():0,e.currentYear=r?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(r){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=i.getFullYear(),o=i.getMonth(),u=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=a.exec(n);f;){switch(f[2]||"d"){case"d":case"D":u+=parseInt(f[1],10);break;case"w":case"W":u+=7*parseInt(f[1],10);break;case"m":case"M":o+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o))}f=a.exec(n)}return new Date(s,o,u)},o=null==n||""===n?r:"string"==typeof n?s(n):"number"==typeof n?isNaN(n)?r:i(n):new Date(n.getTime());return o=o&&"Invalid Date"==""+o?r:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),i===e.selectedMonth&&s===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q=new Date,R=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),U=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),X=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),$=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),K=1!==V[0]||1!==V[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(e,"min"),Y=this._getMinMaxDate(e,"max"),Z=e.drawMonth-$,et=e.drawYear;if(0>Z&&(Z+=12,et--),Y)for(t=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth()-V[0]*V[1]+1,Y.getDate())),t=G&&G>t?G:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,n=this._get(e,"prevText"),n=X?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=X?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>",o=this._get(e,"currentText"),u=this._get(e,"gotoCurrent")&&e.currentDay?Q:R,o=X?this.formatDate(o,u,this._getFormatConfig(e)):o,a=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",f=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?a:"")+(this._isInRange(e,u)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(U?"":a)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,c=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),d=this._get(e,"monthNames"),v=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),g=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",S=0;V[0]>S;S++){for(x="",this.maxRows=4,T=0;V[1]>T;T++){if(N=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),C=" ui-corner-all",k="",K){if(k+="<div class='ui-datepicker-group",V[1]>1)switch(T){case 0:k+=" ui-datepicker-group-first",C=" ui-corner-"+(U?"right":"left");break;case V[1]-1:k+=" ui-datepicker-group-last",C=" ui-corner-"+(U?"left":"right");break;default:k+=" ui-datepicker-group-middle",C=""}k+="'>"}for(k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===S?U?s:r:"")+(/all|right/.test(C)&&0===S?U?r:s:"")+this._generateMonthYearHeader(e,Z,et,G,Y,S>0||T>0,d,v)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",L=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",E=0;7>E;E++)A=(E+l)%7,L+="<th scope='col'"+((E+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[A]+"'>"+p[A]+"</span></th>";for(k+=L+"</tr></thead><tbody>",O=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,O)),M=(this._getFirstDayOfMonth(et,Z)-l+7)%7,_=Math.ceil((M+O)/7),D=K?this.maxRows>_?this.maxRows:_:_,this.maxRows=D,P=this._daylightSavingAdjust(new Date(et,Z,1-M)),H=0;D>H;H++){for(k+="<tr>",B=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"",E=0;7>E;E++)j=m?m.apply(e.input?e.input[0]:null,[P]):[!0,""],F=P.getMonth()!==Z,I=F&&!y||!j[0]||G&&G>P||Y&&P>Y,B+="<td class='"+((E+l+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===N.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===P.getTime()&&b.getTime()===N.getTime()?" "+this._dayOverClass:"")+(I?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+j[1]+(P.getTime()===Q.getTime()?" "+this._currentClass:"")+(P.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(F&&!g||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(I?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":I?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===R.getTime()?" ui-state-highlight":"")+(P.getTime()===Q.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);k+=B+"</tr>"}Z++,Z>11&&(Z=0,et++),k+="</tbody></table>"+(K?"</div>"+(V[0]>0&&T===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=k}w+=x}return w+=f,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a,f,l,c,h,p,d,v,m=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(a=r&&r.getFullYear()===n,f=i&&i.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;12>l;l++)(!a||l>=r.getMonth())&&(!f||i.getMonth()>=l)&&(w+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+u[l]+"</option>");w+="</select>"}if(y||(b+=w+(!s&&m&&g?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!g)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(c=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},d=p(c[0]),v=Math.max(d,p(c[1]||"")),d=r?Math.max(d,r.getFullYear()):d,v=i?Math.min(v,i.getFullYear()):v,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";v>=d;d++)e.yearshtml+="<option value='"+d+"'"+(d===n?" selected='selected'":"")+">"+d+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!s&&m&&g?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,n){var r=e.drawYear+("Y"===n?t:0),i=e.drawMonth+("M"===n?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+("D"===n?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&n>t?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(0>t?t:i[0]*i[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,u=null,a=this._get(e,"yearRange");return a&&(n=a.split(":"),r=(new Date).getFullYear(),o=parseInt(n[0],10),u=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=r),n[1].match(/[+\-].*/)&&(u+=r)),(!i||t.getTime()>=i.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!u||u>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(r){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,s=this.document[0];return this.relativeContainer=null,i.containment?"window"===i.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===i.containment?(this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):i.containment.constructor===Array?(this.containment=i.containment,void 0):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),n=e(i.containment),r=n[0],r&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,s,o=this.options,u=this._isRootNode(this.scrollParent[0]),a=e.pageX,f=e.pageY;return u&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(a=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(f=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(a=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(f=n[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,f=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i,s=o.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,a=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(a=this.originalPageX),"x"===o.axis&&(f=this.originalPageY)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:u?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:u?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))})},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(t,n,r){e.each(r.sortables,function(){var i=!1,s=this;s.positionAbs=r.positionAbs,s.helperProportions=r.helperProportions,s.offset.click=r.offset.click,s._intersectsWith(s.containerCache)&&(i=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(i=!1),i})),i?(s.isOver||(s.isOver=1,r._parent=n.helper.parent(),s.currentItem=n.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return n.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=r.offset.click.top,s.offset.click.left=r.offset.click.left,s.offset.parent.left-=r.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=r.offset.parent.top-s.offset.parent.top,r._trigger("toSortable",t),r.dropped=s.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,s.fromOutside=r),s.currentItem&&(s._mouseDrag(t),n.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),s=r.options;i.css("cursor")&&(s._cursor=i.css("cursor")),i.css("cursor",s.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),s=r.options;i.css("opacity")&&(s._opacity=i.css("opacity")),i.css("opacity",s.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,s=!1,o=r.scrollParentNotHidden[0],u=r.document[0];o!==u&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+o.offsetHeight-t.pageY<i.scrollSensitivity?o.scrollTop=s=o.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+o.offsetWidth-t.pageX<i.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(u).scrollTop()<i.scrollSensitivity?s=e(u).scrollTop(e(u).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(u).scrollTop())<i.scrollSensitivity&&(s=e(u).scrollTop(e(u).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(u).scrollLeft()<i.scrollSensitivity?s=e(u).scrollLeft(e(u).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(u).scrollLeft())<i.scrollSensitivity&&(s=e(u).scrollLeft(e(u).scrollLeft()+i.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var i,s,o,u,a,f,l,c,h,p,d=r.options,v=d.snapTolerance,m=n.offset.left,g=m+r.helperProportions.width,y=n.offset.top,b=y+r.helperProportions.height;for(h=r.snapElements.length-1;h>=0;h--)a=r.snapElements[h].left-r.margins.left,f=a+r.snapElements[h].width,l=r.snapElements[h].top-r.margins.top,c=l+r.snapElements[h].height,a-v>g||m>f+v||l-v>b||y>c+v||!e.contains(r.snapElements[h].item.ownerDocument,r.snapElements[h].item)?(r.snapElements[h].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=!1):("inner"!==d.snapMode&&(i=v>=Math.abs(l-b),s=v>=Math.abs(c-y),o=v>=Math.abs(a-g),u=v>=Math.abs(f-m),i&&(n.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),s&&(n.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left),u&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f}).left)),p=i||s||o||u,"outer"!==d.snapMode&&(i=v>=Math.abs(l-y),s=v>=Math.abs(c-b),o=v>=Math.abs(a-m),u=v>=Math.abs(f-g),i&&(n.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),s&&(n.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:a}).left),u&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f-r.helperProportions.width}).left)),!r.snapElements[h].snapping&&(i||s||o||u||p)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=i||s||o||u||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,s=r.options,o=e.makeArray(e(s.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});o.length&&(i=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",i+t)}),this.css("zIndex",i+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),s=r.options;i.css("zIndex")&&(s._zIndex=i.css("zIndex")),i.css("zIndex",s.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},_create:function(){var t,n,r,i,s,o=this,u=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!u.aspectRatio,aspectRatio:u.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:u.helper||u.ghost||u.animate?u.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=u.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;t.length>n;n++)r=e.trim(t[n]),s="ui-resizable-"+r,i=e("<div class='ui-resizable-handle "+s+"'></div>"),i.css({zIndex:u.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var n,r,i,s;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[n],this.element),s=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")}),u.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){u.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){u.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)r=e(this.handles[n])[0],(r===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n,r,i,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),s.containment&&(n+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===i?this.axis+"-resize":i),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r,i=this.originalMousePosition,s=this.axis,o=t.pageX-i.left||0,u=t.pageY-i.top||0,a=this._change[s];return this._updatePrevProperties(),a?(n=a.apply(this,[t,o,u]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n,r,i,s,o,u,a,f=this.options,l=this;return this._helper&&(n=this._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),i=r&&this._hasScroll(n[0],"left")?0:l.sizeDiff.height,s=r?0:l.sizeDiff.width,o={width:l.helper.width()-s,height:l.helper.height()-i},u=parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left)||null,a=parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top)||null,f.animate||this.element.css(e.extend(o,{top:a,left:u})),l.helper.height(l.size.height),l.helper.width(l.size.width),this._helper&&!f.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,r,i,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,r=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,i=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),r>s.minHeight&&(s.minHeight=r),s.maxWidth>n&&(s.maxWidth=n),s.maxHeight>i&&(s.maxHeight=i)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,u=this.originalPosition.left+this.originalSize.width,a=this.position.top+this.size.height,f=/sw|nw|w/.test(n),l=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),s&&f&&(e.left=u-t.minWidth),r&&f&&(e.left=u-t.maxWidth),o&&l&&(e.top=a-t.minHeight),i&&l&&(e.top=a-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseInt(r[t],10)||0,n[t]+=parseInt(i[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,u=s?0:n.sizeDiff.width,a={width:n.size.width-u,height:n.size.height-o},f=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,l=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(a,l&&f?{top:l,left:f}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,i,s,o,u,a=e(this).resizable("instance"),f=a.options,l=a.element,c=f.containment,h=c instanceof e?c.get(0):/parent/.test(c)?l.parent().get(0):c;h&&(a.containerElement=e(h),/document/.test(c)||c===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=a._num(t.css("padding"+r))}),a.containerOffset=t.offset(),a.containerPosition=t.position(),a.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=a.containerOffset,i=a.containerSize.height,s=a.containerSize.width,o=a._hasScroll(h,"left")?h.scrollWidth:s,u=a._hasScroll(h)?h.scrollHeight:i,a.parentData={element:h,left:r.left,top:r.top,width:o,height:u}))},resize:function(t){var n,r,i,s,o=e(this).resizable("instance"),u=o.options,a=o.containerOffset,f=o.position,l=o._aspectRatio||t.shiftKey,c={top:0,left:0},h=o.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(c=a),f.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-c.left),l&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=u.helper?a.left:0),f.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),l&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?a.top:0),i=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),i&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),n=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-a.left)),r=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-a.top)),n+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-n,l&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),r+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-r,l&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,i=t.containerPosition,s=t.containerElement,o=e(t.helper),u=o.offset(),a=o.outerWidth()-t.sizeDiff.width,f=o.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f}),t._helper&&!n.animate&&/static/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,n){var r=e(this).resizable("instance"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0};e(i.alsoResize).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),i={},s=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(r[t]||0)+(u[t]||0);n&&n>=0&&(i[t]=n||null)}),t.css(i)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),r=n.options,i=n.size,s=n.originalSize,o=n.originalPosition,u=n.axis,a="number"==typeof r.grid?[r.grid,r.grid]:r.grid,f=a[0]||1,l=a[1]||1,c=Math.round((i.width-s.width)/f)*f,h=Math.round((i.height-s.height)/l)*l,p=s.width+c,d=s.height+h,v=r.maxWidth&&p>r.maxWidth,m=r.maxHeight&&d>r.maxHeight,g=r.minWidth&&r.minWidth>p,y=r.minHeight&&r.minHeight>d;r.grid=a,g&&(p+=f),y&&(d+=l),v&&(p-=f),m&&(d-=l),/^(se|s|e)$/.test(u)?(n.size.width=p,n.size.height=d):/^(ne)$/.test(u)?(n.size.width=p,n.size.height=d,n.position.top=o.top-h):/^(sw)$/.test(u)?(n.size.width=p,n.size.height=d,n.position.left=o.left-c):((0>=d-l||0>=p-f)&&(t=n._getPaddingPlusBorderDimensions(this)),d-l>0?(n.size.height=d,n.position.top=o.top-h):(d=l-t.height,n.size.height=d,n.position.top=o.top+s.height-d),p-f>0?(n.size.width=p,n.position.left=o.left-c):(p=f-t.width,n.size.width=p,n.position.left=o.left+s.width-p))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,r=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{n=this.document[0].activeElement,n&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(i){}this._hide(this.uiDialog,this.options.hide,function(){r._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var r=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),s=Math.max.apply(null,i);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),r=!0),r&&!n&&this._trigger("focus",t),r},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement,n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);n||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),r=n.filter(":first"),i=n.filter(":last");t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){i.focus()}),t.preventDefault()):(this._delay(function(){r.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(n,function(n,r){var i,s;r=e.isFunction(r)?{click:r,text:n}:r,r=e.extend({type:"button"},r),i=r.click,r.click=function(){i.apply(t.element[0],arguments)},s={icons:r.icons,text:r.showText},delete r.icons,delete r.showText,e("<button></button>",r).button(s).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,i){e(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",r,t(i))},drag:function(e,r){n._trigger("drag",e,t(r))},stop:function(i,s){var o=s.offset.left-n.document.scrollLeft(),u=s.offset.top-n.document.scrollTop();r.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(u>=0?"+":"")+u,of:n.window},e(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",i,t(s))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,r=this.options,i=r.resizable,s=this.uiDialog.css("position"),o="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:o,start:function(r,i){e(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",r,t(i))},resize:function(e,r){n._trigger("resize",e,t(r))},stop:function(i,s){var o=n.uiDialog.offset(),u=o.left-n.document.scrollLeft(),a=o.top-n.document.scrollTop();r.height=n.uiDialog.height(),r.width=n.uiDialog.width(),r.position={my:"left top",at:"left"+(u>=0?"+":"")+u+" "+"top"+(a>=0?"+":"")+a,of:n.window},e(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",i,t(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,r=!1,i={};e.each(t,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(r=!0),e in n.resizableRelatedOptions&&(i[e]=t)}),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(e,t){var n,r,i=this.uiDialog;"dialogClass"===e&&i.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(n=i.is(":data(ui-draggable)"),n&&!t&&i.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(r=i.is(":data(ui-resizable)"),r&&!t&&i.resizable("destroy"),r&&"string"==typeof t&&i.resizable("option","handles",t),r||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),t=Math.max(0,r.minHeight-e),n="number"==typeof r.maxHeight?Math.max(0,r.maxHeight-e):"none","auto"===r.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===r.options.scope&&n.accept.call(n.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)?(i=!0,!1):void 0}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,n){return e>=t&&t+n>e}return function(t,n,r,i){if(!n.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,u=s+t.helperProportions.width,a=o+t.helperProportions.height,f=n.offset.left,l=n.offset.top,c=f+n.proportions().width,h=l+n.proportions().height;switch(r){case"fit":return s>=f&&c>=u&&o>=l&&h>=a;case"intersect":return s+t.helperProportions.width/2>f&&c>u-t.helperProportions.width/2&&o+t.helperProportions.height/2>l&&h>a-t.helperProportions.height/2;case"pointer":return e(i.pageY,l,n.proportions().height)&&e(i.pageX,f,n.proportions().width);case"touch":return(o>=l&&h>=o||a>=l&&h>=a||l>o&&a>h)&&(s>=f&&c>=s||u>=f&&c>=u||f>s&&u>c);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r,i,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,u=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;s.length>r;r++)if(!(s[r].options.disabled||t&&!s[r].accept.call(s[r].element[0],t.currentItem||t.element))){for(i=0;u.length>i;i++)if(u[i]===s[r].element[0]){s[r].proportions().height=0;continue e}s[r].visible="none"!==s[r].element.css("display"),s[r].visible&&("mousedown"===o&&s[r]._activate.call(s[r],n),s[r].offset=s[r].element.offset(),s[r].proportions({width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight}))}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,i,s,o=e.ui.intersect(t,this,this.options.tolerance,n),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;u&&(this.options.greedy&&(i=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===i}),s.length&&(r=e(s[0]).droppable("instance"),r.greedyChild="isover"===u)),r&&"isover"===u&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,n),r&&"isout"===u&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},e.ui.droppable;var y="ui-effects-",b=e;e.effects={effect:{}},function(e,t){function n(e,t,n){var r=c[t.type]||{};return null==e?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:e>r.max?r.max:e)}function r(n){var r=f(),i=r._rgba=[];return n=n.toLowerCase(),d(a,function(e,s){var o,u=s.re.exec(n),a=u&&s.parse(u),f=s.space||"rgba";return a?(o=r[f](a),r[l[f].cache]=o[l[f].cache],i=r._rgba=o._rgba,!1):t}),i.length?("0,0,0,0"===i.join()&&e.extend(i,s.transparent),r):s[n]}function i(e,t,n){return n=(n+1)%1,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var s,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",u=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],f=e.Color=function(t,n,r,i){return new e.Color.fn.parse(t,n,r,i)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=f.support={},p=e("<p>")[0],d=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,d(l,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),f.fn=e.extend(f.prototype,{parse:function(i,o,u,a){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(o),o=t);var c=this,h=e.type(i),p=this._rgba=[];return o!==t&&(i=[i,o,u,a],h="array"),"string"===h?this.parse(r(i)||s._default):"array"===h?(d(l.rgba.props,function(e,t){p[t.idx]=n(i[t.idx],t)}),this):"object"===h?(i instanceof f?d(l,function(e,t){i[t.cache]&&(c[t.cache]=i[t.cache].slice())}):d(l,function(t,r){var s=r.cache;d(r.props,function(e,t){if(!c[s]&&r.to){if("alpha"===e||null==i[e])return;c[s]=r.to(c._rgba)}c[s][t.idx]=n(i[e],t,!0)}),c[s]&&0>e.inArray(null,c[s].slice(0,3))&&(c[s][3]=1,r.from&&(c._rgba=r.from(c[s])))}),this):t},is:function(e){var n=f(e),r=!0,i=this;return d(l,function(e,s){var o,u=n[s.cache];return u&&(o=i[s.cache]||s.to&&s.to(i._rgba)||[],d(s.props,function(e,n){return null!=u[n.idx]?r=u[n.idx]===o[n.idx]:t})),r}),r},_space:function(){var e=[],t=this;return d(l,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var r=f(e),i=r._space(),s=l[i],o=0===this.alpha()?f("transparent"):this,u=o[s.cache]||s.to(o._rgba),a=u.slice();return r=r[s.cache],d(s.props,function(e,i){var s=i.idx,o=u[s],f=r[s],l=c[i.type]||{};null!==f&&(null===o?a[s]=f:(l.mod&&(f-o>l.mod/2?o+=l.mod:o-f>l.mod/2&&(o-=l.mod)),a[s]=n((f-o)*t+o,i)))}),this[i](a)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),i=f(t)._rgba;return f(e.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(255*r)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,l.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,r=e[0]/255,i=e[1]/255,s=e[2]/255,o=e[3],u=Math.max(r,i,s),a=Math.min(r,i,s),f=u-a,l=u+a,c=.5*l;return t=a===u?0:r===u?60*(i-s)/f+360:i===u?60*(s-r)/f+120:60*(r-i)/f+240,n=0===f?0:.5>=c?f/l:f/(2-l),[Math.round(t)%360,n,c,null==o?1:o]},l.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],s=e[3],o=.5>=r?r*(1+n):r+n-r*n,u=2*r-o;return[Math.round(255*i(u,o,t+1/3)),Math.round(255*i(u,o,t)),Math.round(255*i(u,o,t-1/3)),s]},d(l,function(r,i){var s=i.props,o=i.cache,a=i.to,l=i.from;f.fn[r]=function(r){if(a&&!this[o]&&(this[o]=a(this._rgba)),r===t)return this[o].slice();var i,u=e.type(r),c="array"===u||"object"===u?r:arguments,h=this[o].slice();return d(s,function(e,t){var r=c["object"===u?e:t.idx];null==r&&(r=h[t.idx]),h[t.idx]=n(r,t)}),l?(i=f(l(h)),i[o]=h,i):f(h)},d(s,function(t,n){f.fn[t]||(f.fn[t]=function(i){var s,o=e.type(i),a="alpha"===t?this._hsla?"hsla":"rgba":r,f=this[a](),l=f[n.idx];return"undefined"===o?l:("function"===o&&(i=i.call(this,l),o=e.type(i)),null==i&&n.empty?this:("string"===o&&(s=u.exec(i),s&&(i=l+parseFloat(s[2])*("+"===s[1]?1:-1))),f[n.idx]=i,this[a](f)))})})}),f.hook=function(t){var n=t.split(" ");d(n,function(t,n){e.cssHooks[n]={set:function(t,i){var s,o,u="";if("transparent"!==i&&("string"!==e.type(i)||(s=r(i)))){if(i=f(s||i),!h.rgba&&1!==i._rgba[3]){for(o="backgroundColor"===n?t.parentNode:t;(""===u||"transparent"===u)&&o&&o.style;)try{u=e.css(o,"backgroundColor"),o=o.parentNode}catch(a){}i=i.blend(u&&"transparent"!==u?u:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(a){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=f(t.elem,n),t.end=f(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},f.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return d(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var n,r,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(i&&i.length&&i[0]&&i[i[0]])for(r=i.length;r--;)n=i[r],"string"==typeof i[n]&&(s[e.camelCase(n)]=i[n]);else for(n in i)"string"==typeof i[n]&&(s[n]=i[n]);return s}function n(t,n){var r,s,o={};for(r in n)s=n[r],t[r]!==s&&(i[r]||(e.fx.step[r]||!isNaN(parseFloat(s)))&&(o[r]=s));return o}var r=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,s,o,u){var a=e.speed(s,o,u);return this.queue(function(){var s,o=e(this),u=o.attr("class")||"",f=a.children?o.find("*").addBack():o;f=f.map(function(){var n=e(this);return{el:n,start:t(this)}}),s=function(){e.each(r,function(e,t){i[t]&&o[t+"Class"](i[t])})},s(),f=f.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),o.attr("class",u),f=f.map(function(){var t=this,n=e.Deferred(),r=e.extend({},a,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()}),e.when.apply(e,f.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),a.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(n,r,i,s){return r?e.effects.animateClass.call(this,{add:n},r,i,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,r,i,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},r,i,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,r,i,s,o){return"boolean"==typeof r||void 0===r?i?e.effects.animateClass.call(this,r?{add:n}:{remove:n},i,s,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},r,i,s)}}(e.fn.toggleClass),switchClass:function(t,n,r,i,s){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,s)}})}(),function(){function t(t,n,r,i){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(i=n,r=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(i=r,r=n,n={}),e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:"number"==typeof r?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var n=0;t.length>n;n++)null!==t[n]&&e.data(y+t[n],e[0].style[t[n]])},restore:function(e,t){var n,r;for(r=0;t.length>r;r++)null!==t[r]&&(n=e.data(y+t[r]),void 0===n&&(n=""),e.css(t[r],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(r),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(i[n]=s[0]*r+s[1])}),i}}),e.fn.extend({effect:function(){function n(t){function n(){e.isFunction(s)&&s.call(i[0]),e.isFunction(t)&&t()}var i=e(this),s=r.complete,u=r.mode;(i.is(":hidden")?"hide"===u:"show"===u)?(i[u](),n()):o.call(i[0],r,n)}var r=t.apply(this,arguments),i=r.mode,s=r.queue,o=e.effects.effect[r.effect];return e.fx.off||!o?i?this[i](r.duration,r.complete):this.each(function(){r.complete&&r.complete.call(this)}):s===!1?this.each(n):this.queue(s||"fx",n)},show:function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(r){if(n(r)||"boolean"==typeof r)return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;((t=Math.pow(2,--n))-1)/11>e;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,n){var r,i,s,o=e(this),u=/up|down|vertical/,a=/up|left|vertical|horizontal/,f=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"hide"),c=t.direction||"up",h=u.test(c),p=h?"height":"width",d=h?"top":"left",v=a.test(c),m={},g="show"===l;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),f):e.effects.save(o,f),o.show(),r=e.effects.createWrapper(o).css({overflow:"hidden"}),i=r[p](),s=parseFloat(r.css(d))||0,m[p]=g?i:0,v||(o.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),m[d]=g?s:i+s),g&&(r.css(p,0),v||r.css(d,s+i)),r.animate(m,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===l&&o.hide(),e.effects.restore(o,f),e.effects.removeWrapper(o),n()}})},e.effects.effect.bounce=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"effect"),f="hide"===a,l="show"===a,c=t.direction||"up",h=t.distance,p=t.times||5,d=2*p+(l||f?1:0),v=t.duration/d,m=t.easing,g="up"===c||"down"===c?"top":"left",y="up"===c||"left"===c,b=o.queue(),w=b.length;for((l||f)&&u.push("opacity"),e.effects.save(o,u),o.show(),e.effects.createWrapper(o),h||(h=o["top"===g?"outerHeight":"outerWidth"]()/3),l&&(s={opacity:1},s[g]=0,o.css("opacity",0).css(g,y?2*-h:2*h).animate(s,v,m)),f&&(h/=Math.pow(2,p-1)),s={},s[g]=0,r=0;p>r;r++)i={},i[g]=(y?"-=":"+=")+h,o.animate(i,v,m).animate(s,v,m),h=f?2*h:h/2;f&&(i={opacity:0},i[g]=(y?"-=":"+=")+h,o.animate(i,v,m)),o.queue(function(){f&&o.hide(),e.effects.restore(o,u),e.effects.removeWrapper(o),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,d+1))),o.dequeue()},e.effects.effect.clip=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"hide"),f="show"===a,l=t.direction||"vertical",c="vertical"===l,h=c?"height":"width",p=c?"top":"left",d={};e.effects.save(o,u),o.show(),r=e.effects.createWrapper(o).css({overflow:"hidden"}),i="IMG"===o[0].tagName?r:o,s=i[h](),f&&(i.css(h,0),i.css(p,s/2)),d[h]=f?s:0,d[p]=f?0:s/2,i.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){f||o.hide(),e.effects.restore(o,u),e.effects.removeWrapper(o),n()}})},e.effects.effect.drop=function(t,n){var r,i=e(this),s=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(i,t.mode||"hide"),u="show"===o,a=t.direction||"left",f="up"===a||"down"===a?"top":"left",l="up"===a||"left"===a?"pos":"neg",c={opacity:u?1:0};e.effects.save(i,s),i.show(),e.effects.createWrapper(i),r=t.distance||i["top"===f?"outerHeight":"outerWidth"](!0)/2,u&&i.css("opacity",0).css(f,"pos"===l?-r:r),c[f]=(u?"pos"===l?"+=":"-=":"pos"===l?"-=":"+=")+r,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),n()}})},e.effects.effect.explode=function(t,n){function r(){b.push(this),b.length===c*h&&i()}function i(){p.css({visibility:"visible"}),e(b).remove(),v||p.hide(),n()}var s,o,u,a,f,l,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=c,p=e(this),d=e.effects.setMode(p,t.mode||"hide"),v="show"===d,m=p.show().css("visibility","hidden").offset(),g=Math.ceil(p.outerWidth()/h),y=Math.ceil(p.outerHeight()/c),b=[];for(s=0;c>s;s++)for(a=m.top+s*y,l=s-(c-1)/2,o=0;h>o;o++)u=m.left+o*g,f=o-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*g,top:-s*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:y,left:u+(v?f*g:0),top:a+(v?l*y:0),opacity:v?0:1}).animate({left:u+(v?0:f*g),top:a+(v?0:l*y),opacity:v?1:0},t.duration||500,t.easing,r)},e.effects.effect.fade=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"toggle");r.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:n})},e.effects.effect.fold=function(t,n){var r,i,s=e(this),o=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(s,t.mode||"hide"),a="show"===u,f="hide"===u,l=t.size||15,c=/([0-9]+)%/.exec(l),h=!!t.horizFirst,p=a!==h,d=p?["width","height"]:["height","width"],v=t.duration/2,m={},g={};e.effects.save(s,o),s.show(),r=e.effects.createWrapper(s).css({overflow:"hidden"}),i=p?[r.width(),r.height()]:[r.height(),r.width()],c&&(l=parseInt(c[1],10)/100*i[f?0:1]),a&&r.css(h?{height:0,width:l}:{height:l,width:0}),m[d[0]]=a?i[0]:l,g[d[1]]=a?i[1]:0,r.animate(m,v,t.easing).animate(g,v,t.easing,function(){f&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),n()})},e.effects.effect.highlight=function(t,n){var r=e(this),i=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(r,t.mode||"show"),o={backgroundColor:r.css("backgroundColor")};"hide"===s&&(o.opacity=0),e.effects.save(r,i),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&r.hide(),e.effects.restore(r,i),n()}})},e.effects.effect.size=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],l=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),d=t.restore||"effect"!==p,v=t.scale||"both",m=t.origin||["middle","center"],g=o.css("position"),y=d?u:a,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),r={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||r):(o.from=t.from||("show"===p?b:r),o.to=t.to||("hide"===p?b:r)),s={from:{y:o.from.height/r.height,x:o.from.width/r.width},to:{y:o.to.height/r.height,x:o.to.width/r.width}},("box"===v||"both"===v)&&(s.from.y!==s.to.y&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,s.from.y,o.from),o.to=e.effects.setTransition(o,c,s.to.y,o.to)),s.from.x!==s.to.x&&(y=y.concat(h),o.from=e.effects.setTransition(o,h,s.from.x,o.from),o.to=e.effects.setTransition(o,h,s.to.x,o.to))),("content"===v||"both"===v)&&s.from.y!==s.to.y&&(y=y.concat(l).concat(f),o.from=e.effects.setTransition(o,l,s.from.y,o.from),o.to=e.effects.setTransition(o,l,s.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(i=e.effects.getBaseline(m,r),o.from.top=(r.outerHeight-o.outerHeight())*i.y,o.from.left=(r.outerWidth-o.outerWidth())*i.x,o.to.top=(r.outerHeight-o.to.outerHeight)*i.y,o.to.left=(r.outerWidth-o.to.outerWidth)*i.x),o.css(o.from),("content"===v||"both"===v)&&(c=c.concat(["marginTop","marginBottom"]).concat(l),h=h.concat(["marginLeft","marginRight"]),f=u.concat(c).concat(h),o.find("*[width]").each(function(){var n=e(this),r={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};d&&e.effects.save(n,f),n.from={height:r.height*s.from.y,width:r.width*s.from.x,outerHeight:r.outerHeight*s.from.y,outerWidth:r.outerWidth*s.from.x},n.to={height:r.height*s.to.y,width:r.width*s.to.x,outerHeight:r.height*s.to.y,outerWidth:r.width*s.to.x},s.from.y!==s.to.y&&(n.from=e.effects.setTransition(n,c,s.from.y,n.from),n.to=e.effects.setTransition(n,c,s.to.y,n.to)),s.from.x!==s.to.x&&(n.from=e.effects.setTransition(n,h,s.from.x,n.from),n.to=e.effects.setTransition(n,h,s.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){d&&e.effects.restore(n,f)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),d||("static"===g?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,n){var r=parseInt(n,10),i=e?o.to.left:o.to.top;return"auto"===n?i+"px":r+i+"px"})})),e.effects.removeWrapper(o),n()}})},e.effects.effect.scale=function(t,n){var r=e(this),i=e.extend(!0,{},t),s=e.effects.setMode(r,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),u=t.direction||"both",a=t.origin,f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},l={y:"horizontal"!==u?o/100:1,x:"vertical"!==u?o/100:1};i.effect="size",i.queue=!1,i.complete=n,"effect"!==s&&(i.origin=a||["middle","center"],i.restore=!0),i.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:f),i.to={height:f.height*l.y,width:f.width*l.x,outerHeight:f.outerHeight*l.y,outerWidth:f.outerWidth*l.x},i.fade&&("show"===s&&(i.from.opacity=0,i.to.opacity=1),"hide"===s&&(i.from.opacity=1,i.to.opacity=0)),r.effect(i)},e.effects.effect.puff=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"hide"),s="hide"===i,o=parseInt(t.percent,10)||150,u=o/100,a={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:n,percent:s?o:100,from:s?a:{height:a.height*u,width:a.width*u,outerHeight:a.outerHeight*u,outerWidth:a.outerWidth*u}}),r.effect(t)},e.effects.effect.pulsate=function(t,n){var r,i=e(this),s=e.effects.setMode(i,t.mode||"show"),o="show"===s,u="hide"===s,a=o||"hide"===s,f=2*(t.times||5)+(a?1:0),l=t.duration/f,c=0,h=i.queue(),p=h.length;for((o||!i.is(":visible"))&&(i.css("opacity",0).show(),c=1),r=1;f>r;r++)i.animate({opacity:c},l,t.easing),c=1-c;i.animate({opacity:c},l,t.easing),i.queue(function(){u&&i.hide(),n()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,f+1))),i.dequeue()},e.effects.effect.shake=function(t,n){var r,i=e(this),s=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(i,t.mode||"effect"),u=t.direction||"left",a=t.distance||20,f=t.times||3,l=2*f+1,c=Math.round(t.duration/l),h="up"===u||"down"===u?"top":"left",p="up"===u||"left"===u,d={},v={},m={},g=i.queue(),y=g.length;for(e.effects.save(i,s),i.show(),e.effects.createWrapper(i),d[h]=(p?"-=":"+=")+a,v[h]=(p?"+=":"-=")+2*a,m[h]=(p?"-=":"+=")+2*a,i.animate(d,c,t.easing),r=1;f>r;r++)i.animate(v,c,t.easing).animate(m,c,t.easing);i.animate(v,c,t.easing).animate(d,c/2,t.easing).queue(function(){"hide"===o&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),n()}),y>1&&g.splice.apply(g,[1,0].concat(g.splice(y,l+1))),i.dequeue()},e.effects.effect.slide=function(t,n){var r,i=e(this),s=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(i,t.mode||"show"),u="show"===o,a=t.direction||"left",f="up"===a||"down"===a?"top":"left",l="up"===a||"left"===a,c={};e.effects.save(i,s),i.show(),r=t.distance||i["top"===f?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(i).css({overflow:"hidden"}),u&&i.css(f,l?isNaN(r)?"-"+r:-r:r),c[f]=(u?l?"+=":"-=":l?"-=":"+=")+r,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),n()}})},e.effects.effect.transfer=function(t,n){var r=e(this),i=e(t.to),s="fixed"===i.css("position"),o=e("body"),u=s?o.scrollTop():0,a=s?o.scrollLeft():0,f=i.offset(),l={top:f.top-u,left:f.left-a,height:i.innerHeight(),width:i.innerWidth()},c=r.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:c.top-u,left:c.left-a,height:r.innerHeight(),width:r.innerWidth(),position:s?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){h.remove(),n()})},e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,r=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))}),e(t.target).parents().addBack().each(function(){var r,i=e.data(this,"selectable-item");return i?(r=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),i.unselecting=!r,i.selecting=r,i.selected=r,r?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,r=this,i=this.options,s=this.opos[0],o=this.opos[1],u=t.pageX,a=t.pageY;return s>u&&(n=u,u=s,s=n),o>a&&(n=a,a=o,o=n),this.helper.css({left:s,top:o,width:u-s,height:a-o}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),f=!1;n&&n.element!==r.element[0]&&("touch"===i.tolerance?f=!(n.left>u||s>n.right||n.top>a||o>n.bottom):"fit"===i.tolerance&&(f=n.left>s&&u>n.right&&n.top>o&&a>n.bottom),f?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,r._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),r._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,r._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})}),e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,n){e.preventDefault(),t._setSelection(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var r=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&r.index!==t.focusIndex&&(t._trigger("focus",e,{item:r}),t.isOpen||t._select(r,e)),t.focusIndex=r.index,t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,n){var r=this,i="";e.each(n,function(n,s){s.optgroup!==i&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(s.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:s.optgroup}).appendTo(t),i=s.optgroup),r._renderItemData(t,s)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var r=e("<li>");return n.disabled&&r.addClass("ui-state-disabled"),this._setText(r,n.label),r.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,r,i=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),i+=":not(.ui-state-disabled)"),r="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](i).eq(-1):n[e+"All"](i).eq(0),r.length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var n=[];t.each(function(t,r){var i=e(r),s=i.parent("optgroup");n.push({element:i,index:t,value:i.val(),label:i.text(),optgroup:s.attr("label")||"",disabled:s.prop("disabled")||i.prop("disabled")})}),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;n>t;t++)o.push(s);this.handles=i.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,s,o,u,a,f,l=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(r-l.values(t));(i>n||i===n&&(t===l._lastChangedValue||l.values(t)===c.min))&&(i=n,s=e(this),o=t)}),u=this._start(t,o),u===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),a=s.offset(),f=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=f?{left:0,top:0}:{left:t.pageX-a.left-s.width()/2,top:t.pageY-a.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,s;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/t,r>1&&(r=1),0>r&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),s=this._valueMin()+r*i,this._trimAlignValue(s)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,s;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>r||1===t&&r>n)&&(n=r),n!==this.values(t)&&(i=this.values(),i[t]=n,s=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),s!==!1&&this.values(t,n))):n!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:n}),s!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,n){var r,i,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(r=this.options.values,i=arguments[0],s=0;r.length>s;s+=1)r[s]=this._trimAlignValue(i[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,n){var r,i=0;switch("range"===t&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;i>r;r+=1)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),r=0;n.length>r;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step,r=Math.floor(+(e-t).toFixed(this._precision())/n)*n;e=r+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,r,i,s,o=this.options.range,u=this.options,a=this,f=this._animateOff?!1:u.animate,l={};this.options.values&&this.options.values.length?this.handles.each(function(r){n=100*((a.values(r)-a._valueMin())/(a._valueMax()-a._valueMin())),l["horizontal"===a.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[f?"animate":"css"](l,u.animate),a.options.range===!0&&("horizontal"===a.orientation?(0===r&&a.range.stop(1,1)[f?"animate":"css"]({left:n+"%"},u.animate),1===r&&a.range[f?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:u.animate})):(0===r&&a.range.stop(1,1)[f?"animate":"css"]({bottom:n+"%"},u.animate),1===r&&a.range[f?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:u.animate}))),t=n}):(r=this.value(),i=this._valueMin(),s=this._valueMax(),n=s!==i?100*((r-i)/(s-i)):0,l["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[f?"animate":"css"](l,u.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({width:n+"%"},u.animate),"max"===o&&"horizontal"===this.orientation&&this.range[f?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:u.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({height:n+"%"},u.animate),"max"===o&&"vertical"===this.orientation&&this.range[f?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:u.animate}))},_handleEvents:{keydown:function(t){var n,r,i,s,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),n=this._start(t,o),n===!1))return}switch(s=this.options.step,r=i=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-s)}this._slide(t,o,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,i=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(r=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(r=e(t.target)),r?!this.options.handle||n||(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)}),i)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,n,r){var i,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,s,o=this.options,u=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?u=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(u=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?u=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(u=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),u!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=this.items[n],i=r.item[0],s=this._intersectsWithPointer(r),s&&r.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],i):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c="x"===this.options.axis||r+f>u&&a>r+f,h="y"===this.options.axis||t+l>s&&o>t+l,p=c&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>s&&o>n-this.helperProportions.width/2&&r+this.helperProportions.height/2>u&&a>i-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&n,i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return r?this.floating?s&&"right"===s||"down"===i?2:1:i&&("down"===i?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&n||"left"===i&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){u.push(this)}var r,i,s,o,u=[],a=[],f=this._connectWith();if(f&&t)for(r=f.length-1;r>=0;r--)for(s=e(f[r],this.document[0]),i=s.length-1;i>=0;i--)o=e.data(s[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&a.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=a.length-1;r>=0;r--)a[r][0].each(n);return e(u)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,s,o,u,a,f,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=e(h[n],this.document[0]),r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(n=c.length-1;n>=0;n--)for(o=c[n][1],u=c[n][0],r=0,f=u.length;f>r;r++)a=e(u[r]),a.data(this.widgetName+"-item",o),l.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,s;for(n=this.items.length-1;n>=0;n--)r=this.items[n],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),s=i.offset(),r.left=s.left,r.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(i)):"tr"===r?t._createTrPlaceholder(t.currentItem,i):"img"===r&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){(!n||r.forcePlaceholderSize)&&(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var r=this;t.children().each(function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,r,i,s,o,u,a,f,l,c,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(i=1e4,s=null,l=h.floating||this._isFloating(this.currentItem),o=l?"left":"top",u=l?"width":"height",c=l?"clientX":"clientY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[p].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(a=this.items[r].item.offset()[o],f=!1,t[c]-a>this.items[r][u]/2&&(f=!0),i>Math.abs(t[c]-a)&&(i=Math.abs(t[c]-a),s=this.items[r],this.direction=f?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,s=t.pageX,o=t.pageY,u="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0],s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){function n(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var r,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)("auto"===this._storedCSS[r]||"static"===this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)t||i.push(n("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(n("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(r=0;i.length>r;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,r){var i=n.attr(r);void 0!==i&&i.length&&(t[r]=i)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r}))}var r;r=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:return this._repeat(null,1,t),!0;case r.DOWN:return this._repeat(null,-1,t),!0;case r.PAGE_UP:return this._repeat(null,n.page,t),!0;case r.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,r=this.options;return t=null!==r.min?r.min:0,n=e-t,n=Math.round(n/r.step)*r.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),null!==r.max&&e>r.max?r.max:null!==r.min&&r.min>e?r.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(n)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:a(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&(n=this._parse(e),null!==n&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:a(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:a(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:a(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:a(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(a(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,r;t=t.cloneNode(!1),n=t.href.replace(e,""),r=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(i){}try{r=decodeURIComponent(r)}catch(i){}return t.hash.length>1&&n===r}}(),_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(n.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(n,i){return e(i).attr("aria-controls")===r?(t=n,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=n?!1:0)),!n&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(n),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:i=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(r),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(r===this.options.active?!1:r),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,i),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){function r(){return t>i&&(t=0),0>t&&(t=i),t}for(var i=this.tabs.length-1;-1!==e.inArray(r(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,r=this.anchors,i=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,r){var i,s,o,u=e(r).uniqueId().attr("id"),a=e(r).closest("li"),f=a.attr("aria-controls");t._isLocal(r)?(i=r.hash,o=i.substring(1),s=t.element.find(t._sanitizeSelector(i))):(o=a.attr("aria-controls")||e({}).uniqueId()[0].id,i="#"+o,s=t.element.find(i),s.length||(s=t._createPanel(o),s.insertAfter(t.panels[n-1]||t.tablist)),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),f&&a.data("ui-tabs-aria-controls",f),a.attr({"aria-controls":o,"aria-labelledby":u}),s.attr("aria-labelledby",u)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),n&&(this._off(n.not(this.tabs)),this._off(r.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,r=0;n=this.tabs[r];r++)t===!0||-1!==e.inArray(r,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,r=this.element.parent();"fill"===t?(n=r.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i.closest("li"),o=s[0]===r[0],u=o&&n.collapsible,a=u?e():this._getPanelForTab(s),f=r.length?this._getPanelForTab(r):e(),l={oldTab:r,oldPanel:f,newTab:u?e():s,newPanel:a};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||this._trigger("beforeActivate",t,l)===!1||(n.active=u?!1:this.tabs.index(s),this.active=o?e():s,this.xhr&&this.xhr.abort(),f.length||a.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(s),t),this._toggle(t,l))},_toggle:function(t,n){function r(){s.running=!1,s._trigger("activate",t,n)}function i(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&s.options.show?s._show(o,s.options.show,r):(o.show(),r())}var s=this,o=n.newPanel,u=n.oldPanel;this.running=!0,u.length&&this.options.hide?this._hide(u,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),u.hide(),i()),u.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&u.length?n.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,r=this._findActive(t);r[0]!==this.active[0]&&(r.length||(r=this.active),n=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;n!==!1&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,n){return n!==t?n:null})),this._setupDisabled(n))},disable:function(t){var n=this.options.disabled;if(n!==!0){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setupDisabled(n)}},load:function(t,n){t=this._getIndex(t);var r=this,i=this.tabs.eq(t),s=i.find(".ui-tabs-anchor"),o=this._getPanelForTab(i),u={tab:i,panel:o},a=function(e,t){"abort"===t&&r.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr};this._isLocal(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,n,u)),this.xhr&&"canceled"!==this.xhr.statusText&&(i.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,i){setTimeout(function(){o.html(e),r._trigger("load",n,u),a(i,t)},1)}).fail(function(e,t){setTimeout(function(){a(e,t)},1)})))},_ajaxSettings:function(t,n,r){var i=this;return{url:t.attr("href"),beforeSend:function(t,s){return i._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:s},r))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(r.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),i=e.inArray(n,r);-1!==i&&r.splice(i,1),t.removeData("ui-tooltip-id"),r=e.trim(r.join(" ")),r?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,n){var r=this;return"disabled"===t?(this[n?"_disable":"_enable"](),this.options[t]=n,void 0):(this._super(t,n),"content"===t&&e.each(this.tooltips,function(e,t){r._updateContent(t.element)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur");i.target=i.currentTarget=r.element[0],t.close(i,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,r=e(t?t.target:this.element).closest(this.options.items);r.length&&!r.data("ui-tooltip-id")&&(r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&r.parents().each(function(){var t,r=e(this);r.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,n.close(t,!0)),r.attr("title")&&(r.uniqueId(),n.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))}),this._registerCloseHandlers(t,r),this._updateContent(r,t))},_updateContent:function(e,t){var n,r=this.options.content,i=this,s=t?t.type:null;return"string"==typeof r?this._open(t,e,r):(n=r.call(e[0],function(n){i._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=s),this._open(t,e,n))})}),n&&this._open(t,e,n),void 0)},_open:function(t,n,r){function i(e){f.of=e,o.is(":hidden")||o.position(f)}var s,o,u,a,f=e.extend({},this.options.position);if(r){if(s=this._find(n))return s.tooltip.find(".ui-tooltip-content").html(r),void 0;n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),s=this._tooltip(n),o=s.tooltip,this._addDescribedBy(n,o.attr("id")),o.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),r.clone?(a=r.clone(),a.removeAttr("id").find("[id]").removeAttr("id")):a=r,e("<div>").html(a).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:i}),i(t)):o.position(e.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(u=this.delayedShow=setInterval(function(){o.is(":visible")&&(i(f.of),clearInterval(u))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,n){var r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var r=e.Event(t);r.currentTarget=n[0],this.close(r,!0)}}};n[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(r.mouseleave="close"),t&&"focusin"!==t.type||(r.focusout="close"),this._on(!0,n,r)},close:function(t){var n,r=this,i=e(t?t.currentTarget:this.element),s=this._find(i);return s?(n=s.tooltip,s.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),s.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){r._removeTooltip(e(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete r.parents[t]}),s.closing=!0,this._trigger("close",t,{tooltip:n}),s.hiding||(s.closing=!1)),void 0):(i.removeData("ui-tooltip-open"),void 0)},_tooltip:function(t){var n=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),r=n.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[r]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur"),s=r.element;i.target=i.currentTarget=s[0],t.close(i,!0),e("#"+n).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),$.fn.jquery&&$.fn.uniqueId&&$.widget&&$.ui.mouse&&$.ui.draggable&&$.ui.resizable?console.log("Loaded: jQuery "+$.fn.jquery+", jQuery UI "+$.ui.version+"\nUI core: "+$.isFunction($.fn.uniqueId)+", UI widget: "+$.isFunction($.widget)+", UI mouse: "+$.isFunction($.ui.mouse)+", UI draggable: "+$.isFunction($.ui.draggable)+", UI resizable: "+$.isFunction($.ui.resizable)):console.log("Error: jQuery or at least one jQuery UI component is not loaded! You need at least jQuery 1.9.1 and jQuery UI 1.9.2 (modules Core, Mouse, Widget, Draggable and Resizable).");var jsPanel={version:"2.5.5 2015-10-08 15:47",device:function(){try{var e=new MobileDetect(window.navigator.userAgent),t=e.mobile(),n=e.phone(),r=e.tablet(),i=e.os(),s=e.userAgent();return{mobile:t,tablet:r,phone:n,os:i,userAgent:s}}catch(o){return console.log(o+"; Seems like mobile-detect.js is not loaded"),{mobile:void 0,tablet:void 0,phone:void 0,os:void 0,userAgent:void 0}}}(),ID:0,widthForMinimized:180,template:'<div class="jsPanel jsPanel-theme-default jsPanel-state-initialized"><div class="jsPanel-hdr jsPanel-theme-default"><h3 class="jsPanel-title"></h3><div class="jsPanel-hdr-r"><div class="jsPanel-btn-close"><span class="jsglyph jsglyph-remove"></span></div><div class="jsPanel-btn-max"><span class="jsglyph jsglyph-maximize"></span></div><div class="jsPanel-btn-norm"><span class="jsglyph jsglyph-normalize"></span></div><div class="jsPanel-btn-min"><span class="jsglyph jsglyph-minimize"></span></div><div class="jsPanel-btn-small"><span class="jsglyph jsglyph-chevron-up"></span></div><div class="jsPanel-btn-smallrev"><span class="jsglyph jsglyph-chevron-down"></span></div></div><div class="jsPanel-hdr-toolbar jsPanel-clearfix"></div></div><div class="jsPanel-content jsPanel-theme-default"></div><div class="jsPanel-ftr jsPanel-theme-default jsPanel-clearfix"></div></div>',addToolbar:function(e,t,n){return"header"===t?this.configToolbar(n,e.header.toolbar,e):"footer"===t&&(e.footer.css({display:"block"}),this.configToolbar(n,e.footer,e)),e.header.toolbar.css("font-family",e.header.title.css("font-family")),e},ajax:function(e){var t=e.option.ajax,n=e.content;$.ajax(t).done(function(r,i,s){t.autoload&&t.url&&n.empty().append(r),$.isFunction(t.done)&&t.done.call(n,r,i,s,e)}).fail(function(r,i,s){$.isFunction(t.fail)&&t.fail.call(n,r,i,s,e)}).always(function(r,i,s){n.css("width",function(){return n.outerWidth()}),$.isFunction(t.always)&&t.always.call(n,r,i,s,e),jsPanel.resizeTitle(e),jsPanel.updateOptionSize(e,e.option.size)}).then(function(r,i,s){t.then&&$.isArray(t.then)&&($.isFunction(t.then[0])&&t.then[0].call(n,r,i,s,e),jsPanel.resizeTitle(e),jsPanel.updateOptionSize(e,e.option.size))},function(r,i,s){t.then&&$.isArray(t.then)&&($.isFunction(t.then[1])&&t.then[1].call(n,r,i,s,e),jsPanel.resizeTitle(e))}),e.data("ajaxURL",t.url)},autoclose:function(e){window.setTimeout(function(){e&&e.fadeOut("slow",function(){e.close()})},e.option.autoclose)},calcPanelposition:function(e){var t={};e.option.size.width=$(e).outerWidth(),e.option.size.height=$(e).innerHeight(),e.option.position.bottom&&delete e.option.position.top,e.option.position.right&&delete e.option.position.left;if(e.option.position.bottom||0===e.option.position.bottom)this.calcPos("bottom",e);else if(e.option.position.top||0===e.option.position.top)"center"===e.option.position.top?e.option.position.top=this.calcPosCenter(e.option).top:t.top=this.calcPos("top",e);if(e.option.position.right||0===e.option.position.right)this.calcPos("right",e);else if(e.option.position.left||0===e.option.position.left)"center"===e.option.position.left?e.option.position.left=this.calcPosCenter(e.option).left:t.left=this.calcPos("left",e);e.option.position.top?t.top=parseInt(e.option.position.top,10)+e.option.offset.top:t.bottom=parseInt(e.option.position.bottom,10)+e.option.offset.top,e.option.position.left?t.left=parseInt(e.option.position.left,10)+e.option.offset.left:t.right=parseInt(e.option.position.right,10)+e.option.offset.left,e.css(t),e.option.position={top:e.css("top"),left:e.css("left")}},calcPos:function(e,t){var n=t.option.position;return"auto"===n[e]?t.option.position[e]=30*t.count:$.isFunction(n[e])?t.option.position[e]=n[e](t):t.option.position[e]=0===n[e]?"0":parseInt(n[e],10),"body"===t.option.selector&&("top"===e?t.option.position.top=parseInt(n.top,10)+$(window).scrollTop():"bottom"===e?t.option.position.bottom=parseInt(n.bottom,10)-$(window).scrollTop():"left"===e?t.option.position.left=parseInt(n.left,10)+$(window).scrollLeft():"right"===e&&(t.option.position.right=parseInt(n.right,10)-$(window).scrollLeft())),t.option.position[e]},calcPosCenter:function(e){var t=e.selector;e=e.size;var n=$(t).outerWidth()/2-parseInt(e.width,10)/2;return{top:"body"===t?$(window).outerHeight()/2-(parseInt(e.height,10)/2-$(window).scrollTop()):$(t).outerHeight()/2-parseInt(e.height,10)/2,left:n}},calcPosmaxtoScreen:function(e){var t=e.offset();return{top:parseInt(e.css("top"))-(t.top-$(document).scrollTop())+5,left:parseInt(e.css("left"))-(t.left-$(document).scrollLeft())+5}},calcPosTooltipLeft:function(e,t){var n=e.outerWidth(),r=parseInt(e.css("margin-left")),i=t.offset.left||0,s=t.paneltype.position;return"top"===s||"bottom"===s?(n-t.size.width)/2+r+i:"left"===s?-t.size.width+r+i:"right"===s?n+r+i:!1},calcPosTooltipTop:function(e,t){var n=e.innerHeight(),r=parseInt(e.css("margin-top")),i=t.offset.top||0,s=t.paneltype.position;return"left"===s||"right"===s?-(t.size.height/2)+n/2+r+i:"top"===s?-(t.size.height+i)+r:"bottom"===s?n+r+i:!1},calcToooltipPosition:function(e,t){return{top:this.calcPosTooltipTop(e,t),left:this.calcPosTooltipLeft(e,t)}},calcVerticalOffset:function(e){return Math.floor(e.offset().top-$(window).scrollTop())},close:function(e){var t=e.parent(),n=e.attr("id");return e.trigger("jspanelbeforeclose",n),this.closeChildpanels(e),t.hasClass("jsPanel-tooltip-wrapper")&&e.unwrap(),e.remove(),$("body").trigger("jspanelclosed",n),"modal"===e.option.paneltype.type&&$(".jsPanel-backdrop").remove(),this.reposMinimized(this.widthForMinimized),"hint"===e.option.paneltype.type&&(e.hasClass("jsPanel-hint-tl")?jsPanel.reposHints("jsPanel-hint-tl",e.parentElmtTagname):e.hasClass("jsPanel-hint-tc")?jsPanel.reposHints("jsPanel-hint-tc",e.parentElmtTagname):e.hasClass("jsPanel-hint-tr")&&jsPanel.reposHints("jsPanel-hint-tr",e.parentElmtTagname)),t},closeallTooltips:function(){$(".jsPanel-tt").each(function(){$(this).unwrap().remove(),$("body").trigger("jspanelclosed",$(this).attr("id"))})},closeChildpanels:function(e){return $(".jsPanel",e).each(function(){e.trigger("jspanelbeforeclose",$(this).attr("id")),$(this).remove(),$("body").trigger("jspanelclosed",$(this).attr("id"))}),e},configControls:function(e){"closeonly"===e.option.controls.buttons?($("div:not('.jsPanel-btn-close')",e.header.controls).remove(),e.header.title.css("width","calc(100% - 30px)")):"none"===e.option.controls.buttons&&($("*",e.header.controls).remove(),e.header.title.css("width","100%")),["close","maximize","minimize","normalize","smallify"].forEach(function(t){e.option.controls[t]&&e.control("disable",t)})},configIconfont:function(e){var t="close max norm min small smallrev".split(" "),n="remove fullscreen resize-full minus chevron-up chevron-down".split(" "),r="times arrows-alt expand minus chevron-up chevron-down".split(" "),i=e.option.controls.iconfont,s=e.header.controls;$("*",s).css("background-image","none"),"bootstrap"===i?t.forEach(function(e,t){$(".jsPanel-btn-"+e,s).empty().append('<span class="glyphicon glyphicon-'+n[t]+'"></span>')}):"font-awesome"===i&&t.forEach(function(e,t){$(".jsPanel-btn-"+e,s).empty().append('<span class="fa fa-'+r[t]+'"></span>')})},configToolbar:function(e,t,n){var r;e.forEach(function(e){"object"==typeof e&&(r=$(e.item),"string"==typeof e.btntext&&r.append(e.btntext),"string"==typeof e.btnclass&&r.addClass(e.btnclass),t.append(r),$.isFunction(e.callback))&&r.on(e.event,n,e.callback)})},control:function(e,t,n){var r=e.header.controls,i;return 3===arguments.length&&("disable"===arguments[1]?("close"===n?i=$(".jsPanel-btn-close",r):"maximize"===n?i=$(".jsPanel-btn-max",r):"minimize"===n?i=$(".jsPanel-btn-min",r):"normalize"===n?i=$(".jsPanel-btn-norm",r):"smallify"===n&&(i=$(".jsPanel-btn-small",r)),i.off().css({opacity:.5,cursor:"default"})):"enable"===arguments[1]&&("close"===n?i=$(".jsPanel-btn-close",r):"maximize"===n?i=$(".jsPanel-btn-max",r):"minimize"===n?i=$(".jsPanel-btn-min",r):"normalize"===n?i=$(".jsPanel-btn-norm",r):"smallify"===n&&(i=$(".jsPanel-btn-small",r)),i.on("click",function(t){t.preventDefault(),e[n]()}).css({opacity:1,cursor:"pointer"}))),e},dblclickhelper:function(e,t){"string"==typeof e&&("maximize"===e||"normalize"===e?"normalized"===t.status||"normalized"===t.option.panelstatus?t.maximize():t.normalize():("minimize"===e||"smallify"===e||"close"===e)&&t[e]())},exportPanels:function(){var e,t,n,r,i,s,o,u=[],a;return $(".jsPanel").not(".jsPanel-tt, .jsPanel-hint, .jsPanel-modal").each(function(p,v){a={panelstatus:$(v).data("panelstatus"),id:$(v).prop("id"),title:$(".jsPanel-title",v).html(),custom:$(v).data("custom"),offset:{top:0,left:0},content:$(v).data("content")},"normalized"!==$(v).data("panelstatus")&&$(".jsPanel-btn-norm",v).trigger("click"),o=$(v).data("selector"),e=$(v).offset(),t=$(v).position(),"body"===o.toLowerCase()?(n=Math.floor(e.top-$(window).scrollTop())+"px",r=Math.floor(e.left-$(window).scrollLeft())+"px"):(n=Math.floor(t.top)+"px",r=Math.floor(t.left)+"px"),i=$(v).css("width"),s=$(".jsPanel-content",v).css("height"),a.size={width:i,height:s},a.position={top:n,left:r},$(v).data("loadURL")&&(a.load={},a.load.url=$(v).data("loadURL")),$(v).data("ajaxURL")&&(a.ajax={},a.ajax.url=$(v).data("ajaxURL"));if($(v).data("iframeDOC")||$(v).data("iframeSRC"))a.iframe={},$(v).data("iframeDOC")&&(a.iframe.srcdoc=$(v).data("iframeDOC")),$(v).data("iframeSRC")&&(a.iframe.src=$(v).data("iframeSRC"));u.push(a);switch(a.panelstatus){case"minimized":$(".jsPanel-btn-min",v).trigger("click");break;case"maximized":$(".jsPanel-btn-max",v).trigger("click");break;case"smallified":$(".jsPanel-btn-small",v).trigger("click");break;case"smallifiedMax":$(".jsPanel-btn-small",v).trigger("click")}}),window.localStorage.setItem("jspanels",JSON.stringify(u)),u},importPanels:function(e){var t,n,r;t=JSON.parse(localStorage.jspanels)||{},r=e["default"]||{},t.forEach(function(t){n="string"==typeof t.custom.config?$.extend(!0,{},r,e[t.custom.config],t):$.extend(!0,{},r,t),$.jsPanel(n)})},fixPosition:function(e){var t=e.offset().top-$(window).scrollTop();e.jsPanelfixPos=function(){e.css("top",$(window).scrollTop()+t)},$(window).on("scroll",e.jsPanelfixPos)},getMargins:function(e){var t,n,r,i,s=e.option.paneltype.shiftwithin;i=$(window).outerWidth(),n=$(window).outerHeight();var o=e.outerWidth(),u=e.outerHeight();return s&&"body"!==s?(n=$(s).offset(),t=e.offset(),r=$(s).outerWidth()-parseInt(e.css("width"))-(t.left-n.left),i=t.left-n.left,e=$(s).outerHeight()-(t.top-n.top)-parseInt(e.css("height")),t=t.top-n.top):(t=e.offset(),r=i-t.left-o+$(window).scrollLeft(),i=i-o-r,e=n-t.top-u+$(window).scrollTop(),t=n-u-e),{marginTop:parseInt(t),marginRight:parseInt(r),marginBottom:parseInt(e),marginLeft:parseInt(i)}},getMaxOfArray:function(e){return Math.max.apply(null,e)},getMaxpanelshift:function(e){var t=e.outerWidth(),n=e.outerHeight(),r=parseInt(t/2)+parseInt(e.parent().outerWidth()/2)-20;return e=parseInt(n/2)+parseInt(e.parent().outerHeight()/2)-20,t=parseInt(t/2)-16,n=parseInt(n/2)-16,{maxshiftH:r,maxshiftV:e,maxCornerH:t,maxCornerV:n}},hideControls:function(e,t){var n=t.header.controls;$("*",n).css("display","block"),$(e,n).css("display","none")},hintTop:function(e){var t=0;return $("."+e).each(function(){t+=$(this).outerHeight(!0)}),"jsPanel-hint-tr"===e?{top:t,right:0}:"jsPanel-hint-tl"===e?{top:t,left:0}:"jsPanel-hint-tc"===e?{top:t,left:"center"}:{top:0,left:0}},iframe:function(e){var t=$("<iframe></iframe>");e.option.iframe.srcdoc&&(t.prop("srcdoc",e.option.iframe.srcdoc),e.data("iframeDOC",e.option.iframe.srcdoc)),e.option.iframe.src&&(t.prop("src",e.option.iframe.src),e.data("iframeSRC",e.option.iframe.src)),"auto"===e.option.size.width||e.option.iframe.width?"string"==typeof e.option.iframe.width&&"%"===e.option.iframe.width.slice(-1)?t.prop("width",e.option.iframe.width):t.prop("width",parseInt(e.option.iframe.width)+"px"):t.prop("width","100%"),"auto"===e.option.size.height||e.option.iframe.height?"string"==typeof e.option.iframe.height&&"%"===e.option.iframe.height.slice(-1)?t.prop("height",e.option.iframe.height):t.prop("height",parseInt(e.option.iframe.height)+"px"):t.prop("height","100%"),"string"==typeof e.option.iframe.name&&t.prop("name",e.option.iframe.name),"string"==typeof e.option.iframe.id&&t.prop("id",e.option.iframe.id),e.option.iframe.seamless&&t.prop("seamless","seamless"),"string"==typeof e.option.iframe.sandbox&&t.prop("sandox",e.option.iframe.sandbox),$.isPlainObject(e.option.iframe.style)&&t.css(e.option.iframe.style),"string"==typeof e.option.iframe.classname?t.addClass(e.option.iframe.classname):$.isFunction(e.option.iframe.classname)&&t.addClass(e.option.iframe.classname()),e.content.empty().append(t)},insertModalBackdrop:function(){var e='<div class="jsPanel-backdrop" style="height:'+$(document).outerHeight()+'px;"></div>';$("body").append(e)},isBootstrapTheme:function(e){return-1<$.inArray(e,"default primary info success warning danger".split(" "))?e:"default"},load:function(e){e.content.load(e.option.load.url,e.option.load.data||void 0,function(t,n,r){$.isFunction(e.option.load.complete)&&e.option.load.complete.call(e.content,t,n,r,e),jsPanel.resizeTitle(e),jsPanel.updateOptionSize(e,e.option.size),e.content.css("width",function(){return e.content.outerWidth()})}),e.data("loadURL",e.option.load.url)},maxWithinBody:function(e){var t,n;"maximized"===e.status&&"maximized"===e.option.panelstatus||"default"===e.option.paneltype.mode||($(window).off("scroll",e.jsPanelfixPos),"minimized"!==e.status&&"minimized"!==e.option.panelstatus||this.restoreFromMinimized(e),!0===e.option.controls.maxtoScreen?(t=this.calcPosmaxtoScreen(e),n=t.top+parseInt(e.option.maximizedMargin.top),t=t.left+parseInt(e.option.maximizedMargin.left)):(n=$(window).scrollTop()+parseInt(e.option.maximizedMargin.top),t=$(window).scrollLeft()+parseInt(e.option.maximizedMargin.left)),e.css({top:n,left:t,width:$(window).outerWidth()-parseInt(e.option.maximizedMargin.left)-parseInt(e.option.maximizedMargin.right),height:$(window).outerHeight()-parseInt(e.option.maximizedMargin.top)-parseInt(e.option.maximizedMargin.bottom)}),(!e.option.controls.maxtoScreen||e.option.controls.maxtoScreen&&"body"===e.option.selector)&&this.fixPosition(e))},maxWithinElement:function(e){"maximized"===e.status&&"maximized"===e.option.panelstatus||"default"===e.option.paneltype.mode||("minimized"!==e.status&&"minimized"!==e.option.panelstatus||this.restoreFromMinimized(e),e.css({top:parseInt(e.option.maximizedMargin.top),left:parseInt(e.option.maximizedMargin.left),width:parseInt(e.parent().outerWidth(),10)-parseInt(e.option.maximizedMargin.left)-parseInt(e.option.maximizedMargin.right),height:parseInt(e.parent().outerHeight(),10)-parseInt(e.option.maximizedMargin.top)-parseInt(e.option.maximizedMargin.bottom)}))},maximize:function(e){return e.trigger("jspanelbeforemaximize",e.attr("id")),"body"===e.parentElmtTagname||!0===e.option.controls.maxtoScreen?this.maxWithinBody(e):this.maxWithinElement(e),e.trigger("jspanelmaximized",e.attr("id")),e.trigger("jspanelstatechange",e.attr("id")),e},minimize:function(e){e.trigger("jspanelbeforeminimize",e.attr("id")),e.data({paneltop:parseInt(e.option.position.top),panelleft:parseInt(e.option.position.left),panelwidth:parseInt(e.option.size.width),panelheight:parseInt($(".jsPanel-content",e).css("height"))});if("normalized"===e.status||"normalized"===e.option.panelstatus)e.option.size.width=e.outerWidth(),e.option.size.height=e.outerHeight();return e.animate({opacity:0},{duration:400,complete:function(){e.animate({width:jsPanel.widthForMinimized+"px",height:"28px"},{duration:100,complete:function(){jsPanel.movetoMinified(e),jsPanel.resizeTitle(e),e.css("opacity",1)}})}}),e},movetoMinified:function(e){0===$("#jsPanel-min-container").length&&$("body").append('<div id="jsPanel-min-container"></div>');if("minimized"!==e.status||"minimized"!==e.option.panelstatus)e.css({left:$(".jsPanel","#jsPanel-min-container").length*jsPanel.widthForMinimized,top:0,opacity:1}).appendTo("#jsPanel-min-container").resizable({disabled:!0}).draggable({disabled:!0}),e.trigger("jspanelminimized",e.attr("id")),e.trigger("jspanelstatechange",e.attr("id"))},normalize:function(e){var t;return e.trigger("jspanelbeforenormalize",e.attr("id")),$(window).off("scroll",e.jsPanelfixPos),"minimized"!==e.status&&"minimized"!==e.option.panelstatus||this.restoreFromMinimized(e),t="body"===e.parentElmtTagname?$(window).scrollTop()+e.verticalOffset:e.option.position.top,e.css({width:e.option.size.width,height:e.option.size.height,top:t,left:e.option.position.left}),["resizable","draggable"].forEach(function(t){"disabled"!==e.option[t]&&(e[t]("enable"),$(".ui-icon-gripsmall-diagonal-se",e).css({"background-image":"none","text-indent":0}),$(".ui-resizable-handle",e).css({cursor:""}))}),e.trigger("jspanelnormalized",e.attr("id")),e.trigger("jspanelstatechange",e.attr("id")),"body"===e.parentElmtTagname&&this.fixPosition(e),e},replaceCSSBottomRight:function(e){var t=e.position();e.css("bottom")&&(e.css({top:parseInt(t.top,10),bottom:""}),e.option.position.top=parseInt(t.top,10)),e.css("right")&&(e.css({left:parseInt(t.left,10),right:""}),e.option.position.left=parseInt(t.left,10))},reposHints:function(e,t){var n;n="body"===t?$(window).scrollTop():0,$("."+e).each(function(){$(this).animate({top:n}),n+=$(this).outerHeight(!0)})},reposHintsScroll:function(e){var t=e.offset().top-$(window).scrollTop();$(window).scroll(function(){e.css("top",$(window).scrollTop()+t)})},reposition:function(e,t,n){return n&&"string"==typeof n&&(e.option.selector=n,e.appendTo(n),e.parentElmt=$(n).first(),e.parentElmtTagname=e.parentElmt[0].tagName.toLowerCase()),"tooltip"!==e.option.paneltype.type&&"hint"!==e.option.paneltype.type&&(e.option.position=jsPanel.rewriteOPosition(t),e.css({top:"",right:"",bottom:"",left:""}),this.calcPanelposition(e),e.verticalOffset=jsPanel.calcVerticalOffset(e)||0,this.replaceCSSBottomRight(e),"body"===e.parentElmtTagname?this.fixPosition(e):$(window).off("scroll",e.jsPanelfixPos),this.updateOptionPosition(e)),e},reposMinimized:function(){$(".jsPanel","#jsPanel-min-container").each(function(e,t){$(t).animate({left:e*jsPanel.widthForMinimized})})},resize:function(e,t,n){"minimized"!==e.option.panelstatus&&(t&&null!==t?e.css("width",t):e.css("width",e.content.css("width")),n&&null!==n&&e.css("height",n),this.resizeContent(e),this.resizeTitle(e))},resizeContent:function(e){var t;return t="none"===e.footer.css("display")?e.header.outerHeight():e.header.outerHeight()+e.footer.outerHeight(),e.content.css({height:e.outerHeight()-t,width:e.outerWidth()}),e},resizeTitle:function(e){var t=e.outerWidth()-$(e.header.controls).outerWidth()-15;e.header.title.css("width",t)},restoreFromMinimized:function(e){"minimized"!==e.status&&"minimized"!==e.option.panelstatus||e.appendTo(e.option.selector),["resizable","draggable"].forEach(function(t){"disabled"!==e.option[t]&&(e[t]("enable"),$(".ui-icon-gripsmall-diagonal-se",e).css({"background-image":"none","text-indent":0}),$(".ui-resizable-handle",e).css({cursor:""}))}),this.reposMinimized(jsPanel.widthForMinimized)},rewriteOPaneltype:function(e){return"modal"===e?{type:"modal",mode:"default"}:"tooltip"===e?{type:"tooltip",position:"top"}:"hint"===e?{type:"hint"}:"modal"===e.type?{type:"modal",mode:e.mode||"default"}:"tooltip"===e.type?{type:"tooltip",mode:e.mode||!1,position:e.position||!1,shiftwithin:e.shiftwithin||"body",solo:e.solo||!1,cornerBG:e.cornerBG||!1,cornerOX:e.cornerOX||!1,cornerOY:e.cornerOY||!1}:{paneltype:!1}},rewriteOPosition:function(e){return"center"===e?{top:"center",left:"center"}:"auto"===e?{top:"auto",left:"auto"}:"top left"===e?{top:"0",left:"0"}:"top center"===e?{top:"0",left:"center"}:"top right"===e?{top:"0",right:"0"}:"center right"===e?{top:"center",right:"0"}:"bottom right"===e?{bottom:"0",right:"0"}:"bottom center"===e?{bottom:"0",left:"center"}:"bottom left"===e?{bottom:"0",left:"0"}:"center left"===e?{top:"center",left:"0"}:("center"===e.bottom&&(delete e.bottom,e.top="center"),"center"===e.right&&(delete e.right,e.left="center"),e)},rewriteOSize:function(e){return"string"==typeof e&&"auto"===e&&(e={width:"auto",height:"auto"}),e},setHintDefaults:function(e){e.option.resizable=!1,e.option.draggable=!1,e.option.removeHeader=!0,e.option.toolbarFooter=!1,e.option.show="fadeIn",e.addClass("jsPanel-hint"),e.content.addClass("jsPanel-hint-content"),e.option.autoclose?0>e.option.autoclose&&(e.option.autoclose=!1):e.option.autoclose=8e3,e.content.addClass("jsPanel-hint-"+e.option.theme),e.content.append('<div class="jsPanel-hint-close jsglyph jsglyph-remove"></div>')},setModalDefaults:function(e){e.option.selector="body",e.option.show="fadeIn",e.addClass("jsPanel-modal"),"default"===e.option.paneltype.mode&&(e.option.resizable=!1,e.option.draggable=!1,e.option.removeHeader=!1,e.option.position={top:"center",left:"center"},e.option.offset={top:0,left:0},e.option.controls.buttons="closeonly",$(".jsPanel-btn-min, .jsPanel-btn-norm, .jsPanel-btn-max, .jsPanel-btn-small, .jsPanel-btn-smallrev",e).remove(),$(e.header,e.header.title,e.footer).css("cursor","default"),$(".jsPanel-title",e).css("cursor","inherit"))},setRTL:function(e){[e.header.title,e.content,e.header.toolbar,e.footer].forEach(function(t){t.prop("dir","rtl"),e.option.rtl.lang&&t.prop("lang",e.option.rtl.lang)}),e.header.title.css("text-align","right"),$(".jsPanel-btn-close",e.header.controls).insertAfter($(".jsPanel-btn-min",e.header.controls)),$(".jsPanel-btn-max",e.header.controls).insertAfter($(".jsPanel-btn-min",e.header.controls)),$(".jsPanel-btn-small",e.header.controls).insertBefore($(".jsPanel-btn-min",e.header.controls)),$(".jsPanel-btn-smallrev",e.header.controls).insertBefore($(".jsPanel-btn-min",e.header.controls)),$(".jsPanel-hdr-r",e).css({left:"0px",right:"",position:"relative","float":"left"}),$(".jsPanel-hint-close",e).css("float","left"),$(".jsPanel-title",e).css("float","right"),$(".jsPanel-ftr",e).append('<div style="clear:both;height:0;"></div>'),$("button",e.footer).css("float","left")},setTooltipDefaults:function(e){e.option.position={},e.option.resizable=!1,e.option.draggable=!1,e.option.show="fadeIn",e.option.controls.buttons="closeonly",e.header.title.css("cursor","inherit"),e.footer.css("cursor","inherit"),e.addClass("jsPanel-tt")},setZi:function(e){var t,n=[];return t="string"==typeof e?$(e):e,$(".jsPanel:not('.jsPanel-modal, .jsPanel-nofront')").each(function(e,r){t.attr("id")!==$(r).attr("id")&&n.push($(r).css("z-index"))}),this.getMaxOfArray(n)+1},shiftTooltipHorizontal:function(e){var t=this.getMargins(e),n,r=this.getMaxpanelshift(e),i=r.maxshiftH,r=r.maxCornerH,s=n=0;0>t.marginLeft&&0<t.marginRight?(n=Math.abs(t.marginLeft)+5||0,i=Math.min(n,i)||0,r=Math.min(r,i)||0,n=parseInt(e.css("left"))+i+"px",s=parseInt($(".jsPanel-corner",e).css("left"))-r+"px"):0>t.marginRight&&0<t.marginLeft&&(n=Math.abs(t.marginRight)+5||0,i=Math.min(n,i)||0,r=Math.min(r,i)||0,n=parseInt(e.css("left"))-i+"px",s=parseInt($(".jsPanel-corner",e).css("left"))+r+"px");if(0>t.marginLeft&&0<t.marginRight||0>t.marginRight&&0<t.marginLeft)e.animate({left:n},{queue:!1}),$(".jsPanel-corner",e)&&$(".jsPanel-corner",e).animate({left:s},{queue:!1})},shiftTooltipVertical:function(e){var t=this.getMargins(e),n,r=this.getMaxpanelshift(e),i=r.maxshiftV,r=r.maxCornerV,s=n=0;0>t.marginTop&&0<t.marginBottom?(n=Math.abs(t.marginTop)+5||0,i=Math.min(n,i)||0,r=Math.min(r,i)||0,n=parseInt(e.css("top"))+i+"px",s=parseInt($(".jsPanel-corner",e).css("top"))-r+"px"):0>t.marginBottom&&0<t.marginTop&&(n=Math.abs(t.marginBottom)+5||0,i=Math.min(n,i)||0,r=Math.min(r,i)||0,n=parseInt(e.css("top"))-i+"px",s=parseInt($(".jsPanel-corner",e).css("top"))+r+"px");if(0>t.marginTop&&0<t.marginBottom||0>t.marginBottom&&0<t.marginTop)e.animate({top:n},{queue:!1}),$(".jsPanel-corner",e)&&$(".jsPanel-corner",e).animate({top:s},{queue:!1})},smallify:function(e){var t;"smallified"===e.status&&"smallified"===e.option.panelstatus||"smallifiedMax"===e.status&&"smallifiedMax"===e.option.panelstatus||(t="maximized"===e.status||"maximized"===e.option.panelstatus?"smallifiedMax":"smallified",e.smallify.height=e.outerHeight(),e.panelheaderheight=e.header.outerHeight()-2,e.panelfooterheight=e.footer.outerHeight(),e.panelcontentheight=e.content.outerHeight(),e.animate({height:e.panelheaderheight},{done:function(){"maximized"===e.status||"maximized"===e.option.panelstatus?jsPanel.hideControls(".jsPanel-btn-max, .jsPanel-btn-small",e):jsPanel.hideControls(".jsPanel-btn-norm, .jsPanel-btn-small",e),jsPanel.updateStateProps(e,t),e.trigger("jspanel"+t,e.attr("id")),e.trigger("jspanelstatechange",e.attr("id"))}}))},unsmallify:function(e){e.animate({height:e.smallify.height},{done:function(){"smallified"===e.status||"smallified"===e.option.panelstatus?(jsPanel.hideControls(".jsPanel-btn-norm, .jsPanel-btn-smallrev",e),jsPanel.updateStateProps(e,"normalized"),e.trigger("jspanelnormalized",e.attr("id"))):(jsPanel.hideControls(".jsPanel-btn-max, .jsPanel-btn-smallrev",e),jsPanel.updateStateProps(e,"maximized"),e.trigger("jspanelmaximized",e.attr("id"))),e.trigger("jspanelstatechange",e.attr("id"))}})},updateOptionPosition:function(e){e.option.position.top=e.css("top"),e.option.position.left=e.css("left")},updateOptionSize:function(e){e.option.size.width=e.css("width"),e.option.size.height=$(".jsPanel-content",e).css("height")},updateCustomData:function(e,t,n){var r=e.data("custom");r[t]=n,e.data("custom",r)},updateStateProps:function(e,t){e.status=t,e.option.panelstatus=t,e.data("panelstatus",t),e.alterClass("jsPanel-state-*","jsPanel-state-"+t)}};console.log("jsPanel version: "+jsPanel.version),function(e){e.jsPanel=function(t){var n;t=t||{};var r=t.config||{};n=e(t.template||jsPanel.template),n.option=e.extend(!0,{},e.jsPanel.defaults,r,t),"string"==typeof n.option.id?t=n.option.id:e.isFunction(n.option.id)?t=n.option.id():(jsPanel.ID+=1,t=jsPanel.ID);if(0<e("#"+t).length)return alert("jsPanel Error: No jsPanel created - id attribute passed with option.id already exists in document"),!1;n.attr("id",t),n.data("custom",n.option.custom),n.verticalOffset=0;try{n.parentElmt=e(n.option.selector).first(),n.parentElmtTagname=n.parentElmt[0].tagName.toLowerCase(),n.count=n.parentElmt.children(".jsPanel").length}catch(i){alert(i+"\n\nThe element you want to append the jsPanel to does not exist!\n\n The jsPanel will be appended to the body element instead."),n.option.selector="body",n.parentElmt=e("body"),n.parentElmtTagname="body",n.count=n.parentElmt.children(".jsPanel").length}n.status="initialized",n.header=e(".jsPanel-hdr",n),n.header.title=e(".jsPanel-title",n.header),n.header.controls=e(".jsPanel-hdr-r",n.header),n.header.toolbar=e(".jsPanel-hdr-toolbar",n.header),n.content=e(".jsPanel-content",n),n.footer=e(".jsPanel-ftr",n),n.normalize=function(){return jsPanel.normalize(n),n},n.close=function(){jsPanel.close(n)},n.closeChildpanels=function(){return jsPanel.closeChildpanels(n),n},n.minimize=function(){return jsPanel.minimize(n),n},n.maximize=function(){return jsPanel.maximize(n),n},n.smallify=function(){return"normalized"===n.status||"normalized"===n.option.panelstatus||"maximized"===n.status||"maximized"===n.option.panelstatus?jsPanel.smallify(n):"minimized"===n.status&&"minimized"===n.option.panelstatus||jsPanel.unsmallify(n),n},n.front=function(){return n.css("z-index",jsPanel.setZi(n)),n},n.title=function(e){if(e&&"string"==typeof e)return n.header.title.html(e),n;if(0===arguments.length)return n.header.title.html()},n.addToolbar=function(e,t){return jsPanel.addToolbar(n,e,t),n},n.control=function(e,t){return jsPanel.control(n,e,t),n},n.resize=function(e,t){return jsPanel.resize(n,e,t),n},n.reposition=function(e,t){return jsPanel.reposition(n,e,t),n},n.reloadContent=function(){n.option.content?n.content.empty().append(n.option.content):n.option.load?(n.content.empty(),jsPanel.load(n)):n.option.ajax?jsPanel.ajax(n):n.option.iframe&&jsPanel.iframe(n)},n.on("click",function(t){e(t.target).is("a[href], button, .jsPanel-nofront, .jsPanel-nofront *")||n.hasClass("jsPanel-modal")||n.css("z-index",jsPanel.setZi(n))}),e(".jsPanel-btn-close",n).on("click",function(e){e.preventDefault(),n.option.controls.confirmClose?!0===window.confirm(n.option.controls.confirmClose)&&jsPanel.close(n,n.parentElmtTagname):jsPanel.close(n,n.parentElmtTagname)}),e(".jsPanel-btn-min",n).on("click",function(e){e.preventDefault(),jsPanel.minimize(n)}),e(".jsPanel-btn-max",n).on("click",function(e){e.preventDefault(),jsPanel.maximize(n)}),e(".jsPanel-btn-norm",n).on("click",function(e){e.preventDefault(),jsPanel.normalize(n)}),e(".jsPanel-btn-small",n).on("click",function(e){e.preventDefault(),jsPanel.smallify(n)}),e(".jsPanel-btn-smallrev",n).on("click",function(e){e.preventDefault(),jsPanel.unsmallify(n)}),n.option.paneltype=jsPanel.rewriteOPaneltype(n.option.paneltype),n.option.position=jsPanel.rewriteOPosition(n.option.position),n.option.size=jsPanel.rewriteOSize(n.option.size);if("modal"===n.option.paneltype.type)jsPanel.setModalDefaults(n),1>e(".jsPanel-backdrop").length&&jsPanel.insertModalBackdrop();else if("tooltip"===n.option.paneltype.type){if(jsPanel.setTooltipDefaults(n),n.option.paneltype.solo&&jsPanel.closeallTooltips(),n.option.position=jsPanel.calcToooltipPosition(n.parentElmt,n.option),n.css({top:n.option.position.top,left:n.option.position.left}),n.parentElmt.parent().hasClass("jsPanel-tooltip-wrapper")||(n.parentElmt.wrap('<div class="jsPanel-tooltip-wrapper">'),n.parentElmt.parent().append(n),"semisticky"===n.option.paneltype.mode?n.hover(function(){e.noop()},function(){jsPanel.close(n)}):"sticky"===n.option.paneltype.mode?e.noop():(n.option.controls.buttons="none",n.parentElmt.off("mouseout"),n.parentElmt.mouseout(function(){jsPanel.close(n)}))),n.css("overflow","visible"),n.option.paneltype.cornerBG){t=e("<div></div>");var s="jsPanel-corner-"+n.option.paneltype.position,o=parseInt(n.option.paneltype.cornerOX)||0,u=parseInt(n.option.paneltype.cornerOY)||0,r=n.option.paneltype.cornerBG;"bottom"!==n.option.paneltype.position?t.addClass("jsPanel-corner "+s).appendTo(n):t.addClass("jsPanel-corner "+s).prependTo(n),"top"===n.option.paneltype.position?(s=parseInt(n.option.size.width)/2-12+o+"px",t.css({borderTopColor:r,left:s})):"right"===n.option.paneltype.position?(s=parseInt(n.option.size.height)/2-12+u+"px",t.css({borderRightColor:r,left:"-22px",top:s})):"bottom"===n.option.paneltype.position?(s=parseInt(n.option.size.width)/2-12+o+"px",t.css({borderBottomColor:r,left:s,top:"-22px"})):"left"===n.option.paneltype.position&&(s=parseInt(n.option.size.height)/2-12+u+"px",t.css({borderLeftColor:r,left:n.option.size.width,top:s}))}}else"hint"===n.option.paneltype.type&&(jsPanel.setHintDefaults(n),e(".jsPanel-hint-close",n).on("click",n,function(e){e.data.close(n)}),"0"===n.option.position.top&&"center"===n.option.position.left?(n.addClass("jsPanel-hint-tc"),0<e(".jsPanel-hint-tc").length&&(n.option.position=jsPanel.hintTop("jsPanel-hint-tc"))):"0"===n.option.position.top&&"0"===n.option.position.left?(n.addClass("jsPanel-hint-tl"),0<e(".jsPanel-hint-tl").length&&(n.option.position=jsPanel.hintTop("jsPanel-hint-tl"))):"0"===n.option.position.top&&"0"===n.option.position.right&&(n.addClass("jsPanel-hint-tr"),0<e(".jsPanel-hint-tr").length&&(n.option.position=jsPanel.hintTop("jsPanel-hint-tr"))));n.data("selector",n.option.selector),"tooltip"!==n.option.paneltype.type&&n.appendTo(n.parentElmt),"modal"===n.option.paneltype.type?(n.css("zIndex",10001),"extended"===n.option.paneltype.mode&&e(".jsPanel-backdrop").css("z-index","9998")):n.hasClass("jsPanel-modal")||n.css("z-index",jsPanel.setZi(n)),n.option.bootstrap?(n.option.theme=jsPanel.isBootstrapTheme(n.option.bootstrap),n.option.controls.iconfont="bootstrap",n.alterClass("jsPanel-theme-*","panel panel-"+n.option.theme),n.header.alterClass("jsPanel-theme-*","panel-heading"),n.header.title.addClass("panel-title"),n.content.alterClass("jsPanel-theme-*","panel-body"),n.footer.addClass("panel-footer"),n.header.title.css("color",function(){return n.header.css("color")}),n.content.css("border-top-color",function(){return n.header.css("border-top-color")})):[n,n.header,n.content,n.footer].forEach(function(t){e(t).alterClass("jsPanel-theme-*","jsPanel-theme-"+n.option.theme)}),n.option.removeHeader?n.header.remove():jsPanel.configControls(n),n.option.controls.iconfont?jsPanel.configIconfont(n):e(".jsPanel-btn-close, .jsPanel-btn-max, .jsPanel-btn-norm, .jsPanel-btn-min, .jsPanel-btn-small, .jsPanel-btn-smallrev",n.header.controls).empty(),n.option.toolbarHeader&&!1===n.option.removeHeader&&("string"==typeof n.option.toolbarHeader?n.header.toolbar.append(n.option.toolbarHeader):e.isFunction(n.option.toolbarHeader)?n.header.toolbar.append(n.option.toolbarHeader(n.header)):e.isArray(n.option.toolbarHeader)&&jsPanel.configToolbar(n.option.toolbarHeader,n.header.toolbar,n),n.header.toolbar.css("font-family",n.header.title.css("font-family"))),n.option.toolbarFooter&&(n.footer.css({display:"block"}),"string"==typeof n.option.toolbarFooter?n.footer.append(n.option.toolbarFooter):e.isFunction(n.option.toolbarFooter)?n.footer.append(n.option.toolbarFooter(n.footer)):e.isArray(n.option.toolbarFooter)&&jsPanel.configToolbar(n.option.toolbarFooter,n.footer,n),n.footer.css("font-family",n.header.title.css("font-family"))),!0===n.option.rtl.rtl&&jsPanel.setRTL(n,n.option.rtl.lang),"string"==typeof n.option.overflow?n.content.css("overflow",n.option.overflow):e.isPlainObject(n.option.overflow)&&n.content.css({"overflow-y":n.option.overflow.vertical,"overflow-x":n.option.overflow.horizontal}),e.isPlainObject(n.option.draggable)?(n.parent().hasClass("jsPanel-content")&&(n.option.draggable.containment="parent"),n.option.customdraggable=e.extend(!0,{},e.jsPanel.defaults.draggable,n.option.draggable),n.draggable(n.option.customdraggable)):"disabled"===n.option.draggable&&(e(".jsPanel-title, .jsPanel-ftr",n).css("cursor","inherit"),n.draggable({disabled:!0})),e.isPlainObject(n.option.resizable)?(n.option.customresizable=e.extend(!0,{},e.jsPanel.defaults.resizable,n.option.resizable),n.resizable(n.option.customresizable)):"disabled"===n.option.resizable&&(n.resizable({disabled:!0}),e(".ui-icon-gripsmall-diagonal-se",n).css({"background-image":"none","text-indent":-9999}),e(".ui-resizable-handle",n).css({cursor:"inherit"})),n.option.content&&(n.content.append(n.option.content),n.data("content",n.option.content)),e.isPlainObject(n.option.load)&&n.option.load.url&&jsPanel.load(n),e.isPlainObject(n.option.ajax)&&n.option.ajax.url&&jsPanel.ajax(n),n.content.css({width:n.option.size.width||"auto",height:n.option.size.height||"auto"}),n.header.title.css("width",n.content.width()-90),e.isPlainObject(n.option.iframe)&&(n.option.iframe.src||n.option.iframe.srcdoc)&&jsPanel.iframe(n),"tooltip"!==n.option.paneltype.type&&jsPanel.calcPanelposition(n),"string"==typeof n.option.addClass.header&&n.header.addClass(n.option.addClass.header),"string"==typeof n.option.addClass.content&&n.content.addClass(n.option.addClass.content),"string"==typeof n.option.addClass.footer&&n.footer.addClass(n.option.addClass.footer),"default"!==n.option.paneltype.mode&&n.option.dblclicks&&(n.option.dblclicks.title&&n.header.title.on("dblclick",function(e){e.preventDefault(),jsPanel.dblclickhelper(n.option.dblclicks.title,n)}),n.option.dblclicks.content&&n.content.on("dblclick",function(e){e.preventDefault(),jsPanel.dblclickhelper(n.option.dblclicks.content,n)}),n.option.dblclicks.footer&&n.footer.on("dblclick",function(e){e.preventDefault(),jsPanel.dblclickhelper(n.option.dblclicks.footer,n)})),n.option.show?-1===n.option.show.indexOf(" ")?n[n.option.show]({done:function(){e(n).trigger("jspanelloaded",n.attr("id")),e(n).trigger("jspanelstatechange",n.attr("id")),n.option.size={width:n.outerWidth(),height:n.outerHeight()}}}):(n.css({display:"block",opacity:1}),e(n).addClass(n.option.show),e(n).trigger("jspanelloaded",n.attr("id")),e(n).trigger("jspanelstatechange",n.attr("id")),n.option.size={width:n.outerWidth(),height:n.outerHeight()}):(n.css({display:"block",opacity:1}),e(n).trigger("jspanelloaded",n.attr("id")),e(n).trigger("jspanelstatechange",n.attr("id")),n.option.size={width:n.outerWidth(),height:n.outerHeight()}),n.verticalOffset=jsPanel.calcVerticalOffset(n)||0,jsPanel.replaceCSSBottomRight(n),n.header.title.empty().prepend(n.option.title),jsPanel.resizeTitle(n),"hint"===n.option.paneltype.type&&jsPanel.reposHintsScroll(n),"body"!==n.parentElmtTagname||"tooltip"===n.option.paneltype.type&&"hint"===n.option.paneltype.type||jsPanel.fixPosition(n),n.option.paneltype&&"default"===n.option.paneltype.mode||(e(n).on("resizestart",function(){e("iframe",n.content).css("display","none")}),e(n).on("resize",function(){jsPanel.resizeContent(n),jsPanel.resizeTitle(n)}),e(n).on("resizestop",function(){n.option.size={width:n.outerWidth(),height:n.outerHeight()},jsPanel.updateStateProps(n,"normalized"),e(n).trigger("jspanelnormalized",n.attr("id")),e(n).trigger("jspanelstatechange",n.attr("id")),jsPanel.hideControls(".jsPanel-btn-norm, .jsPanel-btn-smallrev",n),e("iframe",n.content).css("display","block")}),e(n).on("dragstart",function(){e(window).off("scroll",n.jsPanelfixPos),"extended"===n.option.paneltype.mode&&n.css("z-index","10000")}),e(n).on("dragstop",function(){n.option.position={top:n.css("top"),left:n.css("left")},n.verticalOffset=jsPanel.calcVerticalOffset(n)||0,"body"===n.parentElmtTagname&&jsPanel.fixPosition(n)}),e(n).on("jspanelminimized",function(){jsPanel.hideControls(".jsPanel-btn-min, .jsPanel-btn-small, .jsPanel-btn-smallrev, .jsPanel-btn-hide",n),jsPanel.updateStateProps(n,"minimized"),e(window).off("scroll",n.jsPanelfixPos)}),e(n).on("jspanelmaximized",function(){jsPanel.resizeContent(n),jsPanel.resizeTitle(n),jsPanel.hideControls(".jsPanel-btn-max, .jsPanel-btn-smallrev",n),jsPanel.updateStateProps(n,"maximized"),n.trigger("resize")}),e(n).on("jspanelnormalized",function(){jsPanel.hideControls(".jsPanel-btn-norm, .jsPanel-btn-smallrev",n),jsPanel.resizeTitle(n),jsPanel.resizeContent(n),jsPanel.updateStateProps(n,"normalized"),n.trigger("resize")})),"number"==typeof n.option.autoclose&&0<n.option.autoclose&&jsPanel.autoclose(n),"tooltip"!==n.option.paneltype.type||"top"!==n.option.paneltype.position&&"bottom"!==n.option.paneltype.position?"left"!==n.option.paneltype.position&&"right"!==n.option.paneltype.position||jsPanel.shiftTooltipVertical(n,n.option.paneltype.shiftwithin):jsPanel.shiftTooltipHorizontal(n,n.option.paneltype.shiftwithin);if(n.option.panelstatus)switch(n.option.panelstatus){case"minimized":jsPanel.minimize(n);break;case"maximized":jsPanel.maximize(n);break;case"smallified":jsPanel.smallify(n);break;case"smallifiedMax":jsPanel.maximize(n),jsPanel.smallify(n)}else jsPanel.updateStateProps(n,"normalized");return e.isFunction(n.option.callback)?n.option.callback.call(n,n):e.isArray(n.option.callback)&&n.option.callback.forEach(function(t){e.isFunction(t)&&t.call(n,n)}),n},e.jsPanel.defaults={addClass:{header:!1,content:!1,footer:!1},ajax:{autoload:!0},autoclose:!1,bootstrap:!1,callback:void 0,content:!1,controls:{buttons:!0,iconfont:"jsglyph",close:!1,confirmClose:!1,maximize:!1,minimize:!1,normalize:!1,smallify:!1,maxtoScreen:!1},custom:!1,dblclicks:!1,draggable:{handle:"div.jsPanel-hdr, div.jsPanel-ftr",stack:".jsPanel",opacity:.7},id:function(){return jsPanel.ID+=1,"jsPanel-"+jsPanel.ID},iframe:!1,load:!1,maximizedMargin:{top:5,right:5,bottom:5,left:5},offset:{top:0,left:0},panelstatus:!1,paneltype:!1,overflow:"hidden",position:"auto",removeHeader:!1,resizable:{handles:"n, e, s, w, ne, se, sw, nw",autoHide:!1,minWidth:150,minHeight:93},rtl:!1,selector:"body",show:"fadeIn",size:{width:"400px",height:"222px"},template:!1,theme:"default",title:"jsPanel",toolbarFooter:!1,toolbarHeader:!1},e.fn.alterClass=function(t,n){var r;return-1===t.indexOf("*")?(this.removeClass(t),n?this.addClass(n):this):(r=new RegExp("\\s"+t.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g"),this.each(function(t,n){for(var i=" "+n.className+" ";r.test(i);)i=i.replace(r," ");n.className=e.trim(i)}),n?this.addClass(n):this)},e("body").click(function(t){var n;1>e(t.target).closest(".jsPanel-tt").length&&e(".jsPanel-tt").each(function(){n=e(this).attr("id"),e("#"+n).unwrap().remove(),e("body").trigger("jspanelclosed",n)})})}(jQuery),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&-9007199254740992<e&&9007199254740992>e&&Math.floor(e)===e}),define("jsPanel",["jqueryui"],function(){}),requirejs.config({baseUrl:"js",shim:{bootstrap:{deps:["jquery"]},"jquery-contextmenu":{deps:["jquery"]},jsonEditor:{deps:["ace"]},jqueryui:{exports:"$",deps:["jquery"]},jsPanel:{deps:["jqueryui"]},vis:{deps:["css!./../components/vis/dist/vis.min"]}},paths:{bootstrap:"./../components/bootstrap/dist/js/bootstrap.min",jquery:"./../components/jquery/dist/jquery.min",jqueryui:"./../components/jquery-ui/jquery-ui.min","jquery-contextmenu":"./../components/jQuery-contextMenu/dist/jquery.contextMenu","jquerui-position":"./../components/jQuery-contextMenu/src/jquery.ui.position",lodash:"./../components/lodash/lodash.min",JsonPath:"./../components/JSONPath/lib/jsonpath",jsonEditor:"./../components/jsoneditor/jsoneditor.min",ace:"./../components/jsoneditor/asset/ace/ace",jszip:"./../components/jszip/dist/jszip.min",text:"./../components/requirejs-text/text",tpl:"./../templates",jsPanel:"./../components/jspanel/source/jquery.jspanel.min",vis:"./../components/vis/dist/vis.min"},map:{"*":{css:"./../components/require-css/css.min"}}}),requirejs(["css!../style","Main","bootstrap","jsPanel"]),define("config",function(){}),function(e){var t=document,n="appendChild",r="styleSheet",i=t.createElement("style");i.type="text/css",t.getElementsByTagName("head")[0][n](i),i[r]?i[r].cssText=e:i[n](t.createTextNode(e))}("/*\n@import url('../src/js/components/bootstrap/dist/css/bootstrap.min.css');\n@import url('../src/js/components/bootstrap/dist/css/bootstrap-theme.min.css');\n@import url('../src/js/../..components/jsoneditor/jsoneditor.min.css');\n@import url('../src/js/components/jQuery-contextMenu/src/jquery.contextMenu.css');\n@import url('../src/js/components/mjolnic-bootstrap-colorpicker/dist/css/bootstrap-colorpicker.min');\n*/\n/*\nhtml\n{\n	background-image: url(../src/js/css/back.jpg);\n}\n*/\n/*div {\n    border: 2px solid #a1a1a1;\n    padding: 1px 1px; \n    background: #87CEFA;\n    width: 300px;\n    border-radius: 10px;\n	opacity: 0.9;\n}*/\n\n/*\nbody \n{\n	overflow-y: scroll;\n}\n*/\n\n.nav-tabs > li .close {\n	margin: -2px 0 0 10px;\n	font-size: 18px;\n}\n#visNetwork a{\n    background-color: #88e4ec;\n}\n			\n.marginBottom {\n    margin-bottom :1px;\n}\n.form-group{\n	margin-left: 5px;\n	margin-right: 5px;\n}\n.form-inline{\n	margin-top: 5px;\n	margin-bottom: 5px;\n}\n.btn.btn-primary.form-control.dropdown-toggle {\n	margin-right: 5px;\n}\n\n.MappingRule line\n{\n    stroke: #87CEFA;\n    stroke-width : 4;\n    opacity : 0.6;\n    marker-end : url(#arrowMarker);\n}\n\n.MappingRule line:hover\n{\n	stroke-width: 7;\n}\n\n.JsonObject, .JsonArray, .JsonProperty, .NodeClass, .ClassProperty {\n    cursor: pointer;\n    stroke-width: 1;\n    stroke: black;\n}\n\n.JsonArray rect, .JsonObject rect, .JsonProperty rect, .NodeClass rect, .ClassProperty rect {\n    opacity: 0.5;\n}\n\n.JsonObject text, .JsonArray text , .JsonProperty text, .NodeClass text, .ClassProperty text {\n    font-size: 11px;\n    font-family: sans-serif;\n    fill: black;\n    text-anchor: middle;\n    alignment-baseline: middle;\n    stroke: none;\n}\n/*\n.JsonObject rect:hover,\n.JsonArray rect:hover,\n.JsonProperty rect:hover,\n.NodeClass rect:hover,\n.ClassProperty rect:hover{\n    stroke: blue;\n    stroke-width: 5;\n}\n*/\n\n.EdgeClass {\n    stroke-width : 4;\n    stroke : #1E0BFF;\n    stroke-linecap : round;\n    fill : none;\n    marker-end : url(#arrowMarker);\n    opacity : 0.9;\n}\n\n.EdgeClass text {\n    stroke-width : 1;\n    stroke : #000000;\n}\n\n.Ctrl {\n    stroke-width : 2;\n    stroke : #1E0BFF;\n    fill : #fff;\n}\n\n\n.SrcCtrlLine, .DestCtrlLine {\n    stroke-width : 1;\n    stroke : #999;\n    stroke-linecap : round;\nstroke-dasharray : 5,3;\n}\n\n.EdgeClass circle:hover\n{\n    fill: #1E0BFF;\n    cursor: pointer;\n}\n.EdgeClass path:hover\n{\n    stroke-width: 7;\n\n}\n\n.NodeClass .icon-gear\n{\n    fill: rgb(25, 25, 112);\n}\n\n.ClassProperty .icon-gear\n{\n    fill:#87CEFA;\n}\n\n\n\n.icon-key\n{\n    fill:gold;\n}\n.icon-gear:hover\n{\n    fill:rgb(28, 134, 238);\n}\n\n#inputCtrl button\n{\n    margin-right: 10px;\n}\n\n.list-group-item {\n    display: inline-block;\n}\n\na:hover\n{\n	cursor: pointer;\n}\n.input-append .btn.dropdown-toggle {\n    float: none;\n}\n\n .glyphicon-floppy-disk:hover\n {\n	color: blue;\n }\n.custom-menu {\n    display: none;\n    z-index: 1000;\n    position: absolute;\n    overflow: hidden;\n    border: 1px solid #CCC;\n    white-space: nowrap;\n    font-family: sans-serif;\n    color: #333;\n    border-radius: 5px;\n	background: white;\n	opacity : 1.0;\n}\n\n.custom-menu li {\n    padding: 4px 6px;\n    cursor: pointer;\n    border: 1px solid #CCC;\n\n}\n\n.custom-menu li:hover {\n    background-color: #DEF;\n}\n\n.scrollable-menu {\n    height: auto;\n    max-height: 200px;\n    overflow-x: hidden;\n}\na .glyphicon-eye-open {\n    padding-left: 1cm;\n\n}\n\na .glyphicon-eye-open:hover {\n    color: #008000;\n\n}\na .glyphicon-remove:hover{\n    color: red;\n}\n.vis-panel,.vis-timeline{margin:0;padding:0;box-sizing:border-box}.vis-background,.vis-labelset,.vis-timeline{overflow:hidden}.vis .overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10}.vis-active{box-shadow:0 0 10px #86d5f8}.vis [class*=span]{min-height:0;width:auto}.vis-timeline{position:relative;border:1px solid #bfbfbf}.vis-panel{position:absolute}.vis-panel.vis-bottom,.vis-panel.vis-center,.vis-panel.vis-left,.vis-panel.vis-right,.vis-panel.vis-top{border:1px #bfbfbf}.vis-panel.vis-center,.vis-panel.vis-left,.vis-panel.vis-right{border-top-style:solid;border-bottom-style:solid;overflow:hidden}.vis-panel.vis-bottom,.vis-panel.vis-center,.vis-panel.vis-top{border-left-style:solid;border-right-style:solid}.vis-panel>.vis-content{position:relative}.vis-panel .vis-shadow{position:absolute;width:100%;height:1px;box-shadow:0 0 10px rgba(0,0,0,.8)}.vis-itemset,.vis-labelset,.vis-labelset .vis-label{box-sizing:border-box;position:relative}.vis-panel .vis-shadow.vis-top{top:-1px;left:0}.vis-panel .vis-shadow.vis-bottom{bottom:-1px;left:0}.vis-labelset .vis-label{left:0;top:0;width:100%;color:#4d4d4d;border-bottom:1px solid #bfbfbf}.vis-labelset .vis-label:last-child{border-bottom:none}.vis-labelset .vis-label .vis-inner{display:inline-block;padding:5px}.vis-labelset .vis-label .vis-inner.vis-hidden{padding:0}.vis-itemset{padding:0;margin:0}.vis-itemset .vis-background,.vis-itemset .vis-foreground{position:absolute;width:100%;height:100%;overflow:visible}.vis-axis{position:absolute;width:100%;height:0;left:0;z-index:1}.vis-foreground .vis-group{position:relative;box-sizing:border-box;border-bottom:1px solid #bfbfbf}.vis-foreground .vis-group:last-child{border-bottom:none}.vis-overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10}.vis-item{position:absolute;color:#1A1A1A;border-color:#97B0F8;border-width:1px;background-color:#D5DDF6;display:inline-block}.vis-item.vis-point.vis-selected,.vis-item.vis-selected{background-color:#FFF785}.vis-item.vis-selected{border-color:#FFC200;z-index:2}.vis-editable.vis-selected{cursor:move}.vis-item.vis-box{text-align:center;border-style:solid;border-radius:2px}.vis-item.vis-point{background:0 0}.vis-item.vis-dot{position:absolute;padding:0;border-width:4px;border-style:solid;border-radius:4px}.vis-item.vis-range{border-style:solid;border-radius:2px;box-sizing:border-box}.vis-item.vis-background{border:none;background-color:rgba(213,221,246,.4);box-sizing:border-box;padding:0;margin:0}.vis-item .vis-item-overflow{position:relative;width:100%;height:100%;padding:0;margin:0;overflow:hidden}.vis-item.vis-range .vis-item-content{position:relative;display:inline-block}.vis-item.vis-background .vis-item-content{position:absolute;display:inline-block}.vis-item.vis-line{padding:0;position:absolute;width:0;border-left-width:1px;border-left-style:solid}.vis-item .vis-item-content{white-space:nowrap;box-sizing:border-box;padding:5px}.vis-item .vis-delete{background:url(../src/js/../components/vis/dist/img/timeline/delete.png) center no-repeat;position:absolute;width:24px;height:24px;top:-4px;right:-24px;cursor:pointer}.vis-item.vis-range .vis-drag-left{position:absolute;width:24px;max-width:20%;min-width:2px;height:100%;top:0;left:-4px;cursor:w-resize}.vis-item.vis-range .vis-drag-right{position:absolute;width:24px;max-width:20%;min-width:2px;height:100%;top:0;right:-4px;cursor:e-resize}.vis-time-axis{position:relative;overflow:hidden}.vis-time-axis.vis-foreground{top:0;left:0;width:100%}.vis-time-axis.vis-background{position:absolute;top:0;left:0;width:100%;height:100%}.vis-time-axis .vis-text{position:absolute;color:#4d4d4d;padding:3px;white-space:nowrap}.vis-time-axis .vis-text.vis-measure{position:absolute;padding-left:0;padding-right:0;margin-left:0;margin-right:0;visibility:hidden}.vis-time-axis .vis-grid.vis-vertical{position:absolute;border-left:1px solid}.vis-time-axis .vis-grid.vis-minor{border-color:#e5e5e5}.vis-time-axis .vis-grid.vis-major{border-color:#bfbfbf}.vis-current-time{background-color:#FF7F6E;width:2px;z-index:1}.vis-custom-time{background-color:#6E94FF;width:2px;cursor:move;z-index:1}.vis-panel.vis-background.vis-horizontal .vis-grid.vis-horizontal{position:absolute;width:100%;height:0;border-bottom:1px solid}.vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor{border-color:#e5e5e5}.vis-panel.vis-background.vis-horizontal .vis-grid.vis-major{border-color:#bfbfbf}.vis-data-axis .vis-y-axis.vis-major{width:100%;position:absolute;color:#4d4d4d;white-space:nowrap}.vis-data-axis .vis-y-axis.vis-major.vis-measure{padding:0;margin:0;border:0;visibility:hidden;width:auto}.vis-data-axis .vis-y-axis.vis-minor{position:absolute;width:100%;color:#bebebe;white-space:nowrap}.vis-data-axis .vis-y-axis.vis-minor.vis-measure{padding:0;margin:0;border:0;visibility:hidden;width:auto}.vis-data-axis .vis-y-axis.vis-title{position:absolute;color:#4d4d4d;white-space:nowrap;bottom:20px;text-align:center}.vis-data-axis .vis-y-axis.vis-title.vis-measure{padding:0;margin:0;visibility:hidden;width:auto}.vis-data-axis .vis-y-axis.vis-title.vis-left{bottom:0;-webkit-transform-origin:left top;-moz-transform-origin:left top;-ms-transform-origin:left top;-o-transform-origin:left top;transform-origin:left bottom;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg)}.vis-data-axis .vis-y-axis.vis-title.vis-right{bottom:0;-webkit-transform-origin:right bottom;-moz-transform-origin:right bottom;-ms-transform-origin:right bottom;-o-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg)}.vis-legend{background-color:rgba(247,252,255,.65);padding:5px;border:1px solid #b3b3b3;box-shadow:2px 2px 10px rgba(154,154,154,.55)}.vis-legend-text{white-space:nowrap;display:inline-block}.vis-graph-group0{fill:#4f81bd;fill-opacity:0;stroke-width:2px;stroke:#4f81bd}.vis-graph-group1{fill:#f79646;fill-opacity:0;stroke-width:2px;stroke:#f79646}.vis-graph-group2{fill:#8c51cf;fill-opacity:0;stroke-width:2px;stroke:#8c51cf}.vis-graph-group3{fill:#75c841;fill-opacity:0;stroke-width:2px;stroke:#75c841}.vis-graph-group4{fill:#ff0100;fill-opacity:0;stroke-width:2px;stroke:#ff0100}.vis-graph-group5{fill:#37d8e6;fill-opacity:0;stroke-width:2px;stroke:#37d8e6}.vis-graph-group6{fill:#042662;fill-opacity:0;stroke-width:2px;stroke:#042662}.vis-graph-group7{fill:#00ff26;fill-opacity:0;stroke-width:2px;stroke:#00ff26}.vis-graph-group8{fill:#f0f;fill-opacity:0;stroke-width:2px;stroke:#f0f}.vis-graph-group9{fill:#8f3938;fill-opacity:0;stroke-width:2px;stroke:#8f3938}.vis-timeline .vis-fill{fill-opacity:.1;stroke:none}.vis-timeline .vis-bar{fill-opacity:.5;stroke-width:1px}.vis-timeline .vis-point{stroke-width:2px;fill-opacity:1}.vis-timeline .vis-legend-background{stroke-width:1px;fill-opacity:.9;fill:#fff;stroke:#c2c2c2}.vis-timeline .vis-outline{stroke-width:1px;fill-opacity:1;fill:#fff;stroke:#e5e5e5}.vis-timeline .vis-icon-fill{fill-opacity:.3;stroke:none}div.vis-network div.vis-manipulation{border-width:0;border-bottom:1px;border-style:solid;border-color:#d6d9d8;background:#fff;background:-moz-linear-gradient(top,#fff 0,#fcfcfc 48%,#fafafa 50%,#fcfcfc 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(48%,#fcfcfc),color-stop(50%,#fafafa),color-stop(100%,#fcfcfc));background:-webkit-linear-gradient(top,#fff 0,#fcfcfc 48%,#fafafa 50%,#fcfcfc 100%);background:-o-linear-gradient(top,#fff 0,#fcfcfc 48%,#fafafa 50%,#fcfcfc 100%);background:-ms-linear-gradient(top,#fff 0,#fcfcfc 48%,#fafafa 50%,#fcfcfc 100%);background:linear-gradient(to bottom,#fff 0,#fcfcfc 48%,#fafafa 50%,#fcfcfc 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#fcfcfc', GradientType=0 );position:absolute;left:0;top:0;width:100%;height:30px}div.vis-network div.vis-edit-mode{position:absolute;left:0;top:15px;height:30px}div.vis-network div.vis-close{position:absolute;right:0;top:0;width:30px;height:30px;background-position:20px 3px;background-repeat:no-repeat;background-image:url(../src/js/../components/vis/dist/img/network/cross.png);cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}div.vis-network div.vis-close:hover{opacity:.6}div.vis-network div.vis-edit-mode div.vis-button,div.vis-network div.vis-manipulation div.vis-button{position:relative;top:-7px;font-family:verdana;font-size:12px;-moz-border-radius:15px;border-radius:15px;background-position:0 0;height:24px;margin:0 0 0 10px;vertical-align:middle;cursor:pointer;padding:0 8px;user-select:none}div.vis-network div.vis-edit-mode div.vis-button,div.vis-network div.vis-manipulation div.vis-button,div.vis-network div.vis-navigation div.vis-button{display:inline-block;background-repeat:no-repeat;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none}div.vis-network div.vis-manipulation div.vis-button:hover{box-shadow:1px 1px 8px rgba(0,0,0,.2)}div.vis-network div.vis-manipulation div.vis-button:active{box-shadow:1px 1px 8px rgba(0,0,0,.5)}div.vis-network div.vis-manipulation div.vis-button.vis-back{background-image:url(../src/js/../components/vis/dist/img/network/backIcon.png)}div.vis-network div.vis-manipulation div.vis-button.vis-none:hover{box-shadow:1px 1px 8px transparent;cursor:default}div.vis-network div.vis-manipulation div.vis-button.vis-none:active{box-shadow:1px 1px 8px transparent}div.vis-network div.vis-manipulation div.vis-button.vis-none{padding:0}div.vis-network div.vis-manipulation div.notification{margin:2px;font-weight:700}div.vis-network div.vis-manipulation div.vis-button.vis-add{background-image:url(../src/js/../components/vis/dist/img/network/addNodeIcon.png)}div.vis-network div.vis-edit-mode div.vis-button.vis-edit,div.vis-network div.vis-manipulation div.vis-button.vis-edit{background-image:url(../src/js/../components/vis/dist/img/network/editIcon.png)}div.vis-network div.vis-edit-mode div.vis-button.vis-edit.vis-edit-mode{background-color:#fcfcfc;border:1px solid #ccc}div.vis-network div.vis-manipulation div.vis-button.vis-connect{background-image:url(../src/js/../components/vis/dist/img/network/connectIcon.png)}div.vis-network div.vis-manipulation div.vis-button.vis-delete{background-image:url(../src/js/../components/vis/dist/img/network/deleteIcon.png)}div.vis-network div.vis-edit-mode div.vis-label,div.vis-network div.vis-manipulation div.vis-label{margin:0 0 0 23px;line-height:25px}div.vis-network div.vis-manipulation div.vis-separator-line{display:inline-block;width:1px;height:20px;background-color:#bdbdbd;margin:5px 7px 0 15px}div.vis-network div.vis-navigation div.vis-button{width:34px;height:34px;-moz-border-radius:17px;border-radius:17px;position:absolute;background-position:2px 2px;cursor:pointer;user-select:none}div.vis-network div.vis-navigation div.vis-button:hover{box-shadow:0 0 3px 3px rgba(56,207,21,.3)}div.vis-network div.vis-navigation div.vis-button:active{box-shadow:0 0 1px 3px rgba(56,207,21,.95)}div.vis-network div.vis-navigation div.vis-button.vis-up{background-image:url(../src/js/../components/vis/dist/img/network/upArrow.png);bottom:50px;left:55px}div.vis-network div.vis-navigation div.vis-button.vis-down{background-image:url(../src/js/../components/vis/dist/img/network/downArrow.png);bottom:10px;left:55px}div.vis-network div.vis-navigation div.vis-button.vis-left{background-image:url(../src/js/../components/vis/dist/img/network/leftArrow.png);bottom:10px;left:15px}div.vis-network div.vis-navigation div.vis-button.vis-right{background-image:url(../src/js/../components/vis/dist/img/network/rightArrow.png);bottom:10px;left:95px}div.vis-network div.vis-navigation div.vis-button.vis-zoomIn{background-image:url(../src/js/../components/vis/dist/img/network/plus.png);bottom:10px;right:15px}div.vis-network div.vis-navigation div.vis-button.vis-zoomOut{background-image:url(../src/js/../components/vis/dist/img/network/minus.png);bottom:10px;right:55px}div.vis-network div.vis-navigation div.vis-button.vis-zoomExtends{background-image:url(../src/js/../components/vis/dist/img/network/zoomExtends.png);bottom:50px;right:15px}div.vis-network-tooltip{position:absolute;visibility:hidden;padding:5px;white-space:nowrap;font-family:verdana;font-size:14px;font-color:#000;background-color:#f5f4ed;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;border:1px solid #808074;box-shadow:3px 3px 10px rgba(0,0,0,.2);pointer-events:none}div.vis-network-configuration{position:relative;display:block;float:left;font-size:12px}div.vis-network-configuration-wrapper{display:block;width:700px}div.vis-network-configuration.vis-option-container{display:block;width:495px;background-color:#fff;border:2px solid #f7f8fa;border-radius:4px;margin-top:20px;left:10px;padding-left:5px}div.vis-network-configuration.button{display:block;width:495px;height:25px;vertical-align:middle;line-height:25px;background-color:#f7f8fa;border:2px solid #ceced0;border-radius:4px;margin-top:20px;left:10px;padding-left:5px;cursor:pointer;margin-bottom:30px}div.vis-network-configuration.button.hover{background-color:#4588e6;border:2px solid #214373;color:#fff}div.vis-network-configuration.item{display:block;float:left;width:495px;height:25px;vertical-align:middle;line-height:25px}div.vis-network-configuration.item.s2{left:10px;background-color:#f7f8fa;padding-left:5px;border-radius:3px}div.vis-network-configuration.item.s3{left:20px;background-color:#e4e9f0;padding-left:5px;border-radius:3px}div.vis-network-configuration.item.s4{left:30px;background-color:#cfd8e6;padding-left:5px;border-radius:3px}div.vis-network-configuration.header{font-size:18px;font-weight:700}div.vis-network-configuration.label{width:120px;height:25px;line-height:25px}div.vis-network-configuration.label.s3{width:110px}div.vis-network-configuration.label.s4{width:100px}div.vis-network-configuration.colorBlock{top:1px;width:30px;height:19px;border:1px solid #444;border-radius:2px;padding:0;margin:0;cursor:pointer}input.vis-network-configuration.checkbox{left:-5px}input.vis-network-configuration.rangeinput{position:relative;top:-5px;width:60px;height:13px;padding:1px;margin:0;pointer-events:none}input.vis-network-configuration.range{-webkit-appearance:none;border:0 solid #fff;background-color:transparent;width:300px;height:20px}input.vis-network-configuration.range::-webkit-slider-runnable-track{width:300px;height:5px;background:#dedede;background:-moz-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#dedede),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-o-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:linear-gradient(to bottom,#dedede 0,#c8c8c8 99%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8', GradientType=0 );border:1px solid #999;box-shadow:#aaa 0 0 3px 0;border-radius:3px}input.vis-network-configuration.range::-webkit-slider-thumb{-webkit-appearance:none;border:1px solid #14334b;height:17px;width:17px;border-radius:50%;background:#3876c2;background:-moz-linear-gradient(top,#3876c2 0,#385380 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3876c2),color-stop(100%,#385380));background:-webkit-linear-gradient(top,#3876c2 0,#385380 100%);background:-o-linear-gradient(top,#3876c2 0,#385380 100%);background:-ms-linear-gradient(top,#3876c2 0,#385380 100%);background:linear-gradient(to bottom,#3876c2 0,#385380 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380', GradientType=0 );box-shadow:#111927 0 0 1px 0;margin-top:-7px}input.vis-network-configuration.range:focus{outline:0}input.vis-network-configuration.range:focus::-webkit-slider-runnable-track{background:#9d9d9d;background:-moz-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#9d9d9d),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:-o-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:linear-gradient(to bottom,#9d9d9d 0,#c8c8c8 99%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8', GradientType=0 )}input.vis-network-configuration.range::-moz-range-track{width:300px;height:10px;background:#dedede;background:-moz-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#dedede),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-o-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:linear-gradient(to bottom,#dedede 0,#c8c8c8 99%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8', GradientType=0 );border:1px solid #999;box-shadow:#aaa 0 0 3px 0;border-radius:3px}input.vis-network-configuration.range::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#385380}input.vis-network-configuration.range:-moz-focusring{outline:#fff solid 1px;outline-offset:-1px}input.vis-network-configuration.range::-ms-track{width:300px;height:5px;background:0 0;border-color:transparent;border-width:6px 0;color:transparent}input.vis-network-configuration.range::-ms-fill-lower{background:#777;border-radius:10px}input.vis-network-configuration.range::-ms-fill-upper{background:#ddd;border-radius:10px}input.vis-network-configuration.range::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#385380}input.vis-network-configuration.range:focus::-ms-fill-lower{background:#888}input.vis-network-configuration.range:focus::-ms-fill-upper{background:#ccc}div.vis-color-picker{position:absolute;margin-top:-140px;margin-left:30px;width:293px;height:425px;padding:10px;border-radius:15px;background-color:#fff;display:none;box-shadow:rgba(0,0,0,.5) 0 0 10px 0}div.vis-color-picker div.vis-arrow{position:absolute;top:147px;left:5px}div.vis-color-picker div.vis-arrow:after,div.vis-color-picker div.vis-arrow:before{right:100%;top:50%;border:solid transparent;content:\" \";height:0;width:0;position:absolute;pointer-events:none}div.vis-color-picker div.vis-arrow:after{border-color:rgba(255,255,255,0);border-right-color:#fff;border-width:30px;margin-top:-30px}div.vis-color-picker div.vis-color{position:absolute;width:289px;height:289px;cursor:pointer}div.vis-color-picker div.vis-brightness{position:absolute;top:313px}div.vis-color-picker div.vis-opacity{position:absolute;top:350px}div.vis-color-picker div.vis-selector{position:absolute;top:137px;left:137px;width:15px;height:15px;border-radius:15px;border:1px solid #fff;background:#4c4c4c;background:-moz-linear-gradient(top,#4c4c4c 0,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#4c4c4c),color-stop(12%,#595959),color-stop(25%,#666),color-stop(39%,#474747),color-stop(50%,#2c2c2c),color-stop(51%,#000),color-stop(60%,#111),color-stop(76%,#2b2b2b),color-stop(91%,#1c1c1c),color-stop(100%,#131313));background:-webkit-linear-gradient(top,#4c4c4c 0,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%);background:-o-linear-gradient(top,#4c4c4c 0,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%);background:-ms-linear-gradient(top,#4c4c4c 0,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%);background:linear-gradient(to bottom,#4c4c4c 0,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#4c4c4c', endColorstr='#131313', GradientType=0 )}div.vis-color-picker div.vis-initial-color,div.vis-color-picker div.vis-new-color{position:absolute;vertical-align:middle;width:140px;height:20px;top:380px;font-size:10px;color:rgba(0,0,0,.4);line-height:20px}div.vis-color-picker div.vis-new-color{border:1px solid rgba(0,0,0,.1);border-radius:5px;left:159px;text-align:right;padding-right:2px}div.vis-color-picker div.vis-initial-color{border:1px solid rgba(0,0,0,.1);border-radius:5px;left:10px;text-align:left;padding-left:2px}div.vis-color-picker div.vis-label{position:absolute;width:300px;left:10px}div.vis-color-picker div.vis-label.vis-brightness{top:300px}div.vis-color-picker div.vis-label.vis-opacity{top:338px}div.vis-color-picker div.vis-button{position:absolute;width:68px;height:25px;border-radius:10px;vertical-align:middle;text-align:center;line-height:25px;top:410px;border:2px solid #d9d9d9;background-color:#f7f7f7;cursor:pointer}div.vis-color-picker div.vis-button.vis-cancel{left:5px}div.vis-color-picker div.vis-button.vis-load{left:82px}div.vis-color-picker div.vis-button.vis-apply{left:159px}div.vis-color-picker div.vis-button.vis-save{left:236px}div.vis-color-picker input.vis-range{width:290px;height:20px}");